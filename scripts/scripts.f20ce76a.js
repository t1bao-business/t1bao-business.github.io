"use strict";angular.module("businessApp",["ngCookies","ngRoute","ngMap"]).config(["$routeProvider","$httpProvider",function(a,b){b.defaults.useXDomain=!0,b.defaults.withCredentials=!0,a.when("/",{templateUrl:"views/order/home.html",controller:"OrderCtrl"}).when("/user/feedback",{templateUrl:"views/user/feedback.html",controller:"UserCtrl"}).when("/user/home",{templateUrl:"views/user/home.html",controller:"UserCtrl"}).when("/user/home",{templateUrl:"views/user/home.html",controller:"UserCtrl"}).when("/user/login",{templateUrl:"views/user/login.html",controller:"UserCtrl"}).when("/user/register",{templateUrl:"views/user/register.html",controller:"UserCtrl"}).when("/user/profile",{templateUrl:"views/user/profile.html",controller:"UserCtrl"}).when("/user/password/retrieve",{templateUrl:"views/password/retrieve.html",controller:"UserCtrl"}).when("/user/password",{templateUrl:"views/user/password.html",controller:"UserCtrl"}).when("/user/dashboard",{templateUrl:"views/user/dashboard.html",controller:"UserCtrl"}).when("/merchandise/home",{templateUrl:"views/merchandise/home.html",controller:"MerchandiseCtrl"}).when("/merchandise/more",{templateUrl:"views/merchandise/more.html",controller:"MerchandiseCtrl"}).when("/merchandise/search",{templateUrl:"views/merchandise/search.html",controller:"MerchandiseCtrl"}).when("/merchandise/category/:id",{templateUrl:"views/merchandise/home.html",controller:"MerchandiseCtrl"}).when("/merchandise/add",{templateUrl:"views/merchandise/mobile-add.html",controller:"MerchandiseCtrl"}).when("/merchandise/edit/:id",{templateUrl:"views/merchandise/mobile-edit.html",controller:"MerchandiseCtrl"}).when("/grocery/home",{templateUrl:"views/grocery/home.html",controller:"GroceryCtrl"}).when("/grocery/edit",{templateUrl:"views/grocery/edit.html",controller:"GroceryCtrl"}).when("/grocery/location",{templateUrl:"views/grocery/location.html",controller:"GroceryCtrl"}).when("/barcode/list/:page",{templateUrl:"views/barcode/list.html",controller:"BarcodeCtrl"}).when("/barcode/home",{templateUrl:"views/barcode/home.html",controller:"BarcodeCtrl"}).when("/order/home",{templateUrl:"views/order/home.html",controller:"OrderCtrl"}).when("/order/more",{templateUrl:"views/order/more.html",controller:"OrderCtrl"}).when("/order/state/:state/:page",{templateUrl:"views/order/home.html",controller:"OrderCtrl"}).when("/subscribed/list/:page",{templateUrl:"views/subscribed/list.html",controller:"SubscribedCtrl"}).when("/category/:parent/list/:id",{templateUrl:"views/category/list.html",controller:"CategoryCtrl"}).when("/category/edit/:id",{templateUrl:"views/category/mobile-edit.html",controller:"CategoryCtrl"}).when("/category/add",{templateUrl:"views/category/mobile-new.html",controller:"CategoryCtrl"}).when("/category/search",{templateUrl:"views/category/search.html",controller:"CategoryCtrl"}).when("/category/home",{templateUrl:"views/category/home.html",controller:"CategoryCtrl"}).when("/pay",{templateUrl:"views/pay/main.html",controller:"PayCtrl"})}]),angular.module("businessApp").controller("UserCtrl",["$scope","$route","user","images",function(a,b,c,d){switch(a.$on("$includeContentLoaded",function(){a.module="user"}),b.current.$$route.originalPath){case"/user/login":case"/user/logout":case"/user/password/retrieve":case"/user/register":break;default:c.profile(a)}a.register=c.register,a.login=c.login,a.logout=c.logout,a.retrieve=c.password.retrieve,a.updatePassword=c.password.update,a.modify=function(){c.update(a)},a.fileChanged=function(){d.preview($("input[type=file][name=image]")[0].files,function(a){$("img[name=image-logo]").attr("src",a)})},a.feedback=function(){var a=new FormData($("form")[0]);c.feedback(a)}}]),angular.module("businessApp").service("map",function(){function a(a,b){b.addEventListener("dragend",function(){var c=b.getPosition();a.panTo(c),console.log(c),g instanceof Function&&g(c)})}function b(b,c){var d=new BMap.Point(c.longitude,c.latitude),e=new BMap.Marker(d);return b.addOverlay(e),a(b,e),e.enableDragging(),b.panTo(d),b.setCenter(d),b.setZoom(15),e}function c(){d=new BMap.Map("map");var c=new BMap.Point(116.404,39.915);e=new BMap.Marker(c),d.addOverlay(e),a(d,e),e.enableDragging(),navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(a){var c=a.coords;d.removeOverlay(e),e=b(d,c)},function(){console.log("insdie error")},{enableHighAcuracy:!0,timeout:5e3,maximumAge:3e3}),d.centerAndZoom(c,f),d.addControl(new BMap.NavigationControl),d.addControl(new BMap.ScaleControl),d.addControl(new BMap.MapTypeControl),d.addControl(new BMap.OverviewMapControl),d.setCurrentCity("北京"),d.enableScrollWheelZoom(!0)}var d,e,f=11,g=null;return{init:c,update:function(a){d.removeOverlay(e),e=b(d,a)},setCallback:function(a){g=a}}}),angular.module("businessApp").service("api",["url","$http","$location",function(a,b,c){function d(b){return a+g+b}function e(a,e,g,h){var i;i=e?e instanceof FormData?b.post(d(a),e,{withCredentials:!0,headers:{"Content-Type":void 0}}):b.post(d(a),e):b.post(d(a)),g=g||f,i.success(function(a){if("name"in a)switch(a.name){case"Success":h(a);break;case"NotLoggedIn":case"MerchantNotLoggedIn":case"UserNotLoggedIn":c.path(g);break;default:a.data?h(a):alert(a.message)}}).error(function(){if("user/profile"===a)c.path(g);else{var b="请求错误，请检测网络。";alert(b)}})}var f="user/login",g="grocery/";return{send:function(a,b,c){e(a,b,null,c)},upload:function(a,e,g){b.post(d(a),e,{withCredentials:!0,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(a){if("code"in a)if("code"in a&&!a.code)g(a);else switch(a.name){case"UserNotLogin":c.path(f);break;default:alert(a.message)}else;}).error(function(){c.path(f)})},success:function(a,b,c,d){e(a,b,function(a){return d?c(a):void("Success"===a.name&&c(a))})}}}]);var url="http://api.t1bao.com/";window.localStorage&&window.localStorage.getItem("url")&&(url=window.localStorage.getItem("url")),angular.module("businessApp").constant("url",url),angular.module("businessApp").service("modal",["$timeout",function(a){return{alert:function(b,c){$("#modal-alert").modal("show"),$(".modal-body",$("#modal-alert")).html(b),$(".ok",$("#modal-alert")).unbind(),$(".ok",$("#modal-alert")).click(function(){$("#modal-alert").modal("hide"),a(function(){c&&c()},1e3)})},confirm:function(b,c,d){$("#modal-confirm").modal("show"),$(".modal-body",$("#modal-confirm")).html(b),$(".ok",$("#modal-confirm")).unbind(),$(".cancel",$("#modal-confirm")).unbind(),$(".ok",$("#modal-confirm")).click(function(){$("#modal-confirm").modal("hide"),a(function(){c&&c()},1e3)}),$(".cancel",$("#modal-confirm")).click(function(){$("#modal-confirm").modal("hide"),a(function(){d&&d()},1e3)})},startProgress:function(a){$("#modal-progress").modal("show"),$(".note",$("#modal-progress")).html(a)},stopProgress:function(){$("#modal-progress").modal("hide")}}}]),angular.module("businessApp").controller("GroceryCtrl",["$scope","$route","$location","api","user","grocery",function(a,b,c,d,e,f){var g;switch(a.module="grocery",b.current.$$route.originalPath){case"/grocery/edit":case"/grocery/home":a.type="profile",f.profile(function(b){b&&(a.grocery=b)});break;case"/grocery/location":a.type="location",f.getMap(function(a){f.onMap(a,function(a){var b=a.lat(),c=a.lng();$(".latitude").html(b),$(".longitude").html(c),g=a})})}a.saveLocation=function(){if(g){var a={};a.latitude=g.lat(),a.longitude=g.lng(),a.altitude=1,a.accuracy=80,a.heading=3,a.speed=0,console.log(a),f.locationUpdate(a)}else alert("尚未指定坐标！")},a.modify=function(){var a=new FormData($("form.modify")[0]);console.log(a),f.update(a,function(a){a?(alert("更新成功!"),c.path("grocery/home")):alert("更新失败!")})},a.disableDelivery=function(){for(var b=["delivery_fee","delivery_limit","delivery_distance"],c=0;c<b.length;c++)a.grocery[b[c]]=0}}]),angular.module("businessApp").controller("NavCtrl",["$scope","$location","api","user",function(a,b,c,d){c.send("user/profile",null,function(b){b&&"code"in b&&"Success"===b.name&&(console.log(b),a.user=b.data,d.set(b.data))}),a.exit=function(){c.send("user/logout",null,function(a){a&&"code"in a&&"Success"===a.name&&b.path("user/login")})}}]),angular.module("businessApp").service("user",["$location","api",function(a,b){var c,d={set:function(a){c=a},get:function(){return c},profile:function(a){b.send("user/profile",{},function(b){"Success"===b.name&&(a.user=b.data)})},update:function(a){var c=new FormData($("form.modify")[0]);b.send("user/update",c,function(c){console.log(c),"Success"===c.name&&(alert("更新成功!"),b.send("user/profile",{},function(b){"Success"===b.name&&(a.user=b.data)}))})},login:function(){var c=new FormData($("form")[0]);b.send("user/login",c,function(b){"Success"===b.name&&a.path("user/home")})},logout:function(){b.send("user/logout",{},function(){a.path("user/login")})},feedback:function(c){b.send("user/feedback",c,function(b){"Success"===b.name?(alert("反馈成功!"),a.path("user/home")):alert("反馈失败! 原因："+b.message)})},register:function(){var c=new FormData($("form")[0]);b.send("user/register",c,function(b){console.log(b),"Success"===b.name&&(alert("注册成功!"),a.path("user/login"))})},password:{retrieve:function(){var a=new FormData($("form")[0]);b.send("password/retrieve",a,function(a){console.log(a),"Success"===a.name&&alert("密码重置成功!")})},update:function(){var a=new FormData($("form.password")[0]);b.send("password/update",a,function(a){console.log(a),"Success"===a.name&&(alert("密码修改成功，请用新密码重新登录！"),d.logout())})}}};return d}]),angular.module("businessApp").controller("MerchandiseCtrl",["$scope","$route","$location","api","storage","merchandise",function(a,b,c,d,e,f){function g(){return console.log(o),"merchandise/"+o+"/"+q+"/"+p}function h(b){switch(b){case"online":a.onlineString="上线";break;case"offline":a.onlineString="下线";break;case"all":default:a.onlineString="全部"}}function i(a){var b={page:a,category:0};switch(isNaN(o)||(b.category=o),q&&(b.order=q),p){case"online":b.online=!0;break;case"offline":b.online=!1}return b}function j(b){var c=i(b);f.list(c,function(b){b&&(a.merchandises=b.results,e.set("merchandises",b.results),a.total=b.total,a.page=b.page)})}function k(b,c){var d=i(c);d.q=b,console.log(d),f.query(d,function(b){b&&(a.merchandises=b.results,e.set("merchandises",b.results),a.total=b.total,a.page=b.page)})}function l(b,c){"undefined"!==b&&b?(a.q=b,k(b,n,c)):j(n,c)}var m="merchandise";a.type="merchandise";var n=parseInt(b.current.params.page)||0,o=parseInt(b.current.params.category),p=b.current.params.online,q=b.current.params.ordering,r=b.current.params.query;switch(a.page=0,a.total=0,a.base=g(),a.onlineString="全部",a.order=q,a.q=r,r&&(a.base=g()+"/q/"+encodeURIComponent(r)),console.log(b.current.$$route.originalPath),b.current.$$route.originalPath){case"/merchandise/more":a.type="more";break;case"/merchandise/home":case"/merchandise/search":break;case"/merchandise/category/:id":o=parseInt(b.current.params.id);break;case"/merchandise/add":break;case"/merchandise/edit/:id":var s=null;try{s=parseInt(b.current.params.id)}catch(t){s=0}var u=e.get("merchandises");if(console.log(u),!u)return o=0,void c.path(g()+"/list/1");for(var v=!1,w=0;w<u.length;w++)if(s===u[w].id){var x=u[w],y=x.merchandise;y.sis=x.sis,y.images=x.images,y.price=x.price,a.merchandise=y,console.log(a.merchandise),v=!0;break}if(!v)return o=0,void c.path(g()+"/list/1");break;default:if(isNaN(o))return o=0,void c.path(g()+"/list/"+n)}a.$on("$includeContentLoaded",function(){a.module=m;var b=i(n);b.page=n+1,f.initScroll(".merchandise-list",function(){},function(b){b&&b.results.length&&(a.merchandises=a.merchandises.concat(b.results),e.set("merchandises",a.merchandises),a.total=b.total,a.page=b.page)},b)}),(!n||1>n)&&(n=1),h(p),console.log(p),r=decodeURIComponent(r);var z=[{name:"价格",value:"price"},{name:"销量",value:"sells"},{name:"访问",value:"visits"}];for(a.orders=z,w=0;w<z.length;w++){var A=z[w];if(A.value===q){a.orderName=A.name;break}}d.send("category/list",{},function(b){if("Success"===b.name){a.categories=b.data.results;for(var c=0;c<a.categories.length;c++)o===a.categories[c].id&&(a.categoryName=a.categories[c].name);console.log(a.categories)}}),l(r),a.openAdd=function(){$(".add")[0].reset()},a.add=function(){var a=new FormData($("form.add")[0]);d.send("merchandise/add",a,function(a){switch(a.name){case"Success":switch($("#add").hide(),alert("添加成功！"),b.current.$$route.originalPath){case"/merchandise/add":return void c.path(g()+"/list/"+n)}j(n)}})},a.remove=function(a){confirm("确定要删除吗?操作不可恢复!")&&d.send("merchandise/remove",{id:a.merchandise.id},function(a){switch(a.name){case"Success":$("#add").hide(),alert("删除成功！"),j(n)}})},a.modify=function(){var a=new FormData($("form.modify")[0]);console.log(a),d.send("merchandise/update",a,function(a){console.log(a),"Success"===a.name&&(alert("更新成功!"),c.path("merchandise/home"),j(n))})},a.removeImage=function(a,b){console.log(a),console.log(b),confirm("确定要删除吗?操作不可恢复!")&&d.send("merchandise/image/remove",{mid:a,id:b},function(a){console.log(a),"Success"===a.name&&$(".merchandise-edit-image-"+b).remove()})},a.search=function(){console.log("search"),console.log("q = "+a.q),a.q?f.inputSearch(a.q,n,function(b){b&&(a.queries=b.results,a.total=b.total,a.page=b.page)}):(a.queries=[],a.total=0,a.page=0)},a.online=function(a){d.send("merchandise/online",{id:a.merchandise.id,online:!0},function(a){console.log(a),"Success"===a.name&&l(r,n)})},a.offline=function(a){d.send("merchandise/online",{id:a.merchandise.id,online:!1},function(a){console.log(a),"Success"===a.name&&l(r,n)})},a.selectCategory=function(b){console.log(b),b&&b.id?(a.category=b,o=b.id):(a.category=null,o=0),console.log(g()+"/list/"+n),c.path(g()+"/list/"+n)},a.back=function(){c.path(g()+"/list/"+n)},a.selectOrder=function(b){switch(a.order=b,b.value){case"sells":case"price":case"visits":q=b.value;break;default:q="none"}c.path(g()+"/list/"+n)},a.selectOnline=function(a){p=a,h(a),c.path(g()+"/list/"+n)}}]),angular.module("businessApp").controller("LocationCtrl",["$scope","modal","api","map",function(a,b,c,d){function e(a){d.update(a)}a.$on("$includeContentLoaded",function(){a.module="location",d.setCallback(e),d.init(),c.send("location/info",{},function(c){if(console.log(c),"Success"===c.name){var e=c.data;a.latitude=e.latitude,a.longitude=e.longitude,console.log(e),d.update(e)}else b.alert(c.message,function(){})}),a.save=function(){if(!a.latitude)return void b.alert("经度没有指定!",function(){});if(!a.longitude)return void b.alert("纬度没有指定!",function(){});var d={};d.latitude=a.latitude,d.longitude=a.longitude,d.altitude=1,d.accuracy=80,d.heading=3,d.speed=0,c.send("location/update",d,function(a){console.log(a),"Success"===a.name?b.alert("位置更新成功！",function(){}):b.alert(a.message,function(){})})}})}]),angular.module("businessApp").controller("BarcodeCtrl",["$route","$scope","api","barcode",function(a,b,c,d){function e(a){c.send("merchandise/list",{page:a},function(a){"Success"===a.name&&(b.merchandises=a.data.results,b.total=a.data.total,b.page=a.data.page)})}function f(a){d.list(a,function(a){a&&(b.barcodes=a.results,b.page=a.page,b.total=a.total)})}function g(){var a,d=1;b.openBind=function(b){d=1,a=b,console.log(b),e(d)},b.prev=function(){d>1&&d--,e(d)},b.next=function(){d++,e(d)},b.onSelectItem=function(a){b.merchandise=a.merchandise,b.merchandise.sis=a.sis,b.merchandise.images=a.images,console.log(a.merchandise)},b.bind=function(){console.log(a),c.send("barcode/bind",{barcode:a.barcode.id,merchandise:b.merchandise.id},function(a){switch(a.code){case"Success":$("#bindMerchandise").hide(),f(i)}})},b.unbind=function(a){c.send("barcode/unbind",{barcode:a.barcode.id},function(a){switch(a.code){case"Success":$("#bindMerchandise").hide(),f(i)}})}}var h="merchandise";b.type="barcode",b.page=0,b.total=0,b.base="barcode";var i=parseInt(a.current.params.page);b.$on("$includeContentLoaded",function(){b.module=h,console.log("inside barcode list"),d.initScroll(".barcode-list",function(){},function(a){a&&(b.barcodes=b.barcodes.concat(a.results),b.page=a.page,b.total=a.total)},2)}),f(i),b.openQuery=function(){b.queried=!1},b.query=function(){console.log("query"),b.queried=!1;var a=new FormData($("form.query")[0]);c.send("barcode/query",a,function(a){switch(console.log(a),b.queried=!0,a.name){case"NotFound":console.log("not found"),b.merchandise=a.data.merchandise;break;case"Success":console.log(a.data.merchandise),b.found=!0,b.merchandise=a.data.merchandise}f(i)})},b.remove=function(a){confirm("确定要删除吗?操作不可恢复!")&&c.send("barcode/remove",{id:a.id},function(b){switch(console.log(b),b.code){case"Success":$("barcode-remove-"+a.id).remove(),f(i)}})},g()}]),angular.module("businessApp").filter("currency",function(){return function(a){return a=parseFloat(a).toFixed(2),isNaN(a)&&(a=0),parseFloat(a).toFixed(2)}}),angular.module("businessApp").controller("OrderCtrl",["$scope","$route","$location","api","order",function(a,b,c,d,e){function f(b,c){return b?void console.error(c):(a.progressing=!1,a.orders=c.results,a.page=c.page,a.total=c.total,a.count=c.count,void(a.base="order"))}function g(b,c){a.progressing=!0,a.orders=null,e.list(f,b,o,c)}function h(a,b){e.query({no:a,page:b},f)}function i(a,b){var c={page:b,q:a};o&&(c[o]=!0),e.query(c,f)}function j(c,d){switch(d){case"CANCELLED":if(!confirm("你确定要取消订单吗？"))return}e.state({id:c,state:d},function(c,d){if(console.log(c,d),c)return alert(c),void b.reload();for(var e=0;e<a.orders.length;e++)if(d.id===a.orders[e].id){a.orders[e]=d;break}b.reload()})}var k=e.getStates();console.log(k);var l=e.getDays();a.states=k,a.days=l;var m=b.current.params||{},n=parseInt(m.page);(!n||1>n)&&(n=1);var o=m.state,p=m.q,q={page:n};o&&(q[o]=!0);for(var r=0;r<k.length;r++)k[r].value===o&&(a.stateName=k[r].name);switch(a.$on("$includeContentLoaded",function(){a.module="order",e.initScroll(".order-list",function(){},function(b,c){return b?void console.error(c):void(c.results.length&&(a.orders=a.orders.concat(c.results),a.page=c.page,a.total=c.total,a.count=c.count,a.base="order"))},n,o,l)}),b.current.$$route.originalPath){case"/order/home":a.type="accepted",o="CREATED|PAID",g(n);break;case"/order/more":a.type="more";break;case"/order/state/:state/:page":a.type=b.current.params.state,o="accepted"===a.type?"CREATED|PAID":a.type.toUpperCase(),"delivered"!==a.type&&"finished"!==a.type&&(a.type="more"),g(n);break;case"/order/list/:page":case"/order/:state/list/:page":g(n);break;case"/order/no/:q":case"/order/no/:q/:page":console.log("inside no"),h(p,n);break;case"/order/query/:q/:page":case"/order/:state/query/:q/:page":i(p,n)}a.cancel=function(a){d.send("order/cancel",{id:a.id},function(a){switch(console.log(a),a.name){case"Success":console.log(a),g(n)}})},a.query=function(){var b=a.q||$("#q").val();console.log(b),b&&(o?c.path("order/"+o+"/query/"+b+"/"+n):c.path("order/query/"+b+"/"+n))},a.no=function(){var b=a.q||$("#q").val();console.log("inside no"),console.log(b),b&&c.path("order/query/"+b+"/"+n)},a.back=function(){c.path("order/list/"+n)},a.selectState=function(a){a?c.path("order/"+a.value+"/list/1"):c.path("order/list/1")},a.selectDays=function(b){b?(a.dayName=b.name,g(n,b.value)):(a.dayName=null,g(n))},a.state=j,a.showTransState=function(a,b){return e.changeable(a.state,b,a.delivery,a.payment)},a.showState=function(a,b){return a.state===b},a.showDetail=function(a){console.log("showDetail");var b="#order-detail-"+a.no,c="#order-detail-show-"+a.no,d="#order-detail-hide-"+a.no;$(b).removeClass("hidden"),$(c).addClass("hidden"),$(d).removeClass("hidden")},a.hideDetail=function(a){console.log("hideDetail");var b="#order-detail-"+a.no,c="#order-detail-show-"+a.no,d="#order-detail-hide-"+a.no;$(b).addClass("hidden"),$(c).removeClass("hidden"),$(d).addClass("hidden")}}]),angular.module("businessApp").controller("SubscribedCtrl",["$scope","$route","api",function(a,b,c){a.$on("$includeContentLoaded",function(){a.module="subscribed",a.total=0,a.page=0,c.send("user/profile",null,function(b){b&&"code"in b&&"Success"===b.name&&(console.log(b),a.user=b.data)})});var d=parseInt(b.current.params.page);(!d||1>d)&&(d=1),c.send("subscribed/list",{page:d},function(b){switch(console.log(b),b.name){case"Success":a.subscibed=b.data.results,a.total=b.data.total,a.count=b.data.count,a.page=b.data.page}})}]),angular.module("businessApp").controller("CategoryCtrl",["$scope","$route","$location","api","storage","category",function(a,b,c,d,e,f){function g(b){f.list(b,function(b){a.categories=b.results,e.set("categories",a.categories),a.total=b.total,a.page=b.page})}a.type="category";var h=parseInt(b.current.params.page);switch((!h||1>h)&&(h=1),a.$on("$includeContentLoaded",function(){a.module="merchandise",f.initScroll(".category-list",function(){},function(b){b&&(a.categories=a.categories.concat(b.results),e.set("categories",a.categories),a.total=b.total,a.page=b.page)},h+1)}),b.current.$$route.originalPath){case"/category/home":g(h);break;case"/category/edit/:id":var i=null;try{i=parseInt(b.current.params.id)}catch(j){c.path("/category/0/list/"+h)}var k=e.get("categories");if(console.log(k),!k)return void c.path("/category/0/list/"+h);for(var l=!1,m=0;m<k.length;m++)if(i===k[m].id){a.category=k[m],console.log(a.category),l=!0;break}break;case"/category/add/":return;default:g(h)}a.openAdd=function(){$(".subcategory.add")[0].reset()},a.add=function(){var a=new FormData($("form.add")[0]);console.log(a),f.add(a)},a.openModify=function(b){a.category=b},a.remove=function(a){confirm("操作不可恢复，你确定要删除吗？")&&d.send("category/remove",{id:a.id},function(a){console.log(a),"Success"===a.name&&g(h)})},a.update=function(){var a=new FormData($("form.update")[0]);f.update(a)},a.search=function(){console.log("search"),console.log("q = "+a.q),a.q?f.inputSearch(a.q,h,function(b){b&&(a.queries=b.results,a.total=b.total,a.page=b.page)}):(a.queries=[],a.total=0,a.page=0)},a.online=function(a){d.send("category/online",{id:a.id,online:!0},function(b){console.log(b),"Success"===b.name&&(a.online=!0)})},a.offline=function(a){d.send("category/online",{id:a.id,online:!1},function(b){console.log(b),"Success"===b.name&&(a.online=!1)})}}]),angular.module("businessApp").filter("date",function(){return function(a){var b=new Date(a);return moment(b).format("YYYY-MM-DD hh:mm:ss")}}),angular.module("businessApp").service("storage",function(){var a={};return{set:function(b,c){a[b]=c,window.localStorage&&window.localStorage.setItem(b,JSON.stringify(c))},get:function(b){if(a[b])return a[b];if(window.localStorage){var c=window.localStorage.getItem(b);return c=JSON.parse(c)}}}}),angular.module("businessApp").controller("PayCtrl",["$scope","api",function(a,b){function c(){b.send("weixin/config/get",{},function(b){console.log(b),a.weixin=b.data})}a.$on("$includeContentLoaded",function(){a.module="pay"}),$(".nav > li > a").click(function(a){var b=$(this).attr("aria-controls");console.log(b),a.preventDefault(),$(".tab-pane").removeClass("active"),$("[name="+b+"]").addClass("active")}),a.weixinSet=function(){var a=new FormData($("form.weixin")[0]);console.log(a),b.send("weixin/config/set",a,function(a){console.log(a)})},c()}]),angular.module("businessApp").controller("NewCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("businessApp").service("order",["api","scroll",function(a,b){var c=[{name:"新订单",value:"CREATED"},{name:"已经付款",value:"PAID"},{name:"已经接受",value:"ACCEPTED"},{name:"已经发货",value:"DELIVERED"},{name:"已经签收",value:"RECEIVED"},{name:"已经评价",value:"COMMENTED"},{name:"已取消",value:"CANCELLED"},{name:"已经完成",value:"FINISHED"}],d=[{name:"今天",value:1},{name:"一星期内",value:7},{name:"10天内",value:10},{name:"30天内",value:30},{name:"3个月内",value:90},{name:"6个月内",value:180},{name:"1年内",value:365}];return{getStates:function(){return c},getDays:function(){return d},initScroll:function(a,c,d,e,f,g){var h=!1,i=this;console.log("sindie scroll"),console.log(a),b.bottom(a,function(){h||(c(),e++,i.list(d,e,f,g))})},list:function(b,c,d,e){var f={page:c};d&&(f.state=d),e&&!isNaN(e)&&(f.days=e),console.log(f),a.send("order/list",f,function(a){switch(console.log(a),a.name){case"Success":b(!1,a.data);break;default:b(!0)}})},query:function(b,c){b.no&&(b.q=b.no,delete b.no),a.send("order/query",b,function(a){switch(a.name){case"Success":c(!1,a.data);break;default:c(!0)}})},state:function(b,c){a.send("order/state",b,function(a){switch(console.log(a),a.name){case"Success":c(!1,a.data);break;default:c(!0)}})},changeable:function(a,b,c,d){var e={CREATED:["PAID","CANCELLED"],PAID:["ACCEPTED","CANCELLED"],ACCEPTED:["RECEIVED","CANCELLED"],DELIVERED:["RECEIVED","CANCELLED"],RECEIVED:["COMMENTED","FINISHED"],COMMENTED:["FINISHED"]};return"self"===c?e.ACCEPTED=["RECEIVED","CANCELLED"]:e.ACCEPTED=["DELIVERED","CANCELLED"],"onsite"===d&&(e.CREATED=["ACCEPTED","CANCELLED"]),e[a]&&-1!==e[a].indexOf(b)?!0:!1}}}]),angular.module("businessApp").filter("payment",function(){return function(a){switch(a){case"online":return"在线支付";case"onsite":return"货到付款";default:return"不明错误"}}}),angular.module("businessApp").filter("delivery",function(){return function(a){switch(a){case"self":return"自提";case"express":return"快递";default:return"不明错误"}}}),angular.module("businessApp").service("merchandise",["api","scroll",function(a,b){var c=null;return{initScroll:function(a,c,d,e){var f=!1,g=this;console.log("sindie scroll"),console.log(a),b.bottom(a,function(){f||(c(),e.page++,g.list(e,function(a){a.results.length<1&&(f=!0),d(a)}))})},list:function(b,c){a.send("merchandise/list",b,function(a){"Success"===a.name?c(a.data):c()})},query:function(b,c){a.send("merchandise/query",b,function(a){"Success"===a.name?c(a.data):c()})},add:function(b,c){a.send("merchandise/add",b,function(a){switch(a.name){case"Success":alert("添加成功！")}c()})},inputSearch:function(a,b,d){function e(){f.query(g,d)}var f=this,g={q:a};c&&clearTimeout(c),c=setTimeout(e,3e3)}}}]),angular.module("businessApp").service("category",["api","$location","scroll",function(a,b,c){var d;return{list:function(b,c){a.send("category/list",{page:b},function(a){"Success"===a.name?c(a.data):c()})},add:function(c){a.send("category/create",c,function(a){"Success"===a.name?(alert("添加成功！"),b.path("category/home")):alert("添加失败！ 原因："+a.message)})},update:function(c){a.send("category/update",c,function(a){console.log(a),"Success"===a.name?(alert("修改成功！"),b.path("category/home")):alert("修改失败！ 原因："+a.message)})},query:function(b,c){a.send("category/query",b,function(a){"Success"===a.name?c(a.data):c()})},inputSearch:function(a,b,c){function e(){f.query(g,c)}var f=this,g={q:a};d&&clearTimeout(d),d=setTimeout(e,3e3)},initScroll:function(a,b,d,e){var f=!1,g=this;console.log("sindie scroll"),console.log(a),c.bottom(a,function(){f||(b(),g.list(e++,function(a){a.results.length<1&&(f=!0),d(a)}))})}}}]),angular.module("businessApp").service("barcode",["api","scroll",function(a,b){return{list:function(b,c){a.send("barcode/list",{page:b},function(a){"Success"===a.name?c(a.data):c()})},initScroll:function(a,c,d,e){var f=!1,g=this;console.log("sindie scroll"),console.log(a),b.bottom(a,function(){f||(c(),g.list(e++,function(a){a.results.length<1&&(f=!0),d(a)}))})}}}]),angular.module("businessApp").service("grocery",["api","NgMap",function(a,b){function c(a){return function(b){"Success"===b.name?a(b.data):a()}}var d,e,f=!1;return{profile:function(b){a.send("store/profile",{},c(b))},update:function(b,d){a.send("store/update",b,c(d))},marker:null,locationUpdate:function(b){a.send("location/update",b,function(a){"Success"===a.name?alert("位置更新成功！"):alert(a.message)})},getMap:function(a){function c(){b.getMap().then(function(b){f||(f=!0,a(b),clearInterval(e))})}e=setInterval(c,1e3)},onMap:function(a,b){if(!d){var c=new google.maps.LatLng(34.7,98.2);d=new google.maps.Marker({map:a,position:c}),d.setMap(a)}google.maps.event.addListener(a,"click",function(a){console.log(a.latLng),console.log(a.latLng.lat()),console.log(a.latLng.lng()),d.setPosition(a.latLng),b(a.latLng)})}}}]),angular.module("businessApp").service("images",function(){return{preview:function(a,b){function c(a){var c=new FileReader;c.readAsDataURL(a),c.onload=function(a){b(a.target.result)}}if(a)for(var d=0;d<a.length;d++)c(a[d])}}}),angular.module("businessApp").service("scroll",function(){return{bottom:function(a,b){console.log("inside on scroll"),console.log("selector:"+a),$(a).unbind(),$(a).on("scroll",function(){console.log("inside on scroll");var a=this.scrollHeight-this.scrollTop,c=this.clientHeight;a===c&&b&&b(this.scrollTop)})}}}),angular.module("businessApp").run(["$templateCache",function(a){a.put("views/about.html",'<div class="footer container"> <h4 class="text-center">&copy; 北京田一块网络科技有限公司</h4> </div>'),a.put("views/barcode/bindMerchandise.html",'<div class="modal fade" id="bindMerchandise" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">绑定商品</h3> </div> <div class="modal-body"> <form class="form-horizontal barcode bind" role="form" enctype="multipart/form-data"> <div class="form-group"> <label class="col-sm-2 control-label">选择商品</label> <div class="col-sm-10"> <div class="dropdown"> <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-expanded="true"> 选择: <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1"> <li role="presentation" ng-repeat="sm in merchandises" ng-click="onSelectItem(sm)">{{sm.merchandise.name}}</li> </ul> </div> <button type="button" class="btn btn-default" ng-click="prev()"> 上一页 </button> <button type="button" class="btn btn-default" ng-click="next()">下一页 </button> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">商品名称<span>*</span></label> <div class="col-sm-10"> <p>{{merchandise.name}}</p> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">介绍</label> <div class="col-sm-10"><p>{{merchandise.desc || merchandise.intro}}</p> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">品牌</label> <div class="col-sm-10"> <p>{{merchandise.brand}}</p> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">图片</label> <div class="col-sm-10"> <span ng-repeat="image in merchandise.images" class="imgs{{merchandise.sis[$index]}}"><a ng-href="{{image.url}}" target="_blank"><img ng-src="{{image.url}}" alt="{{image.hash}}" height="50px"></a>&nbsp;</span> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="bind()">绑定 </button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <!-- /.modal -->'),a.put("views/barcode/desktop-list.html",'<table class="table table-striped text-center"> <tr> <th>ID</th> <th>条码格式</th> <th>条码代码</th> <th>商品名</th> <th>品牌</th> <th>描述/介绍</th> <th>审核状态</th> <th>图片</th> <th>操作</th> </tr> <tr ng-repeat="barcode in barcodes track by $index" class="barcode-remove-{{barcode.id}}"> <td>{{barcode.barcode.id}}</td> <td>{{barcode.barcode.format}}</td> <td>{{barcode.barcode.code}}</td> <td>{{barcode.merchandise?barcode.merchandise.name: \'尚未关联商品\'}}</td> <th>{{barcode.merchandise?barcode.merchandise.brand: \'尚未关联商品\'}}</th> <th>{{barcode.merchandise?barcode.merchandise.desc: \'尚未关联商品\'}}</th> <td>{{barcode.approved ? \'审核通过\' : \'\'}} <button class="btn btn-default btn-xs" ng-show="!barcode.approved" ng-click="openModify(barcode)">请求审核 </button> </td> <td><span ng-repeat="image in barcode.barcode.images" class="img-id-{{barcode.barcode.sis[$index]}}"><a ng-href="{{image.url}}" target="_blank"><img ng-src="{{image.url}}" alt="{{image.hash}}" height="50px"></a>&nbsp;</span> </td> <td> <button class="btn btn-warning" ng-show="!barcode.online" ng-click="online(barcode);$event.stopPropagation()">上线 </button> <button class="btn btn-success" ng-show="barcode.online" ng-click="offline(barcode);$event.stopPropagation()">下线 </button> <button class="btn btn-info" data-toggle="modal" data-target="#bindMerchandise" ng-click="openBind(barcode)" ng-show="!barcode.bound">绑定 </button> <button class="btn btn-info" ng-click="unbind(barcode)" ng-show="barcode.bound">解除绑定 </button> <!--<button class="btn btn-info" data-toggle="modal"--> <!--data-target="#addMerchandise"--> <!--ng-click="openModify(barcode)">添加商品--> <!--</button>--> <button class="btn btn-danger" ng-click="remove(barcode);$event.stopPropagation()">删除</button> </td> </tr> </table>'),
a.put("views/barcode/edit.html",'<div class="modal fade" id="modify" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改条码</h3> </div> <div class="modal-body"> <form class="form-horizontal barcode modify" role="form" enctype="multipart/form-data"> <input type="hidden" name="id" value="{{barcode.id}}" ng-model="barcode.id"> <div class="form-group"> <label for="mod-name" class="col-sm-2 control-label">条码名称<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod-name" name="name" placeholder="请输入条码名称" ng-model="barcode.name"> </div> </div> <div class="form-group"> <label for="mod-desc" class="col-sm-2 control-label">介绍</label> <div class="col-sm-10"> <textarea class="form-control" rows="3" id="mod-desc" name="desc" placeholder="请输入介绍信息" ng-model="barcode.desc"></textarea> </div> </div> <div class="form-group"> <label for="mod-brand" class="col-sm-2 control-label">品牌</label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod-brand" name="brand" placeholder="请输入品牌" ng-model="barcode.brand"> </div> </div> <div class="form-group"> <label for="mod-file" class="col-sm-2 control-label">图片</label> <div class="col-sm-10"> <img ng-repeat="image in barcode.images track by $index" ng-src="{{image.url}}" class="barcode-edit-image-{{barcode.sis[$index]}}" ng-click="removeImage(barcode.sis[$index])" height="80px" style="padding: 2px"> <input type="file" class="form-control" id="mod-file" name="image" placeholder="请选择图片"> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="modify()">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-default" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div>'),a.put("views/barcode/home.html",'<div class="header-bar"> <div class="container"> <div class="row"> <div class="col-md-3 col-xs-2"> <!-- <a ng-href="#/barcode/add">\n          <i class="fa fa-plus"></i>\n        </a> --> </div> <div class="col-md-6 col-xs-8">条码库</div> <div class="col-md-3 col-xs-2"> <!-- <a ng-href="#/barcode/search"> <i class="fa fa-search"></i> </a> --> </div> </div> </div> </div> <div class="body-bar"> <div class="tab-bar"> <div class="row"> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'merchandise\'}"> <p> <a href="#/merchandise/home"> 商品 </a> </p> </div> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'category\'}"> <p> <a href="#/category/home"> 分类 </a></p> </div> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'barcode\'}"> <p> <a href="#/barcode/home"> 条码库 </a> </p> </div> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'more\'}"> <p> <a href="#/merchandise/more"> 更多 </a> </p> </div> </div> </div> <div ng-include src="\'views/barcode/mobile-list.html\'" class="tab-body-bar barcode-list margin-top"></div> </div> <div ng-include src="\'views/footer.html\'"></div>'),a.put("views/barcode/list.html",'<div ng-include src="\'views/navbar.html\'"></div> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'views/sidebar.html\'"></div> </div> </div> <div class="col-md-10"> <div class="row mini-header"> <h4 class="text-center">条码管理 <form class="navbar-form form-controller navbar-right hidden-xs"> <p> <a class="btn btn-primary" data-toggle="modal" data-target="#query" ng-click="openQuery()"> 查询条码</a> </p> </form> </h4> </div> <div class="row mobile-main"> <div class="row hidden-xs" ng-include src="\'views/barcode/desktop-list.html\'"></div> <div class="mobile-list visible-xs" ng-include src="\'views/barcode/mobile-list.html\'"></div> </div> <div ng-include src="\'views/pagination.html\'"></div> </div> </div> </div> <div ng-include src="\'views/barcode/bindMerchandise.html\'"></div> <div ng-include src="\'views/barcode/edit.html\'"></div> <div ng-include src="\'views/barcode/query.html\'"></div> <div ng-include src="\'views/modal.html\'"></div> '),a.put("views/barcode/mobile-list.html",'<div class="list" ng-repeat="barcode in barcodes track by $index" class="barcode-remove-{{barcode.id}}"> <div class="list-text-item"><span>ID:</span>{{barcode.barcode.id}}</div> <div class="list-text-item"><span>条码格式:</span>{{barcode.barcode.format}}</div> <div class="list-text-item"><span>条码值:</span>{{barcode.barcode.code}}</div> <!-- \n  <div class="list-text-item"><span>商品名:</span>{{barcode.merchandise?barcode.merchandise.name: \'尚未关联商品\'}}</div>\n  <div class="list-text-item"><span>品牌:</span>{{barcode.merchandise?barcode.merchandise.brand: \'尚未关联商品\'}}</div>\n  <div class="list-text-item"><span>描述/介绍:</span>{{barcode.merchandise?barcode.merchandise.desc: \'尚未关联商品\'}}</div>\n  <div class="list-text-item"><span>审核状态:</span>{{barcode.approved ? \'审核通过\' : \'\'}}\n    <button class="btn btn-default btn-xs" ng-show="!barcode.approved"\n            ng-click="openModify(barcode)">请求审核\n    </button>\n  </div>\n\n  <div class="list-text-item"><span>图片:</span><a ng-repeat="image in barcode.barcode.images"\n                class="img-id-{{barcode.barcode.sis[$index]}}"\n    ng-href="{{image.url}}" target="_blank"><img\n    ng-src="{{image.url}}" alt="{{image.hash}}" height="50px"/></a>&nbsp;\n  </div>\n  <div class="list-text-item">\n    <button class="btn btn-warning" ng-show="!barcode.online"\n            ng-click="online(barcode);$event.stopPropagation()">上线\n    </button>\n    <button class="btn btn-success" ng-show="barcode.online"\n            ng-click="offline(barcode);$event.stopPropagation()">下线\n    </button>\n    <button class="btn btn-info" data-toggle="modal"\n            data-target="#bindMerchandise"\n            ng-click="openBind(barcode)" ng-show="!barcode.bound">绑定\n    </button>\n    <button class="btn btn-info"\n            ng-click="unbind(barcode)" ng-show="barcode.bound">解除绑定\n    </button>\n    <button class="btn btn-info">添加\n    </button>\n    <button class="btn btn-danger" ng-click="remove(barcode);$event.stopPropagation()">删除</button>\n  </div> --> </div>'),a.put("views/barcode/new.html",'<div class="modal fade" id="add" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">添加条码</h3> </div> <div class="modal-body"> <form class="form-horizontal barcode add" role="form" enctype="multipart/form-data"> <div class="form-group"> <label for="barcode_id" class="col-sm-2 control-label">选择条码</label> <div class="col-sm-10"> <select name="barcode_id" id="barcode_id"> <option ng-repeat="barcode in barcodes track by $index" value="barcode.id">{{barcode.name}}</option> </select> </div> </div> <div class="form-group"> <label for="desc" class="col-sm-2 control-label">介绍</label> <div class="col-sm-10"><textarea class="form-control" rows="3" id="desc" ng-model="desc" name="desc" placeholder="请输入介绍信息"></textarea> </div> </div> <div class="form-group"> <label for="brand" class="col-sm-2 control-label">品牌</label> <div class="col-sm-10"> <input type="text" class="form-control" id="brand" name="brand" placeholder="请输入品牌"> </div> </div> <div class="form-group"> <label for="file" class="col-sm-2 control-label">图片</label> <div class="col-sm-10"> <input type="file" class="form-control" id="file" name="image" placeholder="请添加相关图片" multiple> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="add()">添加</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <!-- /.modal -->'),a.put("views/barcode/query.html",'<div class="modal fade" id="query" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">查询条码</h3> </div> <div class="modal-body"> <form class="form-horizontal barcode query" role="form" enctype="multipart/form-data"> <div class="form-group"> <label for="code" class="col-sm-4 control-label">输入条码编码</label> <div class="col-sm-8"><input type="text" name="code" id="code"> </div> </div> <div class="form-group"> <label for="format" class="col-sm-4 control-label">输入条码格式</label> <div class="col-sm-8"><input type="text" name="format" id="format"> </div> </div> <div class="form-group" ng-show="queried"> <label for="format" class="col-sm-4 control-label">查询结果：</label> <div class="col-sm-8" ng-show="found"> <p class="form-control-static"> <ul> <li> <label>商品名：</label> <span>{{merchandise.name}}</span> </li> <li> <label>商品图片：</label> <span>{{merchandise.image}}</span> </li> <li> <label>商品描述：</label> <span>{{merchandise.desc}}</span> </li> </ul> </p> </div> <div class="col-sm-8" ng-show="!found"> <p class="form-control-static"> <div class="alert alert-danger col-sm-6 text-center" role="alert">没有找到相关商品！ </div> </p> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="query()">查询 </button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <!-- /.modal -->'),a.put("views/category/desktop-list.html",'<table class="table table-striped text-center hidden-xs"> <tr> <th>ID</th> <th>类名</th> <th>序号</th> <!--\n    <th>子类列表</th>\n    <th>图片</th>\n    --> <th>操作</th> </tr> <tr ng-repeat="category in categories track by $index"> <td>{{category.id}}</td> <td>{{category.name}}</td> <td>{{category.order || ""}}</td> <td> <button class="btn btn-warning" ng-show="!category.online" ng-click="online(category);$event.stopPropagation()">上线 </button> <button class="btn btn-success" ng-show="category.online" ng-click="offline(category);$event.stopPropagation()">下线 </button> <button class="btn btn-warning" data-toggle="modal" data-target="#modify" ng-click="openModify(category)">修改 </button> <button class="btn btn-danger" ng-click="remove(category);$event.stopPropagation()">删除</button> </td> </tr> </table>'),a.put("views/category/edit.html",'<div class="modal fade" id="modify" tableindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改分类</h3> </div> <div class="modal-body"> <form class="form-horizontal category update" role="form" enctype="multipart/form-data"> <input type="hidden" name="id" value="{{category.id}}" ng-model="category.id"> <div class="form-group"> <label for="mod-name" class="col-sm-2 control-label">分类名称<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod-name" name="name" ng-model="category.name"> </div> </div> <div class="form-group"> <label for="order" class="col-sm-2 control-label">分类序号<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="order" name="order" placeholder="请输入分类排序号" ng-model="category.order"> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="update()">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-default" data-dismiss="modal">返回</button> </div> </div> </div> </div>'),a.put("views/category/home.html",'<div class="header-bar"> <div class="container"> <div class="row"> <div class="col-md-3 col-xs-2"> <a ng-href="#/category/add"> <i class="fa fa-plus"></i> </a> </div> <div class="col-md-6 col-xs-8">分类</div> <div class="col-md-3 col-xs-2"> <a ng-href="#/category/search"> <i class="fa fa-search"></i> </a> &nbsp; </div> </div> </div> </div> <div class="body-bar"> <div class="tab-bar"> <div class="row"> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'merchandise\'}"> <p> <a href="#/merchandise/home"> 商品 </a> </p> </div> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'category\'}"> <p> <a href="#/category/home"> 分类 </a></p> </div> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'barcode\'}"> <p> <a href="#/barcode/home"> 条码库 </a> </p> </div> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'more\'}"> <p> <a href="#/merchandise/more"> 更多 </a> </p> </div> </div> </div> <div ng-include src="\'views/category/mobile-list.html\'" class="tab-body-bar category-list margin-top"></div> </div> <div ng-include src="\'views/footer.html\'"></div>'),a.put("views/category/list.html",'<div ng-include src="\'views/navbar.html\'"></div> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'views/sidebar.html\'"></div> </div> </div> <div class="col-md-10"> <div class="row mini-header"> <h4 class="text-center">分类管理 <form class="navbar-form form-controller navbar-right hidden-xs"> <p><a class="btn btn-primary" data-toggle="modal" data-target="#add" ng-click="openAdd()">添加分类</a></p> </form> </h4> </div> <!--<div class="row">--> <!--<div class="col-md-6">--> <!--<h4>--> <!--&lt;!&ndash;--> <!--<ol class="breadcrumb">--> <!--<a ng-href="#/dashboard/category/0/list/1" class="">根类</a>--> <!--<span ng-repeat="parent in parents track by $index">&nbsp;&raquo;&nbsp;<a ng-show="$index < parents.length - 1" ng-href="#/dashboard/category/{{ parent.id }}/list/1"--> <!--class="text-primary">{{parent.name}}</a>--> <!--<i ng-show="$index == parents.length - 1">{{parent.name}}</i></span>--> <!--</ol>--> <!--&ndash;&gt;--> <!--</h4>--> <!--</div>--> <!--</div>--> <div class="row mobile-main"> <div class="mobile-list visible-xs" ng-include src="\'views/category/mobile-list.html\'"></div> <div class="hidden-xs" ng-include src="\'views/category/desktop-list.html\'"></div> <p class="visible-xs"> <a class="btn btn-default btn-clr-blue" href="#/category/add">添加分类</a> </p> </div> <div ng-include src="\'views/pagination.html\'"></div> </div> </div> </div> <div ng-include src="\'views/category/new.html\'"></div> <div ng-include src="\'views/category/edit.html\'"></div> <div ng-include src="\'views/modal.html\'"></div>'),a.put("views/category/mobile-edit.html",'<div class="header-bar"> <div class="container"> <div class="row"> <div class="col-md-3 col-xs-2"> <a href="#/category/home"> <i class="fa fa-arrow-left"></i> </a> </div> <div class="col-md-6 col-xs-8">分类修改</div> <div class="col-md-3 col-xs-2"></div> </div> </div> </div> <div class="body-bar"> <div class="container"> <div class="row"> <div class="col-md-12 col-xs-12 col-lg-12"> <form class="form-horizontal category update" role="form" enctype="multipart/form-data"> <input type="hidden" name="id" value="{{category.id}}" ng-model="category.id"> <div class="form-group android-list"> <label for="mod-name" class="col-sm-2 control-label">分类名称 <span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod-name" name="name" ng-model="category.name"> </div> </div> <div class="form-group android-list"> <label for="order" class="col-sm-2 control-label">分类序号 <span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="order" name="order" placeholder="请输入分类排序号" ng-model="category.order"> </div> </div> <div class="form-group android-list no-line"> <div class="col-xs-12 text-center"> <button type="button" class="btn btn-danger btn-block" ng-click="update()">修改</button> </div> </div> </form> </div> </div> </div> </div> <div ng-include src="\'views/footer.html\'"></div>'),a.put("views/category/mobile-list.html",'<div class="list" ng-repeat="category in categories track by $index"> <div class="list-text-item"><span>ID:</span>{{category.id}}</div> <div class="list-text-item"><span>分类名:</span>{{category.name || ""}}</div> <div class="list-text-item"><span>排序号:</span>{{category.order || ""}}</div> <div class="list-text-item"> <button class="btn btn-warning" ng-show="!category.online" ng-click="online(category);$event.stopPropagation()">上线 </button> <button class="btn btn-success" ng-show="category.online" ng-click="offline(category);$event.stopPropagation()">下线 </button> <a class="btn btn-info" href="#/category/edit/{{category.id}}">修改 </a> <button class="btn btn-danger" ng-click="remove(category);$event.stopPropagation()">删除</button> </div> </div>'),a.put("views/category/mobile-new.html",'<div class="header-bar"> <div class="container"> <div class="row"> <div class="col-md-3 col-xs-2"> <a href="#/category/home"> <i class="fa fa-arrow-left"></i> </a> </div> <div class="col-md-6 col-xs-8">添加分类</div> <div class="col-md-3 col-xs-2"></div> </div> </div> </div> <div class="body-bar"> <div class="container"> <div class="row"> <div class="col-md-12 col-xs-12 col-lg-12"> <form class="form-horizontal subcategory add" role="form" enctype="multipart/form-data"> <input type="hidden" name="id" ng-model="id" value="{{id}}"> <div class="form-group android-list"> <label for="name" class="col-sm-2 control-label">分类名称<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="name" name="name" placeholder="请输入分类名称" ng-model="name"> </div> </div> <div class="form-group android-list"> <label for="order" class="col-sm-2 control-label">分类序号<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="order" name="order" placeholder="请输入分类排序号" ng-model="order"> </div> </div> <div class="form-group android-list no-line"> <div class="col-xs-12 text-center"> <button type="button" class="btn btn-danger btn-block" ng-click="add()">添加</button> </div> </div> </form> </div> </div> </div> </div> <div ng-include src="\'views/footer.html\'"></div>'),a.put("views/category/new.html",'<div class="modal fade" id="add" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">添加分类</h3> </div> <div class="modal-body"> <form class="form-horizontal subcategory add" role="form" enctype="multipart/form-data"> <input type="hidden" name="id" ng-model="id" value="{{id}}"> <div class="form-group"> <label for="name" class="col-sm-2 control-label">分类名称<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="name" name="name" placeholder="请输入分类名称" ng-model="name"> </div> </div> <div class="form-group"> <label for="order" class="col-sm-2 control-label">分类序号<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="order" name="order" placeholder="请输入分类排序号" ng-model="order"> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="add()">添加</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <!-- /.modal -->'),a.put("views/category/search-list.html",'<div class="list" ng-repeat="category in queries track by $index"> <div class="list-text-item"><span>ID:</span>{{category.id}}</div> <div class="list-text-item"><span>分类名:</span>{{category.name || ""}}</div> <div class="list-text-item"><span>排序号:</span>{{category.order || ""}}</div> <div class="list-text-item"> <button class="btn btn-warning" ng-show="!category.online" ng-click="online(category);$event.stopPropagation()">上线 </button> <button class="btn btn-success" ng-show="category.online" ng-click="offline(category);$event.stopPropagation()">下线 </button> <a class="btn btn-info" href="#/category/edit/{{category.id}}">修改 </a> <button class="btn btn-danger" ng-click="remove(category);$event.stopPropagation()">删除</button> </div> </div>'),a.put("views/category/search.html",'<div class="header-bar"> <div class="container"> <div class="row"> <div class="col-md-3 col-xs-2"> <a href="#/category/home"> <i class="fa fa-arrow-left"></i> </a> </div> <div class="col-md-6 col-xs-8">分类搜索</div> <div class="col-md-3 col-xs-2"></div> </div> </div> </div> <div class="body-bar"> <div class="container"> <div class="row"> <div class="col-md-12 col-xs-12 col-lg-12"> <div class="search"> <input type="text" placeholder="请输入要搜索的分类名" id="q" ng-model="q" ng-change="search()"> <a class="btn btn-color-egg-red" ng-click="search()">搜索</a> </div> </div> </div> </div> <div ng-include src="\'views/category/search-list.html\'"></div> </div> <div ng-include src="\'views/footer.html\'"></div>'),a.put("views/clerk/activity.html",'<nav class="navbar navbar-default" role="navigation"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <a class="navbar-brand" href="">颐佳科技</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" name="q" class="form-control" placeholder="搜索"> </div> <button type="submit" class="btn btn-default" ng-click="search()">搜索</button> </form> <form class="navbar-form navbar-right"> <a class="btn btn-primary" data-toggle="modal" data-target="#add" ng-click="openAdd()"> 添加活动</a> <a class="btn btn-default" data-toggle="modal" ng-click="exit()">退出</a> </form> </div> <!-- /.navbar-collapse --> </div> <!-- /.container-fluid --> </nav> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'templates/clerk/side.html\'"></div> </div> </div> <div class="col-md-10"> <h2 style="text-align: center;margin-top: 0px">活动管理</h2> <table class="table table-striped text-center"> <tr> <th>ID</th> <th>活动</th> <th>标签</th> <th>介绍</th> <th>注意事项</th> <th>开始时间</th> <th>结束时间</th> <th>截止时间</th> <th>费用</th> <th>费用说明</th> <th>图片</th> <th>操作</th> </tr> <tr ng-repeat="activity in activities track by $index"> <td>{{activity.id}}</td> <td>{{activity.name}}</td> <td>{{activity.tags}}</td> <td>{{activity.intro}}</td> <td>{{activity.notice}}</td> <td>{{activity.start_time | iso_date}}</td> <td>{{activity.end_time | iso_date}}</td> <td>{{activity.deadline | iso_date}}</td> <td>{{activity.cost}}</td> <td>{{activity.cost_detail}}</td> <td><span ng-repeat="image in activity.images" class="imgs{{activity.sis[$index]}}"><a ng-href="{{image.url}}" target="_blank"><img ng-src="{{image.url}}" alt="{{image.hash}}" height="50px"></a>&nbsp;</span></td> <td> <a class="btn btn-default" data-toggle="modal" data-target="#modify" ng-click="openModify(activity);">修改 </a> <button class="btn btn-default" ng-click="remove(activity); $event.stopPropagation();">删除 </button> </td> </tr> </table> <ul class="pagination"> <li ng-show="page > 1"><a href="#/activity/list/1">&laquo;</a></li> <li class="disabled" ng-show="page <= 1"><a href="#/activity/list/1">&laquo;</a></li> <li><a href="#/activity/list/{{page - 2}}" ng-show="page - 2 > 0">{{page - 2}}</a></li> <li><a href="#/activity/list/{{page - 1}}" ng-show="page - 1 > 0">{{page - 1}}</a></li> <li class="active"><a href="#/activity/list/{{page}}">{{page}} <span class="sr-only">(current)</span></a></li> <li><a href="#/activity/list/{{page - 0 + 1}}" ng-show="(page - 0 + 1) <= total">{{page - 0 + 1}}</a></li> <li><a href="#/activity/list/{{page - 0 + 2}}" ng-show="(page - 0 + 2) <= total">{{page - 0 + 2}}</a></li> <li ng-show="page < total"><a href="#/activity/list/{{total}}">&raquo;</a></li> <li class="disabled" ng-show="page >= total"><a href="#/activity/list/{{total}}">&raquo;</a></li> <li class="disabled"><a>第{{page}}页 / 共{{total}}页</a></li> </ul> </div> </div> </div> <div class="modal fade" id="modify" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改信息</h3> </div> <div class="modal-body"> <form class="form-horizontal activity modify" role="form" enctype="multipart/form-data"> <input type="hidden" name="id" value="{{activity.id}}" ng-model="activity.id"> <div class="form-group"> <label for="name" class="col-sm-2 control-label">活动<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="activity_modify" name="name" placeholder="请输入活动" ng-model="activity.name"> </div> </div> <div class="form-group"> <label for="mod-tags" class="col-sm-2 control-label">标签<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod-tags" name="tags" placeholder="请输入标签, 用\',\'分割" ng-model="activity.tags"> </div> </div> <div class="form-group"> <label for="intro" class="col-sm-2 control-label">介绍</label> <div class="col-sm-10"> <textarea class="form-control" rows="3" id="intro_modify" name="intro" placeholder="请输入介绍信息" ng-model="activity.intro"></textarea> </div> </div> <div class="form-group"> <label for="notice" class="col-sm-2 control-label">注意事项</label> <div class="col-sm-10"> <textarea class="form-control" rows="3" id="notice_modify" name="notice" placeholder="请输入注意事项" ng-model="activity.notice"></textarea> </div> </div> <div class="form-group"> <label for="start_time" class="col-sm-2 control-label">开始时间</label> <div class="col-sm-10"> <input type="datetime" class="form-control datepicker" id="start_time_modify" name="start_time" placeholder="请输入开始时间" ng-model="activity.start_time"> </div> </div> <div class="form-group"> <label for="end_time" class="col-sm-2 control-label">结束时间</label> <div class="col-sm-10"> <input type="datetime" class="form-control datepicker" id="end_time_modify" name="end_time" placeholder="请输入结束时间" ng-model="activity.end_time"> </div> </div> <div class="form-group"> <label for="deadline" class="col-sm-2 control-label">截止时间</label> <div class="col-sm-10"> <input type="datetime" class="form-control datepicker" id="deadline_modify" name="deadline" placeholder="请输入截止时间" ng-model="activity.deadline"> </div> </div> <div class="form-group"> <label for="cost" class="col-sm-2 control-label">费用</label> <div class="col-sm-10"> <input type="number" class="form-control" id="cost_modify" name="cost" placeholder="请输入费用" ng-model="activity.cost"> </div> </div> <div class="form-group"> <label for="cost_detail" class="col-sm-2 control-label">费用说明</label> <div class="col-sm-10"> <textarea class="form-control" rows="3" id="cost_detail_modify" name="cost_detail" placeholder="请输入费用说明" ng-model="activity.cost_detail"></textarea> </div> </div> <div class="form-group"> <label for="mod-file" class="col-sm-2 control-label">图片</label> <div class="col-sm-10"> <img ng-repeat="image in activity.images track by $index" ng-src="{{image.url}}" class="imgs{{activity.sis[$index]}}" ng-click="removeImage(activity.sis[$index],$event.target)" height="80px" style="padding: 2px"> <input type="file" class="form-control" id="mod-file" name="image" placeholder="请输入图片"> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="modify(activity)">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-default" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <div class="modal fade" id="add" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">添加活动</h3> </div> <div class="modal-body"> <form class="form-horizontal activity add" role="form" enctype="multipart/form-data"> <div class="form-group"> <label for="name" class="col-sm-2 control-label">活动<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="name" name="name" ng-model="name" placeholder="请输入活动名称"> </div> </div> <div class="form-group"> <label for="tags" class="col-sm-2 control-label">标签<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="tags" name="tags" placeholder="请输入标签, 用\',\'分割" ng-model="tagsId"> </div> </div> <div class="form-group"> <label for="intro" class="col-sm-2 control-label">介绍</label> <div class="col-sm-10"> <textarea class="form-control" rows="3" id="intro" ng-model="intro" name="intro" placeholder="请输入介绍信息"></textarea> </div> </div> <div class="form-group"> <label for="notice" class="col-sm-2 control-label">注意事项</label> <div class="col-sm-10"> <textarea class="form-control" rows="3" id="notice" ng-model="notice" name="notice" placeholder="请输入注意事项"></textarea> </div> </div> <div class="form-group"> <label for="start_time" class="col-sm-2 control-label">开始时间</label> <div class="col-sm-10"> <input type="datetime" class="form-control datepicker" id="start_time" ng-model="start_time" name="start_time" placeholder="请输入开始时间"> </div> </div> <div class="form-group"> <label for="end_time" class="col-sm-2 control-label">结束时间</label> <div class="col-sm-10"> <input type="datetime" class="form-control datepicker" id="end_time" ng-model="end_time" name="end_time" placeholder="请输入结束时间"> </div> </div> <div class="form-group"> <label for="deadline" class="col-sm-2 control-label">截止时间</label> <div class="col-sm-10"> <input type="datetime" class="form-control datepicker" id="deadline" ng-model="deadline" name="deadline" placeholder="请输入截止时间"> </div> </div> <div class="form-group"> <label for="cost" class="col-sm-2 control-label">费用</label> <div class="col-sm-10"> <input type="number" class="form-control" id="cost" ng-model="cost" name="cost" placeholder="请输入费用"> </div> </div> <div class="form-group"> <label for="cost_detail" class="col-sm-2 control-label">费用说明</label> <div class="col-sm-10"> <textarea class="form-control" rows="3" id="cost_detail" ng-model="cost_detail" name="cost_detail" placeholder="请输入费用说明"></textarea> </div> </div> <div class="form-group"> <label for="file" class="col-sm-2 control-label">图片</label> <div class="col-sm-10"> <input type="file" class="form-control" id="file" name="image" placeholder="请添加相关图片" multiple> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="add()">添加</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <!-- /.modal --> '),a.put("views/clerk/attend.html",'<nav class="navbar navbar-default" role="navigation"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <a class="navbar-brand" href="">颐佳科技</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" name="q" class="form-control" placeholder="搜索"> </div> <button type="submit" class="btn btn-default" ng-click="search()">搜索</button> </form> <form class="navbar-form navbar-right"> <a class="btn btn-primary" data-toggle="modal" data-target="#add" ng-click="openAdd()">添加预定</a> <a class="btn btn-default" data-toggle="modal" ng-click="exit()">退出</a> </form> </div> <!-- /.navbar-collapse --> </div> <!-- /.container-fluid --> </nav> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'templates/clerk/side.html\'"></div> </div> </div> <div class="col-md-10"> <h2 style="text-align: center;margin-top: 0px"> <a class="btn btn-info" style="position:absolute;left:0px" ng-href="#/reservation/list/{{reservationPage}}">返回预定管理</a> 预定详情(预定ID={{reservationId}})</h2> <table class="table table-striped text-center"> <tr> <th>#</th> <th>人名</th> <th>手机号</th> <th>备注</th> <th>操作</th> </tr> <tr ng-repeat="attend in attenders track by $index"> <td>{{attend.id}}</td> <td>{{attend.name}}</td> <td>{{attend.phone}}</td> <td>{{attend.note}}</td> <td> <button class="btn btn-warning" data-toggle="modal" data-target="#modify" ng-click="openModify(attend)">修改 </button> <button class="btn btn-danger" ng-click="remove(attend);$event.stopPropagation()">删除</button> </td> </tr> </table> <ul class="pagination"> <li ng-show="page > 1"><a href="#/attend/{{reservationId}}/list/1">&laquo;</a></li> <li class="disabled" ng-show="page <= 1"><a href="#/attend/{{reservationId}}/list/1">&laquo;</a></li> <li><a href="#/attend/{{reservationId}}/list/{{page - 2}}" ng-show="page - 2 > 0">{{page - 2}}</a></li> <li><a href="#/attend/{{reservationId}}/list/{{page - 1}}" ng-show="page - 1 > 0">{{page - 1}}</a></li> <li class="active"><a href="#/attend/{{reservationId}}/list/{{page}}">{{page}} <span class="sr-only">(current)</span></a></li> <li><a href="#/attend/{{reservationId}}/list/{{page - 0 + 1}}" ng-show="(page - 0 + 1) <= total">{{page - 0 + 1}}</a></li> <li><a href="#/attend/{{reservationId}}/list/{{page - 0 + 2}}" ng-show="(page - 0 + 2) <= total">{{page - 0 + 2}}</a></li> <li ng-show="page < total"><a href="#/attend/{{reservationId}}/list/{{total}}">&raquo;</a></li> <li class="disabled" ng-show="page >= total"><a href="#/attend/{{reservationId}}/list/{{total}}">&raquo;</a></li> <li class="disabled"><a>第{{page}}页 / 共{{total}}页</a></li> </ul> </div> </div> </div> <div class="modal fade" id="modify" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改预定详情</h3> </div> <div class="modal-body"> <form class="form-horizontal attend modify" role="form" enctype="multipart/form-data"> <input type="hidden" name="id" value="{{attend.id}}" ng-model="attend.id"> <!--<input type="hidden" name="attend" ng-model="reservation_id" value="{{reservation_id}}">--> <div class="form-group"> <label for="mod_name" class="col-sm-2 control-label">人名 </label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod_name" name="name" ng-model="attend.name"> </div> </div> <div class="form-group"> <label for="mod_phone" class="col-sm-2 control-label">联系方式 </label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod_phone" name="phone" ng-model="attend.phone"> </div> </div> <div class="form-group"> <label for="mod_note" class="col-sm-2 control-label">备注 </label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod_note" name="note" ng-model="attend.note"> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="modify(attend)">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-default" data-dismiss="modal">返回</button> </div> </div> </div> </div> <div class="modal fade" id="add" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">添加行程人员</h3> </div> <div class="modal-body"> <form class="form-horizontal attend add" role="form" enctype="multipart/form-data"> <!--<input type="hidden" value="{{reservation_id}}" name="reservation_id">--> <div class="form-group"> <label for="name" class="col-sm-2 control-label">人名</label> <div class="col-sm-10"> <input type="text" class="form-control" id="name" ng-model="name" name="name" placeholder="请输入添加的人名"> </div> </div> <div class="form-group"> <label for="phone" class="col-sm-2 control-label">联系方式</label> <div class="col-sm-10"> <input type="text" class="form-control" id="phone" ng-model="phone" name="phone" placeholder="请输入联系方式"> </div> </div> <div class="form-group"> <label for="note" class="col-sm-2 control-label">备注</label> <div class="col-sm-10"> <input type="text" class="form-control" id="note" ng-model="note" name="note" placeholder="请输入备注"> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="add()">添加</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> </div> </div> </div> </div>'),
a.put("views/clerk/channel.html",'<nav class="navbar navbar-default" role="navigation"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <a class="navbar-brand" href="">颐佳科技</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" name="q" class="form-control" placeholder="搜索"> </div> <button type="submit" class="btn btn-default" ng-click="search()">搜索</button> </form> <form class="navbar-form navbar-right"> <a class="btn btn-primary" data-toggle="modal" data-target="#add"> 添加渠道</a> <a class="btn btn-default" data-toggle="modal" ng-click="exit()">退出</a> </form> </div> <!-- /.navbar-collapse --> </div> <!-- /.container-fluid --> </nav> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'templates/clerk/side.html\'"></div> </div> </div> <div class="col-md-10"> <h2 style="text-align: center;margin-top: 0px">渠道管理</h2> <!-- /container --> <table class="table table-striped text-center"> <tr> <th>ID</th> <th>渠道名称</th> <th>渠道备注</th> <th>操作</th> </tr> <tr ng-repeat="channel in channels track by $index"> <td>{{channel.id}}</td> <td>{{channel.name}}</td> <td>{{channel.note}}</td> <!--<td><a ng-click="goto(channel)">渠道详情</a></td>--> <td> <button class="btn btn-warning" data-toggle="modal" data-target="#modify" ng-click="openModify(channel)">修改</button> <button class="btn btn-danger" ng-click="remove(channel);$event.stopPropagation()">删除</button> </td> </tr> </table> <ul class="pagination"> <li ng-show="page > 1"><a href="#/channel/list/1">&laquo;</a></li> <li class="disabled" ng-show="page <= 1"><a href="#/channel/list/1">&laquo;</a></li> <li><a href="#/channel/list/{{page - 2}}" ng-show="page - 2 > 0">{{page - 2}}</a></li> <li><a href="#/channel/list/{{page - 1}}" ng-show="page - 1 > 0">{{page - 1}}</a></li> <li class="active"><a href="#/channel/list/{{page}}">{{page}} <span class="sr-only">(current)</span></a></li> <li><a href="#/channel/list/{{page - 0 + 1}}" ng-show="(page - 0 + 1) <= total">{{page - 0 + 1}}</a></li> <li><a href="#/channel/list/{{page - 0 + 2}}" ng-show="(page - 0 + 2) <= total">{{page - 0 + 2}}</a></li> <li ng-show="page < total"><a href="#/channel/list/{{total}}">&raquo;</a></li> <li class="disabled" ng-show="page >= total"><a href="#/channel/list/{{total}}">&raquo;</a></li> <li class="disabled"><a>第{{page}}页 / 共{{total}}页</a></li> </ul> </div> </div> </div> <div class="modal fade" id="modify" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改渠道</h3> </div> <div class="modal-body"> <form class="form-horizontal channel modify" role="form"> <input type="hidden" name="id" value="{{channel.id}}" ng-model="channel.id"> <div class="form-group"> <label for="mod-name" class="col-sm-2 control-label">渠道<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod-name" name="name" value="{{channel.name}}"> </div> </div> <div class="form-group"> <label for="mod-note" class="col-sm-2 control-label">备注</label> <div class="col-sm-10"> <textarea class="form-control" id="mod-note" name="note">{{channel.note}}</textarea> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="modify(channel)">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-default" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <div class="modal fade" id="add" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">添加渠道</h3> </div> <div class="modal-body"> <form class="form-horizontal channel add" role="form"> <div class="form-group"> <label for="name" class="col-sm-2 control-label">渠道名称<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="name" ng-model="name" name="name" placeholder="请输入渠道名称"> </div> </div> <div class="form-group"> <label for="note" class="col-sm-2 control-label">备注</label> <div class="col-sm-10"> <textarea class="form-control" id="note" name="note" placeholder="请输入备注信息">{{channel.note}}</textarea> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="add()">添加</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <!-- /.modal --> '),a.put("views/clerk/comment.html",'<nav class="navbar navbar-default" role="navigation"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <a class="navbar-brand" href="">颐佳科技</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" name="q" class="form-control" placeholder="搜索"> </div> <button type="submit" class="btn btn-default" ng-click="search()">搜索</button> </form> <form class="navbar-form navbar-right"> <a class="btn btn-primary" data-toggle="modal" data-target="#add" ng-click="openAdd()"> 添加评论</a> <a class="btn btn-default" data-toggle="modal" ng-click="exit()">退出</a> </form> </div> <!-- /.navbar-collapse --> </div> <!-- /.container-fluid --> </nav> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'templates/clerk/side.html\'"></div> </div> </div> <div class="col-md-10"> <h2 style="text-align: center;margin-top: 0px">渠道管理</h2> <!-- /container --> <table class="table table-striped text-center"> <tr> <th>ID</th> <th>用户名</th> <th>评论内容</th> <th>评分</th> <th>创建时间</th> <th>最后修改时间</th> <th>图片</th> <th>操作</th> </tr> <tr ng-repeat="comment in comments track by $index"> <td>{{comment.id}}</td> <td>{{comment.name}}</td> <td>{{comment.content}}</td> <td>{{comment.score}}</td> <td>{{comment.create_time | iso_date}}</td> <td>{{comment.update_time | iso_date}}</td> <td><span ng-repeat="image in comment.images" class="imgs{{comment.sis[$index]}}"> <a ng-href="{{image.url}}" target="_blank"> <img ng-src="{{image.url}}" alt="{{image.hash}}" height="50px"> </a>&nbsp;</span> </td> <td> <button class="btn btn-danger" ng-click="remove(comment);$event.stopPropagation()">删除</button> </td> </tr> </table> <ul class="pagination"> <li ng-show="page > 1"><a href="#/comment/list/1">&laquo;</a></li> <li class="disabled" ng-show="page <= 1"><a href="#/comment/list/1">&laquo;</a></li> <li><a href="#/comment/list/{{page - 2}}" ng-show="page - 2 > 0">{{page - 2}}</a></li> <li><a href="#/comment/list/{{page - 1}}" ng-show="page - 1 > 0">{{page - 1}}</a></li> <li class="active"><a href="#/comment/list/{{page}}">{{page}} <span class="sr-only">(current)</span></a></li> <li><a href="#/comment/list/{{page - 0 + 1}}" ng-show="(page - 0 + 1) <= total">{{page - 0 + 1}}</a></li> <li><a href="#/comment/list/{{page - 0 + 2}}" ng-show="(page - 0 + 2) <= total">{{page - 0 + 2}}</a></li> <li ng-show="page < total"><a href="#/comment/list/{{total}}">&raquo;</a></li> <li class="disabled" ng-show="page >= total"><a href="#/comment/list/{{total}}">&raquo;</a></li> <li class="disabled"><a>第{{page}}页 / 共{{total}}页</a></li> </ul> </div> </div> </div> <div class="modal fade" id="add" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">添加评论</h3> </div> <div class="modal-body"> <form class="form-horizontal comment add" role="form"> <!--<input type="hidden" name="merchandise_id" value="{{comment.merchandise_id}}" >--> <div class="form-group"> <label for="name" class="col-sm-2 control-label">用户名<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="name" ng-model="name" name="name" placeholder="请输入评论的用户名"> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">行程<span>*</span></label> <div class="col-sm-10"> <!--<input type="text" class="form-control" id="travel" name="travel"--> <!--placeholder="请输入行程ID" ng-model="travelId">--> <!--<br/>--> 请选择行程: <select name="id" ng-click="select($event.target)"> <option ng-repeat="travel in travels" value="{{travel.id}}">{{travel.name}}</option> </select> <button name="prev" class="btn" ng-click="prev()">前一组</button> <button name="next" class="btn" ng-click="next()">下一组</button> </div> </div> <div class="form-group"> <label for="content" class="col-sm-2 control-label">评论内容</label> <div class="col-sm-10"> <textarea class="form-control" id="content" name="content" placeholder="请输入评论内容">{{comment.content}}</textarea> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">评分<span>*</span></label> <div class="col-sm-10"> <select name="score" ng-click="select($event.target)"> <option value="5">5分</option> <option value="4">4分</option> <option value="3">3分</option> <option value="2">2分</option> <option value="1">1分</option> </select> </div> </div> <div class="form-group"> <label for="file" class="col-sm-2 control-label">图片：</label> <div class="col-sm-10"> <input type="file" class="form-control" id="file" name="image" placeholder="请添加相关图片" multiple> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="add()">添加</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <!-- /.modal --> '),a.put("views/clerk/concrete.html",'<nav class="navbar navbar-default" role="navigation"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <a class="navbar-brand" href="">颐佳科技</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" name="q" class="form-control" placeholder="搜索"> </div> <button type="submit" class="btn btn-default" ng-click="search()">搜索</button> </form> <form class="navbar-form navbar-right"> <a class="btn btn-primary" data-toggle="modal" data-target="#add"> 添加主题</a> <a class="btn btn-default" data-toggle="modal" ng-click="exit()">退出</a> </form> </div> <!-- /.navbar-collapse --> </div> <!-- /.container-fluid --> </nav> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'templates/clerk/side.html\'"></div> </div> </div> <div class="col-md-10"> <h2 style="text-align: center;margin-top: 0px"><a class="btn btn-info" style="position: absolute;left: 0px" ng-href="#/template/list/{{templatePage}}">返回模板管理</a><span>具体模板列表(模板ID={{templateId}})</span></h2> <!-- /container --> <table class="table table-striped text-center"> <tr> <th>ID</th> <th>名称</th> <th>内容</th> <th>url地址</th> <th>素材列表</th> <th>图片</th> <th>操作</th> </tr> <tr ng-repeat="concrete in concretes track by $index"> <td>{{concrete.id}}</td> <td>{{concrete.title}}</td> <td>{{concrete.content}}</td> <td>{{concrete.url}}</td> <td><a ng-click="goto(concrete,templateId,templatePage)">素材详情</a></td> <td><span ng-repeat="image in concrete.images" class="imgs{{concrete.sis[$index]}}"><a ng-href="{{image.url}}" target="_blank"><img ng-src="{{image.url}}" alt="{{image.hash}}" height="50px"></a>&nbsp;</span></td> <td> <button class="btn btn-warning" data-toggle="modal" data-target="#modify" ng-click="openModify(concrete)">修改</button> <button class="btn btn-danger" ng-click="remove(concrete);$event.stopPropagation()">删除</button> </td> </tr> </table> <ul class="pagination"> <li ng-show="page > 1"><a href="#/template/concrete/{{templateId}}/list/1">&laquo;</a></li> <li class="disabled" ng-show="page <= 1"><a href="#/template/concrete/{{templateId}}/list/1">&laquo;</a></li> <li><a href="#/template/concrete/{{templateId}}/list/{{page - 2}}" ng-show="page - 2 > 0">{{page - 2}}</a></li> <li><a href="#/template/concrete/{{templateId}}/list/{{page - 1}}" ng-show="page - 1 > 0">{{page - 1}}</a></li> <li class="active"><a href="#/template/concrete/{{templateId}}/list/{{page}}">{{page}} <span class="sr-only">(current)</span></a></li> <li><a href="#/template/concrete/{{templateId}}/list/{{page - 0 + 1}}" ng-show="(page - 0 + 1) <= total">{{page - 0 + 1}}</a></li> <li><a href="#/template/concrete/{{templateId}}/list/{{page - 0 + 2}}" ng-show="(page - 0 + 2) <= total">{{page - 0 + 2}}</a></li> <li ng-show="page < total"><a href="#/template/concrete/{{templateId}}/list/{{total}}">&raquo;</a></li> <li class="disabled" ng-show="page >= total"><a href="#/template/concrete/{{templateId}}/list/{{total}}">&raquo;</a></li> <li class="disabled"><a>第{{page}}页 / 共{{total}}页</a></li> </ul> </div> </div> </div> <div class="modal fade" id="modify" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改主题</h3> </div> <div class="modal-body"> <form class="form-horizontal concrete modify" role="form"> <input type="hidden" name="id" value="{{concrete.id}}" ng-model="concrete.id"> <div class="form-group"> <label for="mod-title" class="col-sm-2 control-label">主题<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod-title" name="title" value="{{concrete.title}}"> </div> </div> <div class="form-group"> <label for="mod-content" class="col-sm-2 control-label">内容</label> <div class="col-sm-10"> <textarea class="form-control" id="mod-content" rows="2" name="content">{{concrete.content}}</textarea> </div> </div> <div class="form-group"> <label for="mod-url" class="col-sm-2 control-label">URL</label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod-url" name="url" value="{{concrete.url}}"> </div> </div> <div class="form-group"> <label for="mod-file" class="col-sm-2 control-label">图片</label> <div class="col-sm-10"> <img ng-repeat="image in concrete.images track by $index" ng-src="{{image.url}}" class="imgs{{concrete.sis[$index]}}" ng-click="removeImage(concrete.sis[$index],$event.target)" height="80px" style="padding: 2px"> <input type="file" class="form-control" id="mod-file" name="image" placeholder="请输入图片" multiple> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="modify(concrete)">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-default" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <div class="modal fade" id="add" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">添加主题</h3> </div> <div class="modal-body"> <form class="form-horizontal concrete add" role="form"> <input type="hidden" name="business_template" value="{{templateId}}"> <div class="form-group"> <label for="title" class="col-sm-2 control-label">主题<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="title" ng-model="title" name="title" placeholder="请输入主题名称"> </div> </div> <div class="form-group"> <label for="content" class="col-sm-2 control-label">内容</label> <div class="col-sm-10"> <textarea class="form-control" id="content" name="content" rows="2" placeholder="请输入备注信息">{{concrete.content}}</textarea> </div> </div> <div class="form-group"> <label for="url" class="col-sm-2 control-label">URL地址</label> <div class="col-sm-10"> <input type="text" class="form-control" id="url" name="url" ng-model="url" placeholder="请输入URL地址"> </div> </div> <div class="form-group"> <label for="file" class="col-sm-2 control-label">图片</label> <div class="col-sm-10"> <input type="file" class="form-control" id="file" name="image" placeholder="请添加相关图片" multiple> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="add()">添加</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <!-- /.modal --> '),a.put("views/clerk/content.html",'<nav class="navbar navbar-default" role="navigation"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <a class="navbar-brand" href="">颐佳科技</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" name="q" class="form-control" placeholder="搜索"> </div> <button type="submit" class="btn btn-default" ng-click="search()">搜索</button> </form> <form class="navbar-form navbar-right"> <a class="btn btn-primary" data-toggle="modal" data-target="#add"> 添加素材</a> <a class="btn btn-default" data-toggle="modal" ng-click="exit()">退出</a> </form> </div> <!-- /.navbar-collapse --> </div> <!-- /.container-fluid --> </nav> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'templates/clerk/side.html\'"></div> </div> </div> <div class="col-md-10"> <h2 style="text-align: center;margin-top: 0px"><a class="btn btn-info" style="position: absolute;left: 0px" ng-href="#/template/concrete/{{templateId}}/list/{{templatePage}}">返回具体模板管理</a><span>素材管理(具体模板ID={{concreteId}})</span></h2> <!-- /container --> <table class="table table-striped text-center"> <tr> <th>ID</th> <th>名称</th> <th>内容</th> <th>url地址</th> <!--<th>素材列表</th>--> <th>图片</th> <th>操作</th> </tr> <tr ng-repeat="content in contents track by $index"> <td>{{content.id}}</td> <td>{{content.title}}</td> <td>{{content.content}}</td> <td>{{content.url}}</td> <!--<td><a ng-click="goto(template)">模板详情</a></td>--> <td><span ng-repeat="image in content.images" class="imgs{{content.sis[$index]}}"><a ng-href="{{image.url}}" target="_blank"><img ng-src="{{image.url}}" alt="{{image.hash}}" height="50px"></a>&nbsp;</span></td> <td> <button class="btn btn-warning" data-toggle="modal" data-target="#modify" ng-click="openModify(content)">修改</button> <button class="btn btn-danger" ng-click="remove(content);$event.stopPropagation()">删除</button> </td> </tr> </table> <ul class="pagination"> <li ng-show="page > 1"><a href="#/template/content/{{concreteId}}/list/1">&laquo;</a></li> <li class="disabled" ng-show="page <= 1"><a href="#/template/content/{{concreteId}}/list/1">&laquo;</a></li> <li><a href="#/template/content/{{concreteId}}/list/{{page - 2}}" ng-show="page - 2 > 0">{{page - 2}}</a></li> <li><a href="#/template/content/{{concreteId}}/list/{{page - 1}}" ng-show="page - 1 > 0">{{page - 1}}</a></li> <li class="active"><a href="#/template/content/{{concreteId}}/list/{{page}}">{{page}} <span class="sr-only">(current)</span></a></li> <li><a href="#/template/content/{{concreteId}}/list/{{page - 0 + 1}}" ng-show="(page - 0 + 1) <= total">{{page - 0 + 1}}</a></li> <li><a href="#/template/content/{{concreteId}}/list/{{page - 0 + 2}}" ng-show="(page - 0 + 2) <= total">{{page - 0 + 2}}</a></li> <li ng-show="page < total"><a href="#/template/content/{{concreteId}}/list/{{total}}">&raquo;</a></li> <li class="disabled" ng-show="page >= total"><a href="#/template/content/{{concreteId}}/list/{{total}}">&raquo;</a></li> <li class="disabled"><a>第{{page}}页 / 共{{total}}页</a></li> </ul> </div> </div> </div> <div class="modal fade" id="modify" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改主题</h3> </div> <div class="modal-body"> <form class="form-horizontal content modify" role="form"> <input type="hidden" name="id" value="{{content.id}}" ng-model="content.id"> <div class="form-group"> <label for="mod-title" class="col-sm-2 control-label">主题<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod-title" name="title" value="{{content.title}}"> </div> </div> <div class="form-group"> <label for="mod-content" class="col-sm-2 control-label">内容</label> <div class="col-sm-10"> <textarea class="form-control" id="mod-content" rows="2" name="content">{{content.content}}</textarea> </div> </div> <div class="form-group"> <label for="mod-url" class="col-sm-2 control-label">URL</label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod-url" name="url" value="{{content.url}}"> </div> </div> <div class="form-group"> <label for="mod-file" class="col-sm-2 control-label">图片</label> <div class="col-sm-10"> <img ng-repeat="image in content.images track by $index" ng-src="{{image.url}}" class="imgs{{content.sis[$index]}}" ng-click="removeImage(content.sis[$index],$event.target)" height="80px" style="padding: 2px"> <input type="file" class="form-control" id="mod-file" name="image" placeholder="请输入图片" multiple> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="modify(content)">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-default" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <div class="modal fade" id="add" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">添加主题</h3> </div> <div class="modal-body"> <form class="form-horizontal content add" role="form"> <input type="hidden" name="concrete_template" value="{{concreteId}}"> <div class="form-group"> <label for="title" class="col-sm-2 control-label">主题<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="title" ng-model="title" name="title" placeholder="请输入主题名称"> </div> </div> <div class="form-group"> <label for="content" class="col-sm-2 control-label">内容</label> <div class="col-sm-10"> <textarea class="form-control" id="content" name="content" rows="2" placeholder="请输入备注信息">{{content.content}}</textarea> </div> </div> <div class="form-group"> <label for="url" class="col-sm-2 control-label">URL地址</label> <div class="col-sm-10"> <input type="text" class="form-control" id="url" name="url" ng-model="url" placeholder="请输入URL地址"> </div> </div> <div class="form-group"> <label for="file" class="col-sm-2 control-label">图片</label> <div class="col-sm-10"> <input type="file" class="form-control" id="file" name="image" placeholder="请添加相关图片" multiple> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="add()">添加</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <!-- /.modal --> '),a.put("views/clerk/detail.html",'<nav class="navbar navbar-default" role="navigation"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <a class="navbar-brand" href="">颐佳科技</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" name="q" class="form-control" placeholder="搜索"> </div> <button type="submit" class="btn btn-default" ng-click="search()">搜索</button> </form> <form class="navbar-form navbar-right"> <a class="btn btn-default" data-toggle="modal" ng-click="exit()">退出</a> </form> </div> <!-- /.navbar-collapse --> </div> <!-- /.container-fluid --> </nav> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'templates/clerk/side.html\'"></div> </div> </div> <div class="col-md-10"> <h2 style="text-align: center;margin-top: 0px"> <a class="btn btn-info" style="position:absolute;left:0px" ng-href="#/order/list/{{orderPage}}">返回订单管理</a> 订单详情(预定ID={{orderId}})</h2> <table class="table table-striped text-center"> <tr> <th>#</th> <th>人名</th> <th>手机号</th> <th>备注</th> <th>操作</th> </tr> <tr ng-repeat="detail in details track by $index"> <td>{{detail.id}}</td> <td>{{detail.name}}</td> <td>{{detail.phone}}</td> <td>{{detail.note}}</td> <td> <button class="btn btn-warning" data-toggle="modal" data-target="#modify" ng-click="openModify(detail)">修改 </button> <button class="btn btn-danger" ng-click="remove(detail);$event.stopPropagation()">删除</button> </td> </tr> </table> <ul class="pagination"> <li ng-show="page > 1"><a href="#/detail/{{orderId}}/list/1">&laquo;</a></li> <li class="disabled" ng-show="page <= 1"><a href="#/detail/{{orderId}}/list/1">&laquo;</a></li> <li><a href="#/detail/{{orderId}}/list/{{page - 2}}" ng-show="page - 2 > 0">{{page - 2}}</a></li> <li><a href="#/detail/{{orderId}}/list/{{page - 1}}" ng-show="page - 1 > 0">{{page - 1}}</a></li> <li class="active"><a href="#/detail/{{orderId}}/list/{{page}}">{{page}} <span class="sr-only">(current)</span></a></li> <li><a href="#/detail/{{orderId}}/list/{{page - 0 + 1}}" ng-show="(page - 0 + 1) <= total">{{page - 0 + 1}}</a></li> <li><a href="#/detail/{{orderId}}/list/{{page - 0 + 2}}" ng-show="(page - 0 + 2) <= total">{{page - 0 + 2}}</a></li> <li ng-show="page < total"><a href="#/detail/{{orderId}}/list/{{total}}">&raquo;</a></li> <li class="disabled" ng-show="page >= total"><a href="#/detail/{{orderId}}/list/{{total}}">&raquo;</a></li> <li class="disabled"><a>第{{page}}页 / 共{{total}}页</a></li> </ul> </div> </div> </div> <div class="modal fade" id="modify" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改订单详情</h3> </div> <div class="modal-body"> <form class="form-horizontal detail modify" role="form" enctype="multipart/form-data"> <input type="hidden" name="id" value="{{detail.id}}" ng-model="detail.id"> <div class="form-group"> <label for="mod_name" class="col-sm-2 control-label">人名 </label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod_name" name="name" ng-model="detail.name"> </div> </div> <div class="form-group"> <label for="mod_phone" class="col-sm-2 control-label">联系方式 </label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod_phone" name="phone" ng-model="detail.phone"> </div> </div> <div class="form-group"> <label for="mod_note" class="col-sm-2 control-label">备注 </label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod_note" name="note" ng-model="detail.note"> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="modify(detail)">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-default" data-dismiss="modal">返回</button> </div> </div> </div> </div>'),a.put("views/clerk/header.html",'<div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <a class="navbar-brand" href="">颐佳科技</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" name="q" class="form-control" placeholder="搜索"> </div> <button type="submit" class="btn btn-default" ng-click="search()">搜索</button> </form> <form class="navbar-form navbar-right"> <a class="btn btn-primary" data-toggle="modal" data-target="#add"> 添加调查员</a> </form> </div> <!-- /.navbar-collapse --> </div> <!-- /.container-fluid -->'),a.put("views/clerk/locations.html",'<script src="http://api.map.baidu.com/api?v=2.0&ak=n0T3Q5HyDFsNOVbQCw1AsLMm&callback=init"></script> <nav class="navbar navbar-default" role="navigation"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <a class="navbar-brand" href="">颐佳科技</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" name="q" class="form-control" placeholder="搜索"> </div> <button type="submit" class="btn btn-default" ng-click="search()">搜索</button> </form> <form class="navbar-form navbar-right"> <a class="btn btn-primary" data-toggle="modal" data-target="#add"> 添加地点</a> <a class="btn btn-default" data-toggle="modal" ng-click="exit()">退出</a> </form> </div> <!-- /.navbar-collapse --> </div> <!-- /.container-fluid --> </nav> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'templates/clerk/side.html\'"></div> </div> </div> <div class="col-md-10"> <h2 style="text-align: center;margin-top: 0px">地点管理</h2> <!-- /container --> <table class="table table-striped text-center"> <tr> <th>ID</th> <th>地点</th> <th>介绍</th> <th>特点</th> <th>地址</th> <th>图片</th> <th>经/纬度</th> <th>操作</th> </tr> <tr ng-repeat="location in locations track by $index"> <td>{{location.id}}</td> <td>{{location.name}}</td> <td>{{location.intro}}</td> <td>{{location.feature}}</td> <td>{{location.address}}</td> <td><span ng-repeat="image in location.images" class="imgs{{location.sis[$index]}}"> <a ng-href="{{image.url}}" target="_blank"> <img ng-src="{{image.url}}" alt="{{image.hash}}" height="50px"> </a>&nbsp;</span> </td> <td>{{location.longitude}}/{{location.latitude}}</td> <td> <button class="btn btn-warning" data-toggle="modal" data-target="#modify" ng-click="openModify(location)">修改 </button> <button class="btn btn-danger" ng-click="remove(location);$event.stopPropagation()">删除</button> </td> </tr> </table> <ul class="pagination"> <li ng-show="page > 1"><a href="#/location/list/1">&laquo;</a></li> <li class="disabled" ng-show="page <= 1"><a href="#/location/list/1">&laquo;</a></li> <li><a href="#/location/list/{{page - 2}}" ng-show="page - 2 > 0">{{page - 2}}</a></li> <li><a href="#/location/list/{{page - 1}}" ng-show="page - 1 > 0">{{page - 1}}</a></li> <li class="active"><a href="#/location/list/{{page}}">{{page}} <span class="sr-only">(current)</span></a></li> <li><a href="#/location/list/{{page - 0 + 1}}" ng-show="(page - 0 + 1) <= total">{{page - 0 + 1}}</a></li> <li><a href="#/location/list/{{page - 0 + 2}}" ng-show="(page - 0 + 2) <= total">{{page - 0 + 2}}</a></li> <li ng-show="page < total"><a href="#/location/list/{{total}}">&raquo;</a></li> <li class="disabled" ng-show="page >= total"><a href="#/location/list/{{total}}">&raquo;</a></li> <li class="disabled"><a>第{{page}}页 / 共{{total}}页</a></li> </ul> </div> </div> </div> <div class="modal fade" id="modify" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改{{location.name}}信息</h3> </div> <div class="modal-body"> <form class="form-horizontal location modify" role="form" enctype="multipart/form-data"> <input type="hidden" name="id" value="{{location.id}}" ng-model="location.id"> <div class="form-group"> <label for="loc_modify" class="col-sm-2 control-label">地点<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="loc_modify" name="name" ng-model="location.name"> </div> </div> <div class="form-group"> <label for="intro_modify" class="col-sm-2 control-label">介绍</label> <div class="col-sm-10"> <textarea class="form-control" rows="2" id="intro_modify" name="intro" ng-model="location.intro"></textarea> </div> </div> <div class="form-group"> <label for="feature_modify" class="col-sm-2 control-label"> 特点</label> <div class="col-sm-10"> <textarea class="form-control" rows="2" id="feature_modify" name="feature" ng-model="location.feature"></textarea> </div> </div> <div class="form-group"> <label for="address" class="col-sm-2 control-label">地址<span>*</span></label> <div class="col-sm-10" id="address"> <select> <option>中国</option> </select> <select id="chooseProv" class="mapsync_mod chooseProvince" name="province"> </select> <select id="chooseCity" class="mapsync_mod chooseCity" name="city"> </select> <span id="choose_district_div"> <select id="chooseDistrict" class="mapsync_mod" name="district"> </select> </span> </div> <div class="col-sm-10" style="margin-top: 6px"> <input type="text" class="form-control" id="address_detail_mod" ng-model="location.address_detail"> </div> </div> <div class="form-group"> <label for="file" class="col-sm-2 control-label">图片</label> <div class="col-sm-10"> <img ng-repeat="image in location.images track by $index" ng-src="{{image.url}}" class="imgs{{location.sis[$index]}}" ng-click="removeImage(location.sis[$index],$event.target)" height="80px" style="padding:2px"> <input type="file" class="form-control" id="mod-file" name="image" placeholder="请输入图片">. </div> </div> <div class="form-group"> <label for="point_mod" class="col-sm-2 control-label">经纬度</label> <span> <p id="point_mod" style="margin-top: 6px">{{latlng.lng}},{{latlng.lat}}</p> </span> </div> <div class="form-group"> <div class="col-sm-12"> <div id="allmap" style="width: 100%;height: 400px"> </div> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="modify(location)">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-default" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <div class="modal fade" id="add" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">添加地点</h3> </div> <div class="modal-body"> <form class="form-horizontal location add" role="form" enctype="multipart/form-data"> <div class="form-group"> <label for="loc" class="col-sm-2 control-label">地点<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="loc" name="name" ng-model="name" placeholder="请输入地点"> </div> </div> <div class="form-group"> <label for="intro" class="col-sm-2 control-label">描述</label> <div class="col-sm-10"> <textarea class="form-control" rows="2" id="intro" ng-model="intro" name="intro" placeholder="请输入介绍信息"></textarea> </div> </div> <div class="form-group"> <label for="feature" class="col-sm-2 control-label">特点</label> <div class="col-sm-10"> <textarea class="form-control" rows="2" id="feature" ng-model="feature" name="feature" placeholder="请输入特点"></textarea> </div> </div> <div class="form-group"> <label for="address_add" class="col-sm-2 control-label">地址<span>*</span></label> <div class="col-sm-10" id="address_add"> <select> <option>中国</option> </select> <select id="chooseProvAdd" class="mapsync chooseProvinceAdd" name="province"> </select> <select id="chooseCityAdd" class="mapsync chooseCityAdd" name="city"> </select> <span id="choose_district_div_add"> <select id="chooseDistrictAdd" name="district" class="mapsync"></select> </span> </div> <div class="col-sm-10" style="margin-top: 6px"> <input type="text" class="form-control" placeholder="请输入详细地址" ng-model="address_detail" id="address_detail" name="address_detail"> </div> </div> <div class="form-group"> <label for="file" class="col-sm-2 control-label">图片</label> <div class="col-sm-10"> <input type="file" class="form-control" id="file" name="image" placeholder="请添加相关图片" multiple> </div> </div> <div class="form-group"> <label for="point" class="col-sm-2 control-label">经纬度</label> <span> <p id="point">{{location.point}}</p> </span> </div> <div class="form-group"> <div class="col-sm-12"> <div id="allmap_add" style="width: 100%;height: 400px"> </div> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="add()">添加</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <!-- /.modal -->  <script src="scripts/data/areaData.js"></script> <script src="scripts/data/area.js"></script>'),
a.put("views/clerk/login.html",'<div> <ul class="nav nav-tabs" role="tablist"> <li role="presentation" class="active"><a href="#/clerk/login">店员登录</a></li> <li role="presentation"><a href="#/admin/login">管理员登录</a></li> </ul> </div> <div class="content"> <h1>店员登录</h1> </div> <div class="container"> <div class="row"> <form class="form-signin" role="form"> <h3 class="form-signin-heading"></h3> <input type="text" class="form-control" placeholder="员工编号@域名" id="clerk_id" ng-model="clerk_id" required autofocus> <br> <input type="password" class="form-control" id="password" placeholder="密码" ng-model="password" required> <br> <button class="btn btn-lg btn-primary btn-block" type="submit" ng-click="login()">登录</button> <br><br> </form> </div> <div class="modal fade" id="alert" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">确认</h3> </div> <div class="modal-body"> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">确定</button> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> </div> <!-- /container --> <div class="footer"> &copy; 颐佳 </div> '),a.put("views/clerk/member.html",'<nav class="navbar navbar-default" role="navigation"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <a class="navbar-brand" href="">颐佳科技</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" name="q" class="form-control" placeholder="搜索"> </div> <button type="submit" class="btn btn-default" ng-click="search()">搜索</button> </form> <form class="navbar-form navbar-right"> <a class="btn btn-primary" data-toggle="modal" data-target="#add" ng-click="openAdd()">添加会员</a> <a class="btn btn-default" data-toggle="modal" ng-click="exit()">退出</a> </form> </div> <!-- /.navbar-collapse --> </div> <!-- /.container-fluid --> </nav> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'templates/clerk/side.html\'"></div> </div> </div> <div class="col-md-10"> <h2 style="text-align: center;margin-top: 0px">会员管理</h2> <table class="table table-striped text-center"> <tr> <th>#</th> <th>会员名</th> <th>联系方式</th> <th>状态</th> <th>创建时间</th> <th>通过时间</th> <th>审核操作</th> <th>最后修改时间</th> <th>积分</th> <th>操作</th> </tr> <tr ng-repeat="member in members track by $index"> <td>{{member.id}}</td> <td>{{member.name}}</td> <td>{{member.phone}}</td> <td>{{member.status | member_status_code}}</td> <td>{{member.create_time | iso_date}}</td> <td>{{member.permitted_time | iso_date}}</td> <td> <button class="btn btn-success approve-{{member.id}}" ng-show="buttonApprove(member)" ng-click="verify(member,0);$event.stopPropagation();"> 通过 </button> <button class="btn btn-warning deny-{{member.id}}" ng-show="buttonDeny(member)" ng-click="verify(member,1);$event.stopPropagation();"> 拒绝 </button> </td> <td>{{member.update_time | iso_date}}</td> <td>{{member.score}}</td> <td> <button class="btn btn-default" data-toggle="modal" data-target="#modify" ng-click="openModify(member)">修改 </button> <button class="btn btn-danger" ng-click="remove(member);$event.stopPropagation()">删除</button> </td> </tr> </table> <ul class="pagination"> <li ng-show="page > 1"><a href="#/member/list/1">&laquo;</a></li> <li class="disabled" ng-show="page <= 1"><a href="#/member/list/1">&laquo;</a></li> <li><a href="#/member/list/{{page - 2}}" ng-show="page - 2 > 0">{{page - 2}}</a></li> <li><a href="#/member/list/{{page - 1}}" ng-show="page - 1 > 0">{{page - 1}}</a></li> <li class="active"><a href="#/member/list/{{page}}">{{page}} <span class="sr-only">(current)</span></a></li> <li><a href="#/member/list/{{page - 0 + 1}}" ng-show="(page - 0 + 1) <= total">{{page - 0 + 1}}</a></li> <li><a href="#/member/list/{{page - 0 + 2}}" ng-show="(page - 0 + 2) <= total">{{page - 0 + 2}}</a></li> <li ng-show="page < total"><a href="#/member/list/{{total}}">&raquo;</a></li> <li class="disabled" ng-show="page >= total"><a href="#/member/list/{{total}}">&raquo;</a></li> <li class="disabled"><a>第{{page}}页 / 共{{total}}页</a></li> </ul> </div> </div> </div> <div class="modal fade" id="modify" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改会员信息</h3> </div> <div class="modal-body"> <form class="form-horizontal member modify" role="form" enctype="multipart/form-data"> <input type="hidden" name="id" value="{{member.id}}" ng-model="member.id"> <div class="form-group"> <label for="mod_name" class="col-sm-2 control-label">会员名 </label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod_name" name="name" value="{{member.name}}"> </div> </div> <div class="form-group"> <label for="mod_phone" class="col-sm-2 control-label">联系方式 </label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod_phone" name="phone" value="{{member.phone}}"> </div> </div> <div class="form-group"> <label for="mod_score" class="col-sm-2 control-label">积分 </label> <div class="col-sm-10"> <input type="number" class="form-control" id="mod_score" name="score" value="{{member.score}}"> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="modify(member)">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-default" data-dismiss="modal">返回</button> </div> </div> </div> </div> <div class="modal fade" id="add" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">添加会员</h3> </div> <div class="modal-body"> <form class="form-horizontal member add" role="form" enctype="multipart/form-data"> <div class="form-group"> <label for="name" class="col-sm-2 control-label">会员名</label> <div class="col-sm-10"> <input type="text" class="form-control" id="name" ng-model="name" name="name" placeholder="请输入添加的会员名"> </div> </div> <div class="form-group"> <label for="phone" class="col-sm-2 control-label">联系方式</label> <div class="col-sm-10"> <input type="text" class="form-control" id="phone" ng-model="phone" name="phone" placeholder="请输入联系方式"> </div> </div> <div class="form-group"> <label for="score" class="col-sm-2 control-label">积分</label> <div class="col-sm-10"> <input type="number" class="form-control" id="score" ng-model="score" name="score" placeholder="请输入积分"> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="add()">添加</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> </div> </div> </div> </div>'),a.put("views/clerk/order.html",'<nav class="navbar navbar-default" role="navigation"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <a class="navbar-brand" href="">颐佳科技</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" name="q" class="form-control" placeholder="搜索"> </div> <button type="submit" class="btn btn-default" ng-click="search()">搜索</button> </form> <form class="navbar-form navbar-right"> <a class="btn btn-default" data-toggle="modal" ng-click="exit()">退出</a> </form> </div> <!-- /.navbar-collapse --> </div> <!-- /.container-fluid --> </nav> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'templates/clerk/side.html\'"></div> </div> </div> <div class="col-md-10"> <h2 style="text-align: center;margin-top: 0px">订单管理</h2> <table class="table table-striped text-center"> <tr> <th>#</th> <th>订单号</th> <th>账号</th> <th>联系人</th> <th>联系电话</th> <th>下单时间</th> <th>付款时间</th> <th>订单列表</th> <th>状态</th> <th>状态操作</th> <th>最后操作时间</th> <th>备注</th> <th>其他操作</th> </tr> <tr ng-repeat="order in orders track by $index"> <td>{{order.id}}</td> <td>{{order.no}}</td> <td>{{order.username}}</td> <td>{{order.contact_name}}</td> <td>{{order.contact_phone}}</td> <td>{{order.create_time | iso_date}}</td> <td>{{order.payment_time | iso_date}}</td> <td><a ng-click="goto(order)">订单详情</a></td> <td>{{order.status | order_status_code}}</td> <td>{{order.note}}</td> <td>{{order.update_time | iso_date}}</td> <td> <button class="btn btn-default confirm-{{order.id}}" ng-show="buttonConfirm(order)" ng-click="modifyStatus(order,0);$event.stopPropagation();"> 确认 </button> <button class="btn btn-default finish-{{order.id}}" ng-show="buttonFinish(order)" ng-click="modifyStatus(order,1); $event.stopPropagatoin();"> 完成 </button> </td> <td>{{order.update_time | iso_date}}</td> <td> <button class="btn btn-default modify-{{order.id}}" data-toggle="modal" ng-show="buttonModify(order)" data-target="#modify" ng-click="openModify(order)">修改</button> <button class="btn btn-warning cancel-{{order.id}}" ng-show="buttonCancel(order)" ng-click="modifyStatus(order,2);$event.stopPropagation();"> 取消订单</button> </td> </tr> </table> <ul class="pagination"> <li ng-show="page > 1"><a href="#/order/list/1">&laquo;</a></li> <li class="disabled" ng-show="page <= 1"><a href="#/order/list/1">&laquo;</a></li> <li><a href="#/order/list/{{page - 2}}" ng-show="page - 2 > 0">{{page - 2}}</a></li> <li><a href="#/order/list/{{page - 1}}" ng-show="page - 1 > 0">{{page - 1}}</a></li> <li class="active"><a href="#/order/list/{{page}}">{{page}} <span class="sr-only">(current)</span></a></li> <li><a href="#/order/list/{{page - 0 + 1}}" ng-show="(page - 0 + 1) <= total">{{page - 0 + 1}}</a></li> <li><a href="#/order/list/{{page - 0 + 2}}" ng-show="(page - 0 + 2) <= total">{{page - 0 + 2}}</a></li> <li ng-show="page < total"><a href="#/order/list/{{total}}">&raquo;</a></li> <li class="disabled" ng-show="page >= total"><a href="#/order/list/{{total}}">&raquo;</a></li> <li class="disabled"><a>第{{page}}页 / 共{{total}}页</a></li> </ul> </div> </div> </div> <div class="modal fade" id="modify" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改预定信息</h3> </div> <div class="modal-body"> <form class="form-horizontal oeder modify" role="form" enctype="multipart/form-data"> <input type="hidden" value="{{order.id}}"> <div class="form-group"> <label for="mod_contact_name" class="col-sm-2 control-label">联系人姓名：</label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod_contact_name" name="contact_name" value="{{order.contact_name}}"> </div> </div> <div class="form-group"> <label for="mod_contact_phone" class="col-sm-2 control-label">联系电话：</label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod_contact_phone" name="contact_phone" value="{{order.contact_phone}}"> </div> </div> <div class="form-group"> <label for="mod_note" class="col-sm-2 control-label">备注：</label> <div class="col-sm-10"> <textarea type="text" rows="3" class="form-control" id="mod_note" name="note">{{order.note}}</textarea> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="modify()">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> </div> </div> </div> </div>'),a.put("views/clerk/promotion.html",'<nav class="navbar navbar-default" role="navigation"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <a class="navbar-brand" href="">颐佳科技</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" name="q" class="form-control" placeholder="搜索"> </div> <button type="submit" class="btn btn-default" ng-click="search()">搜索</button> </form> <form class="navbar-form navbar-right"> <a class="btn btn-primary" data-toggle="modal" data-target="#add" ng-click="openAdd()"> 添加推广</a> <a class="btn btn-default" data-toggle="modal" ng-click="exit()">退出</a> </form> </div> <!-- /.navbar-collapse --> </div> <!-- /.container-fluid --> </nav> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'templates/clerk/side.html\'"></div> </div> </div> <div class="col-md-10"> <h2 style="text-align: center;margin-top: 0px">推广管理</h2> <!-- /container --> <table class="table table-striped text-center"> <tr> <th>ID</th> <th>名称</th> <th>URL地址</th> <th>渠道</th> <th>具体模板</th> <th>推广备注</th> <th>操作</th> </tr> <tr ng-repeat="promotion in promotions track by $index"> <td>{{promotion.id}}</td> <td>{{promotion.title}}</td> <td>{{promotion.url}}</td> <td>{{promotion.business_channel}}</td> <td>{{promotion.business_concrete_template}}</td> <td>{{promotion.note}}</td> <!--<td><a ng-click="goto(promotion)">渠道详情</a></td>--> <td> <button class="btn btn-warning" data-toggle="modal" data-target="#modify" ng-click="openModify(promotion)">修改</button> <button class="btn btn-danger" ng-click="remove(promotion);$event.stopPropagation()">删除</button> </td> </tr> </table> <ul class="pagination"> <li ng-show="page > 1"><a href="#/promotion/list/1">&laquo;</a></li> <li class="disabled" ng-show="page <= 1"><a href="#/promotion/list/1">&laquo;</a></li> <li><a href="#/promotion/list/{{page - 2}}" ng-show="page - 2 > 0">{{page - 2}}</a></li> <li><a href="#/promotion/list/{{page - 1}}" ng-show="page - 1 > 0">{{page - 1}}</a></li> <li class="active"><a href="#/promotion/list/{{page}}">{{page}} <span class="sr-only">(current)</span></a></li> <li><a href="#/promotion/list/{{page - 0 + 1}}" ng-show="(page - 0 + 1) <= total">{{page - 0 + 1}}</a></li> <li><a href="#/promotion/list/{{page - 0 + 2}}" ng-show="(page - 0 + 2) <= total">{{page - 0 + 2}}</a></li> <li ng-show="page < total"><a href="#/promotion/list/{{total}}">&raquo;</a></li> <li class="disabled" ng-show="page >= total"><a href="#/promotion/list/{{total}}">&raquo;</a></li> <li class="disabled"><a>第{{page}}页 / 共{{total}}页</a></li> </ul> </div> </div> </div> <div class="modal fade" id="modify" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改推广</h3> </div> <div class="modal-body"> <form class="form-horizontal promotion modify" role="form"> <input type="hidden" name="id" value="{{promotion.id}}" ng-model="promotion.id"> <div class="form-group"> <label for="mod-title" class="col-sm-2 control-label">渠道<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod-title" name="title" value="{{promotion.title}}"> </div> </div> <div class="form-group"> <label for="mod-url" class="col-sm-2 control-label">URL地址</label> <div class="col-sm-10"> <textarea class="form-control" id="mod-url" name="note">{{promotion.url}}</textarea> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">渠道</label> <div class="col-sm-10"> <select name="business_channel" ng-click="select($event.target)"> <option ng-repeat="channel in channels" value="{{channel.name}}">{{channel.name}}</option> <button name="prev_channel" class="btn btn-info" ng-click="prev_channel">前一组</button> <button name="next_channel" class="btn btn-info" ng-click="next_channel">下一组</button> </select> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">模板</label> <div class="col-sm-10"> <select name="business_template" ng-click="select($event.target)"> <option ng-repeat="template in templates" value="{{template.id}}">{{template.title}}</option> <button name="prev_template" class="btn btn-info" ng-click="prev_template">前一组</button> <button name="next_template" class="btn btn-info" ng-click="next_template">下一组</button> </select> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">具体模板</label> <div class="col-sm-10"> <select name="business_concrete_template" ng-click="select($event.target)"> <option ng-repeat="concrete in concretes" value="{{concrete.name}}">{{concrete.title}}</option> <button name="prev_concrete" class="btn btn-info" ng-click="prev_concrete">前一组</button> <button name="next_concrete" class="btn btn-info" ng-click="next_concrete">下一组</button> </select> </div> </div> <div class="form-group"> <label for="mod-note" class="col-sm-2 control-label">备注</label> <div class="col-sm-10"> <textarea class="form-control" id="mod-note" name="note">{{promotion.note}}</textarea> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="modify(promotion)">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-default" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <div class="modal fade" id="add" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">添加渠道</h3> </div> <div class="modal-body"> <form class="form-horizontal promotion add" role="form"> <div class="form-group"> <label for="title" class="col-sm-2 control-label">名称<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="title" ng-model="title" name="title" placeholder="请输入名称"> </div> </div> <div class="form-group"> <label for="url" class="col-sm-2 control-label">URL地址</label> <div class="col-sm-10"> <textarea class="form-control" id="url" name="url" placeholder="请输入URL地址">{{promotion.url}}</textarea> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">渠道<span>*</span></label> <div class="col-sm-10"> <select name="business_channel" ng-click="select($event.target)"> <option ng-repeat="channel in channels" value="{{channel.name}}">{{channel.name}}</option> </select> <button name="prev_channel" class="btn btn-info" ng-click="prev_channel()">前一组</button> <button name="next_channel" class="btn btn-info" ng-click="next_channel()">下一组</button> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">模板<span>*</span></label> <div class="col-sm-10"> <select name="business_template" ng-click="select($event.target)"> <option ng-repeat="template in templates" value="{{template.id}}">{{template.title}}</option> </select> <button name="prev_template" class="btn btn-info" ng-click="prev_template()">前一组</button> <button name="next_template" class="btn btn-info" ng-click="next_template()">下一组</button> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">具体模板<span>*</span></label> <div class="col-sm-10"> <select name="business_concrete_template" ng-click="select($event.target)"> <option ng-repeat="concrete in concretes" value="{{concrete.title}}">{{concrete.title}}</option> </select> <button name="prev_concrete" class="btn btn-info" ng-click="prev_concrete()">前一组</button> <button name="next_concrete" class="btn btn-info" ng-click="next_concrete()">下一组</button> </div> </div> <div class="form-group"> <label for="note" class="col-sm-2 control-label">备注</label> <div class="col-sm-10"> <textarea class="form-control" id="note" name="note" placeholder="请输入备注信息">{{promotion.note}}</textarea> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="add()">添加</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <!-- /.modal --> '),a.put("views/clerk/reservation.html",'<link rel="stylesheet" type="text/css" href="../../../admin/styles/bootstrap-select.css"> <link rel="stylesheet" type="text/css" href="../../../admin/styles/bootstrap-select.styles.map"> <nav class="navbar navbar-default" role="navigation"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <a class="navbar-brand" href="">颐佳科技</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" name="q" class="form-control" placeholder="搜索"> </div> <button type="submit" class="btn btn-default" ng-click="search()">搜索</button> </form> <form class="navbar-form navbar-right"> <a class="btn btn-primary" data-toggle="modal" data-target="#add" ng-click="openAdd()">添加预定</a> <a class="btn btn-default" data-toggle="modal" ng-click="exit()">退出</a> </form> </div> <!-- /.navbar-collapse --> </div> <!-- /.container-fluid --> </nav> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'templates/clerk/side.html\'"></div> </div> </div> <div class="col-md-10"> <h2 style="text-align: center;margin-top: 0px">预定管理</h2> <table class="table table-striped text-center"> <tr> <th>#</th> <th>标题</th> <th>类型</th> <th>类型ID</th> <th>联系人</th> <th>联系电话</th> <th>备注</th> <th>预定时间</th> <th>预定列表</th> <th>系统操作员</th> <th>状态</th> <th>状态操作</th> <th>最后操作时间</th> <th>其他操作</th> </tr> <tr ng-repeat="reservation in reservations track by $index"> <td>{{reservation.id}}</td> <td>{{reservation.title}}</td> <td>{{reservation.type | reservation_type}}</td> <td>{{reservation.type_id}}</td> <td>{{reservation.contact_name}}</td> <td>{{reservation.contact_phone}}</td> <td>{{reservation.note}}</td> <td>{{reservation.create_time | iso_date}}</td> <td><a ng-click="goto(reservation)">预定详情</a></td> <td>{{reservation.operator}}</td> <td>{{reservation.status | reservation_status_code}}</td> <td> <button class="btn btn-default confirm-{{reservation.id}}" ng-show="buttonConfirm(reservation)" ng-click="modifyStatus(reservation,0);$event.stopPropagation();"> 确认 </button> <button class="btn btn-default finish-{{reservation.id}}" ng-show="buttonFinish(reservation)" ng-click="modifyStatus(reservation,1); $event.stopPropagatoin();"> 完成 </button> </td> <td>{{reservation.update_time | iso_date}}</td> <td> <button class="btn btn-default modify-{{reservation.id}}" data-toggle="modal" ng-show="buttonModify(reservation)" data-target="#modify" ng-click="openModify(reservation)">修改</button> <button class="btn btn-warning cancel-{{reservation.id}}" ng-show="buttonCancel(reservation)" ng-click="modifyStatus(reservation,2);$event.stopPropagation();"> 取消预定</button> <!--<a class="btn btn-warning" data-toggle="modal"--> <!--ng-click="cancelReservation(reservation); $event.stopPropagation();" >取消预订</a>--> </td> </tr> </table> <ul class="pagination"> <li ng-show="page > 1"><a href="#/reservation/list/1">&laquo;</a></li> <li class="disabled" ng-show="page <= 1"><a href="#/reservation/list/1">&laquo;</a></li> <li><a href="#/reservation/list/{{page - 2}}" ng-show="page - 2 > 0">{{page - 2}}</a></li> <li><a href="#/reservation/list/{{page - 1}}" ng-show="page - 1 > 0">{{page - 1}}</a></li> <li class="active"><a href="#/reservation/list/{{page}}">{{page}} <span class="sr-only">(current)</span></a></li> <li><a href="#/reservation/list/{{page - 0 + 1}}" ng-show="(page - 0 + 1) <= total">{{page - 0 + 1}}</a></li> <li><a href="#/reservation/list/{{page - 0 + 2}}" ng-show="(page - 0 + 2) <= total">{{page - 0 + 2}}</a></li> <li ng-show="page < total"><a href="#/reservation/list/{{total}}">&raquo;</a></li> <li class="disabled" ng-show="page >= total"><a href="#/reservation/list/{{total}}">&raquo;</a></li> <li class="disabled"><a>第{{page}}页 / 共{{total}}页</a></li> </ul> </div> </div> </div> <div class="modal fade" id="modify" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改预定信息</h3> </div> <div class="modal-body"> <form class="form-horizontal reservation modify" role="form" enctype="multipart/form-data"> <input type="hidden" value="{{reservation.id}}"> <div class="form-group"> <label for="mod_type" class="col-sm-2 control-label">类型：</label> <div class="col-sm-3"> <select name="type" class="selectpicker show-tick" data-size="2" ng-model="reservation.type" id="mod_type"> <option>service</option> <option>travel</option> </select> </div> </div> <div class="form-group"> <label for="mod_type_id" class="col-sm-2 control-label">类型ID：</label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod_type_id" name="type_id" value="{{reservation.type_id}}"> </div> </div> <div class="form-group"> <label for="mod_title" class="col-sm-2 control-label">标题：</label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod_title" name="title" value="{{reservation.title}}"> </div> </div> <div class="form-group"> <label for="mod_contact_name" class="col-sm-2 control-label">联系人姓名：</label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod_contact_name" name="contact_name" value="{{reservation.contact_name}}"> </div> </div> <div class="form-group"> <label for="mod_contact_phone" class="col-sm-2 control-label">联系电话：</label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod_contact_phone" name="contact_phone" value="{{reservation.contact_phone}}"> </div> </div> <div class="form-group"> <label for="mod_note" class="col-sm-2 control-label">备注：</label> <div class="col-sm-10"> <textarea type="text" rows="3" class="form-control" id="mod_note" name="note">{{reservation.note}}</textarea> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="modify()">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> </div> </div> </div> </div> <div class="modal fade" id="add" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">添加预定信息</h3> </div> <div class="modal-body"> <form class="form-horizontal reservation add" role="form" enctype="multipart/form-data"> <div class="form-group"> <label for="type" class="col-sm-3 control-label">类型：</label> <div class="col-sm-9"> <select name="type" class="selectpicker show-tick" data-size="2" id="type" ng-model="type"> <option>service</option> <option>travel</option> </select> </div> </div> <div class="form-group"> <label for="type_id" class="col-sm-3 control-label">类型ID：</label> <div class="col-sm-9"> <input type="text" class="form-control" id="type_id" name="type_id" ng-model="type_id"> </div> </div> <div class="form-group"> <label for="title" class="col-sm-3 control-label">标题：</label> <div class="col-sm-9"> <input type="text" class="form-control" id="title" name="title" ng-model="title"> </div> </div> <div class="form-group"> <label for="contact_name" class="col-sm-3 control-label">联系人姓名：</label> <div class="col-sm-9"> <input type="text" class="form-control" id="contact_name" name="contact_name" ng-model="contact_name"> </div> </div> <div class="form-group"> <label for="contact_phone" class="col-sm-3 control-label">联系电话：</label> <div class="col-sm-9"> <input type="text" class="form-control" id="contact_phone" name="contact_phone" ng-model="contact_phone"> </div> </div> <div class="form-group"> <label for="note" class="col-sm-3 control-label">备注：</label> <div class="col-sm-9"> <textarea id="note" rows="3" class="form-control" name="note" ng-model="note"></textarea> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="add()">添加</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> </div> </div> </div> </div>'),a.put("views/clerk/route.html",'<nav class="navbar navbar-default" role="navigation"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <a class="navbar-brand" href="">颐佳科技</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" name="q" class="form-control" placeholder="搜索"> </div> <button type="submit" class="btn btn-default" ng-click="search()">搜索</button> </form> <form class="navbar-form navbar-right"> <a class="btn btn-primary" data-toggle="modal" data-target="#add"> 添加线路</a> <a class="btn btn-default" data-toggle="modal" ng-click="exit()">退出</a> </form> </div> <!-- /.navbar-collapse --> </div> <!-- /.container-fluid --> </nav> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'templates/clerk/side.html\'"></div> </div> </div> <div class="col-md-10"> <h2 style="text-align: center;margin-top: 0px">线路管理</h2> <!-- /container --> <table class="table table-striped text-center"> <tr> <th>ID</th> <th>线路</th> <th>介绍</th> <th>线路图片</th> <th>景点列表</th> <th>操作</th> </tr> <tr ng-repeat="route in routes track by $index"> <td>{{route.id}}</td> <td>{{route.name}}</td> <td>{{route.intro}}</td> <td><span ng-repeat="image in route.images" class="imgs{{route.sis[$index]}}"><a ng-href="{{image.url}}" target="_blank"><img ng-src="{{image.url}}" alt="{{image.hash}}" height="50px"></a>&nbsp;</span></td> <td><a ng-click="goto(route)">景点管理</a></td> <td> <button class="btn btn-warning" data-toggle="modal" data-target="#modify" ng-click="openModify(route)">修改</button> <button class="btn btn-danger" ng-click="remove(route);$event.stopPropagation()">删除</button> </td> </tr> </table> <ul class="pagination"> <li ng-show="page > 1"><a href="#/route/list/1">&laquo;</a></li> <li class="disabled" ng-show="page <= 1"><a href="#/route/list/1">&laquo;</a></li> <li><a href="#/route/list/{{page - 2}}" ng-show="page - 2 > 0">{{page - 2}}</a></li> <li><a href="#/route/list/{{page - 1}}" ng-show="page - 1 > 0">{{page - 1}}</a></li> <li class="active"><a href="#/route/list/{{page}}">{{page}} <span class="sr-only">(current)</span></a></li> <li><a href="#/route/list/{{page - 0 + 1}}" ng-show="(page - 0 + 1) <= total">{{page - 0 + 1}}</a></li> <li><a href="#/route/list/{{page - 0 + 2}}" ng-show="(page - 0 + 2) <= total">{{page - 0 + 2}}</a></li> <li ng-show="page < total"><a href="#/route/list/{{total}}">&raquo;</a></li> <li class="disabled" ng-show="page >= total"><a href="#/route/list/{{total}}">&raquo;</a></li> <li class="disabled"><a>第{{page}}页 / 共{{total}}页</a></li> </ul> </div> </div> </div> <div class="modal fade" id="modify" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改线路</h3> </div> <div class="modal-body"> <form class="form-horizontal modify" role="form"> <input type="hidden" name="id" value="{{route.id}}" ng-model="route.id"> <div class="form-group"> <label for="mod-name" class="col-sm-2 control-label">线路<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod-name" name="name" placeholder="请输入线路名称" value="{{route.name}}" ng-mode="route.name"> </div> </div> <div class="form-group"> <label for="mod-intro" class="col-sm-2 control-label">介绍</label> <div class="col-sm-10"> <textarea class="form-control" id="mod-intro" name="intro" placeholder="请输入介绍信息">{{route.intro}}</textarea> </div> </div> <div class="form-group"> <label for="mod-file" class="col-sm-2 control-label">图片</label> <div class="col-sm-10"> <img ng-repeat="image in route.images track by $index" ng-src="{{image.url}}" class="imgs{{route.sis[$index]}}" ng-click="removeImage(route.sis[$index], $event.target)" height="80px" style="padding: 2px"> <input type="file" class="form-control" id="mod-file" name="image" placeholder="请输入图片" multiple> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="modify(route)">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-default" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <div class="modal fade" id="add" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">添加线路</h3> </div> <div class="modal-body"> <form class="form-horizontal add" role="form"> <div class="form-group"> <label for="name" class="col-sm-2 control-label">线路名称<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="name" ng-model="name" name="name" placeholder="请输入线路名称"> </div> </div> <div class="form-group"> <label for="intro" class="col-sm-2 control-label">介绍</label> <div class="col-sm-10"> <textarea class="form-control" id="intro" name="intro" placeholder="请输入介绍信息">{{route.intro}}</textarea> </div> </div> <div class="form-group"> <label for="file" class="col-sm-2 control-label">图片</label> <div class="col-sm-10"> <input type="file" class="form-control" id="file" name="image" placeholder="请添加相关图片" multiple> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="add()">添加</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <!-- /.modal --> '),
a.put("views/clerk/scenery.html",'<nav class="navbar navbar-default" role="navigation"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <a class="navbar-brand" href="">颐佳科技</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" name="q" class="form-control" placeholder="搜索"> </div> <button type="submit" class="btn btn-default" ng-click="search()">搜索</button> </form> <form class="navbar-form navbar-right"> <a class="btn btn-primary" data-toggle="modal" data-target="#add"> 添加景点</a> <a class="btn btn-default" data-toggle="modal" ng-click="exit()">退出</a> </form> </div> <!-- /.navbar-collapse --> </div> <!-- /.container-fluid --> </nav> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'templates/clerk/side.html\'"></div> </div> </div> <div class="col-md-10"> <h2 style="text-align: center;margin-top: 0px"><a class="btn btn-info" style="position: absolute; left: 0px" ng-href="#/route/list/{{routePage}}">返回线路</a><span>景点管理(线路ID={{routeId}})</span></h2> <!-- /container --> <table class="table table-striped text-center"> <tr> <th>ID</th> <th>景点</th> <th>介绍</th> <th>序号</th> <th>地点ID</th> <th>图片</th> <th>操作</th> </tr> <tr ng-repeat="scenery in sceneries track by $index"> <td>{{scenery.id}}</td> <td>{{scenery.name}}</td> <td>{{scenery.intro}}</td> <td>{{scenery.order}}</td> <td>{{scenery.location}}</td> <td> <span ng-repeat="image in scenery.images" class="imgs{{scenery.sis[$index]}}"> <a ng-href="{{image.url}}" target="_blank"> <img ng-src="{{image.url}}" alt="{{image.hash}}" height="50px"> </a>&nbsp; </span> </td> <td> <button class="btn btn-warning" data-toggle="modal" data-target="#modify" ng-click="openModify(scenery)">修改</button> <button class="btn btn-danger" ng-click="remove(scenery);$event.stopPropagation()">删除</button> </td> </tr> </table> <ul class="pagination"> <li ng-show="page > 1"><a href="#/scenery/{{routeId}}/list/1">&laquo;</a></li> <li class="disabled" ng-show="page <= 1"><a href="#/scenery/{{routeId}}/list/1">&laquo;</a></li> <li><a href="#/scenery/{{routeId}}/list/{{page - 2}}" ng-show="page - 2 > 0">{{page - 2}}</a></li> <li><a href="#/scenery/{{routeId}}/list/{{page - 1}}" ng-show="page - 1 > 0">{{page - 1}}</a></li> <li class="active"><a href="#/scenery/{{routeId}}/list/{{page}}">{{page}} <span class="sr-only">(current)</span></a></li> <li><a href="#/scenery/{{routeId}}/list/{{page - 0 + 1}}" ng-show="(page - 0 + 1) <= total">{{page - 0 + 1}}</a></li> <li><a href="#/scenery/{{routeId}}/list/{{page - 0 + 2}}" ng-show="(page - 0 + 2) <= total">{{page - 0 + 2}}</a></li> <li ng-show="page < total"><a href="#/scenery/{{routeId}}/list/{{total}}">&raquo;</a></li> <li class="disabled" ng-show="page >= total"><a href="#/scenery/{{routeId}}/list/{{total}}">&raquo;</a></li> <li class="disabled"><a>第{{page}}页 / 共{{total}}页</a></li> </ul> </div> </div> </div> <div class="modal fade" id="modify" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改景点</h3> </div> <div class="modal-body"> <form class="form-horizontal scenery modify" role="form" enctype="multipart/form-data"> <input type="hidden" name="id" value="{{scenery.id}}" ng-model="scenery.id"> <input type="hidden" name="route" ng-model="routeId" value="{{routeId}}"> <div class="form-group"> <label for="name" class="col-sm-2 control-label">景点名称<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod-name" name="name" placeholder="请输入景点名称" ng-model="scenery.name"> </div> </div> <div class="form-group"> <label for="intro" class="col-sm-2 control-label">介绍</label> <div class="col-sm-10"> <textarea class="form-control" rows="3" id="mod-intro" name="intro" placeholder="请输入介绍信息" ng-model="scenery.intro"></textarea> </div> </div> <div class="form-group"> <label for="order" class="col-sm-2 control-label">序号</label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod-order" name="order" placeholder="请输入序号" ng-model="scenery.order"> </div> </div> <div class="form-group"> <label for="mod-location" class="col-sm-2 control-label">地点</label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod-location" name="location" placeholder="请输入序号" ng-model="scenery.location"> <br> 请选择地点: <select name="location-select" ng-click="select($event.target)"> <option value=""></option> <option ng-repeat="location in locations" value="{{location.id}}">{{location.name}}</option> </select> <button name="prev" class="btn" ng-click="prev()">前一组</button> <button name="next" class="btn" ng-click="next()">下一组</button> </div> </div> <div class="form-group"> <label for="file" class="col-sm-2 control-label">图片</label> <div class="col-sm-10"> <img ng-repeat="image in scenery.images track by $index" ng-src="{{image.url}}" class="imgs{{scenery.sis[$index]}}" ng-click="removeImage(scenery.sis[$index],$event.target)" height="80px" style="padding: 2px"> <input type="file" class="form-control" id="mod-file" name="image" placeholder="请选择图片"> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="modify()">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-default" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <div class="modal fade" id="add" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">添加景点</h3> </div> <div class="modal-body"> <form class="form-horizontal scenery add" role="form" enctype="multipart/form-data"> <input type="hidden" name="route" value="{{routeId}}"> <div class="form-group"> <label for="name" class="col-sm-2 control-label">景点名称<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="name" ng-model="name" name="name" placeholder="请输入景点名称"> </div> </div> <div class="form-group"> <label for="intro" class="col-sm-2 control-label">介绍</label> <div class="col-sm-10"> <textarea class="form-control" rows="3" id="intro" ng-model="intro" name="intro" placeholder="请输入介绍信息"></textarea> </div> </div> <div class="form-group"> <label for="order" class="col-sm-2 control-label">序号</label> <div class="col-sm-10"> <input type="number" class="form-control" id="order" ng-model="order" name="order" placeholder="请输入序号"> </div> </div> <div class="form-group"> <label for="location" class="col-sm-2 control-label">地点</label> <div class="col-sm-10"> <input type="number" class="form-control" id="location" name="location" placeholder="请输入序号"> <br> 请选择地点: <select name="location-select" ng-click="select($event.target)"> <option value=""></option> <option ng-repeat="location in locations" value="{{location.id}}">{{location.name}}</option> </select> <button name="prev" class="btn" ng-click="prev()">前一组</button> <button name="next" class="btn" ng-click="next()">下一组</button> </div> </div> <div class="form-group"> <label for="file" class="col-sm-2 control-label">图片</label> <div class="col-sm-10"> <input type="file" class="form-control" id="file" name="image" placeholder="请添加相关图片" multiple> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="add()">添加</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <!-- /.modal --> '),a.put("views/clerk/schedule.html",'<nav class="navbar navbar-default" role="navigation"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <a class="navbar-brand" href="">颐佳科技</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" name="q" class="form-control" placeholder="搜索"> </div> <button type="submit" class="btn btn-default" ng-click="search()">搜索</button> </form> <form class="navbar-form navbar-right"> <a class="btn btn-primary" data-toggle="modal" data-target="#add"> 添加档期</a> <a class="btn btn-default" data-toggle="modal" ng-click="exit()">退出</a> </form> </div> <!-- /.navbar-collapse --> </div> <!-- /.container-fluid --> </nav> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'templates/clerk/side.html\'"></div> </div> </div> <div class="col-md-10"> <h2 style="text-align: center;margin-top: 0px"> <a class="btn btn-info" style="position: absolute; left: 0px" ng-href="#/travel/list/{{travelPage}}"> 返回行程 </a> <span> 档期管理(行程ID={{travelId}}) </span> </h2> <!-- /container --> <table class="table table-striped text-center"> <tr> <th>#</th> <th>档期名称</th> <th>人员配额</th> <th>已用配额</th> <th>注意事项</th> <th>开始时间</th> <th>结束时间</th> <th>截止时间</th> <th>上/下线</th> <th>操作</th> </tr> <tr ng-repeat="schedule in schedules track by $index"> <td>{{schedule.id}}</td> <td>{{schedule.title}}</td> <td>{{schedule.quota || 0}}</td> <td>{{schedule.used || 0}}</td> <td>{{schedule.notice}}</td> <td>{{schedule.start_time | iso_date}}</td> <td>{{schedule.end_time | iso_date}}</td> <td>{{schedule.deadline | iso_date}}</td> <td> <button class="btn btn-default online-{{schedule.id}}" ng-show="!schedule.online" ng-click="online(schedule,1);$event.stopPropagation();"> 上线 </button> <button class="btn btn-default offline-{{schedule.id}}" ng-show="schedule.online" ng-click="online(schedule,0);$event.stopPropagation();"> 下线 </button> </td> <td> <button class="btn btn-warning" data-toggle="modal" data-target="#modify" ng-click="openModify(schedule)">修改 </button> <button class="btn btn-danger" ng-click="remove(schedule);$event.stopPropagation()">删除</button> </td> </tr> </table> <ul class="pagination"> <li ng-show="page > 1"><a href="#/schedule/{{travelId}}/list/1">&laquo;</a></li> <li class="disabled" ng-show="page <= 1"><a href="#/schedule/{{travelId}}/list/1">&laquo;</a></li> <li><a href="#/schedule/{{travelId}}/list/{{page - 2}}" ng-show="page - 2 > 0">{{page - 2}}</a></li> <li><a href="#/schedule/{{travelId}}/list/{{page - 1}}" ng-show="page - 1 > 0">{{page - 1}}</a></li> <li class="active"><a href="#/schedule/{{travelId}}/list/{{page}}">{{page}} <span class="sr-only">(current)</span></a></li> <li><a href="#/schedule/{{travelId}}/list/{{page - 0 + 1}}" ng-show="(page - 0 + 1) <= total">{{page - 0 + 1}}</a></li> <li><a href="#/schedule/{{travelId}}/list/{{page - 0 + 2}}" ng-show="(page - 0 + 2) <= total">{{page - 0 + 2}}</a></li> <li ng-show="page < total"><a href="#/schedule/{{travelId}}/list/{{total}}">&raquo;</a></li> <li class="disabled" ng-show="page >= total"><a href="#/schedule/{{travelId}}/list/{{total}}">&raquo;</a></li> <li class="disabled"><a>第{{page}}页 / 共{{total}}页</a></li> </ul> </div> </div> </div> <div class="modal fade" id="modify" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改档期</h3> </div> <div class="modal-body"> <form class="form-horizontal schedule modify" role="form" enctype="multipart/form-data"> <input type="hidden" name="id" value="{{schedule.id}}" ng-model="schedule.id"> <input type="hidden" name="travel" ng-model="travelId" value="{{travelId}}"> <div class="form-group"> <label for="mod-title" class="col-sm-3 control-label">档期名称<span>*</span></label> <div class="col-sm-9"> <input type="text" class="form-control" id="mod-title" name="title" placeholder="请输入档期名称" ng-model="schedule.title"> </div> </div> <div class="form-group"> <label for="mod-quota" class="col-sm-3 control-label">人员配额<span>*</span></label> <div class="col-sm-9"> <input type="text" class="form-control" id="mod-quota" ng-model="schedule.quota" name="quota" placeholder="请输入人员配额"> </div> </div> <div class="form-group"> <label for="mod-used" class="col-sm-3 control-label">已用配额<span>*</span></label> <div class="col-sm-9"> <input type="text" class="form-control" id="mod-used" ng-model="schedule.used" name="used" placeholder="请输入已用配额"> </div> </div> <div class="form-group"> <label for="mod_notice" class="col-sm-3 control-label">注意事项：</label> <div class="col-sm-9"> <textarea class="form-control" id="mod_notice" name="notice" rows="2" placeholder="请输入行程注意事项" value="{{schedule.notice}}"></textarea> </div> </div> <div class="form-group"> <label for="mod-start_time" class="col-sm-3 control-label">开始时间：</label> <div class="col-sm-9"> <input type="datetime" class="datepicker form-control" id="mod-start_time" name="start_time" placeholder="请输入开始时间" value="{{schedule.start_time}}"> </div> </div> <div class="form-group"> <label for="mod-end_time" class="col-sm-3 control-label">结束时间：</label> <div class="col-sm-9"> <input type="datetime" class="datepicker form-control" id="mod-end_time" name="end_time" placeholder="请输入结束时间" value="{{schedule.end_time}}"> </div> </div> <div class="form-group"> <label for="mod_deadline" class="col-sm-3 control-label">截止时间：</label> <div class="col-sm-9"> <input type="datetime" class="datepicker form-control" id="mod_deadline" name="deadline" placeholder="请输入结束时间" value="{{schedule.deadline}}"> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="modify()">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-default" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <div class="modal fade" id="add" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">添加景点</h3> </div> <div class="modal-body"> <form class="form-horizontal schedule add" role="form" enctype="multipart/form-data"> <input type="hidden" name="travel" value="{{travelId}}"> <div class="form-group"> <label for="title" class="col-sm-3 control-label">档期名称<span>*</span></label> <div class="col-sm-9"> <input type="text" class="form-control" id="title" ng-model="title" name="title" placeholder="请输入档期名称"> </div> </div> <div class="form-group"> <label for="quota" class="col-sm-3 control-label">人员配额<span>*</span></label> <div class="col-sm-9"> <input type="text" class="form-control" id="quota" ng-model="quota" name="quota" placeholder="请输入人员配额"> </div> </div> <div class="form-group"> <label for="notice" class="col-sm-3 control-label">注意事项：</label> <div class="col-sm-9"> <textarea class="form-control" id="notice" rows="2" name="notice" placeholder="请输入注意事项" ng-model="notice"></textarea> </div> </div> <div class="form-group"> <label for="start_time" class="col-sm-3 control-label">开始时间：</label> <div class="col-sm-9"> <input type="datetime" class="datepicker form-control" id="start_time" name="start_time" placeholder="请输入开始时间" ng-model="start_time"> </div> </div> <div class="form-group"> <label for="end_time" class="col-sm-3 control-label">结束时间：</label> <div class="col-sm-9"> <input type="datetime" class="datepicker form-control" id="end_time" name="end_time" placeholder="请输入结束时间" ng-model="end_time"> </div> </div> <div class="form-group"> <label for="deadline" class="col-sm-3 control-label">截止时间：</label> <div class="col-sm-9"> <input type="datetime" class="datepicker form-control" id="deadline" name="deadline" placeholder="请输入结束时间" ng-model="deadline"> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="add()">添加</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <!-- /.modal --> '),a.put("views/clerk/service.html",'<nav class="navbar navbar-default" role="navigation"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <a class="navbar-brand" href="">颐佳科技</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" name="q" class="form-control" placeholder="搜索"> </div> <button type="submit" class="btn btn-default" ng-click="search()">搜索</button> </form> <form class="navbar-form navbar-right"> <a class="btn btn-primary" data-toggle="modal" data-target="#add"> 添加服务</a> <a class="btn btn-default" data-toggle="modal" ng-click="exit()">退出</a> </form> </div> <!-- /.navbar-collapse --> </div> <!-- /.container-fluid --> </nav> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'templates/clerk/side.html\'"></div> </div> </div> <div class="col-md-10"> <h2 style="text-align: center;margin-top: 0px">服务管理</h2> <table class="table table-striped text-center"> <tr> <th>#</th> <th>服务名称</th> <th>介绍</th> <th>服务单价</th> <th>服务单位</th> <th>服务开始时间</th> <th>服务结束时间</th> <th>营业开始时间</th> <th>营业结束时间</th> <th>备注</th> <th>上/下线</th> <th>操作</th> </tr> <tr ng-repeat="service in services track by $index"> <td>{{service.id}}</td> <td>{{service.name}}</td> <td>{{service.intro}}</td> <td>{{service.price}}</td> <td>{{service.unit}}</td> <td>{{service.start_time | iso_date}}</td> <td>{{service.end_time | iso_date}}</td> <td>{{service.open_time | iso_time}}</td> <td>{{service.close_time | iso_time}}</td> <td>{{service.note}}</td> <td> <button class="btn btn-default online-{{service.id}}" ng-show="!service.online" ng-click="online(service, 1); $event.stopPropagation();">上线 </button> <button class="btn btn-default offline-{{service.id}}" ng-show="service.online" ng-click="online(service, 0); $event.stopPropagation();">下线 </button> </td> <td> <a class="btn btn-default" data-toggle="modal" data-target="#modify" ng-click="openModify(service)">修改 </a> <button class="btn btn-default" ng-click="remove(service); $event.stopPropagation();">删除 </button> </td> </tr> </table> <ul class="pagination"> <li ng-show="page > 1"><a href="#/service/{{parent}}/list/1">&laquo;</a></li> <li class="disabled" ng-show="page <= 1"><a href="#/service/{{parent}}/list/1">&laquo;</a></li> <li><a href="#/service/{{parent}}/list/{{page - 2}}" ng-show="page - 2 > 0">{{page - 2}}</a></li> <li><a href="#/service/{{parent}}/list/{{page - 1}}" ng-show="page - 1 > 0">{{page - 1}}</a></li> <li class="active"><a href="#/service/{{parent}}/list/{{page}}">{{page}} <span class="sr-only">(current)</span></a></li> <li><a href="#/service/{{parent}}/list/{{page - 0 + 1}}" ng-show="(page - 0 + 1) <= total">{{page - 0 + 1}}</a></li> <li><a href="#/service/{{parent}}/list/{{page - 0 + 2}}" ng-show="(page - 0 + 2) <= total">{{page - 0 + 2}}</a></li> <li ng-show="page < total"><a href="#/service/{{parent}}/list/{{total}}">&raquo;</a></li> <li class="disabled" ng-show="page >= total"><a href="#/service/{{parent}}/list/{{total}}">&raquo;</a></li> <li class="disabled"><a>第{{page}}页 / 共{{total}}页</a></li> </ul> </div> </div> </div> <div class="modal fade" id="modify" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改服务</h3> </div> <div class="modal-body"> <form class="form-horizontal service modify" role="form" enctype="multipart/form-data"> <input type="hidden" name="id" value="{{service.id}}"> <div class="form-group"> <label for="mod-name" class="col-sm-3 control-label">服务名称：</label> <div class="col-sm-9"> <input type="text" class="form-control" id="mod-name" name="name" placeholder="请输入服务名称" value="{{service.name}}"> </div> </div> <div class="form-group"> <label for="mod-price" class="col-sm-3 control-label">服务单价：</label> <div class="col-sm-9"> <input type="text" class="form-control" id="mod-price" name="price" placeholder="请输入单价" value="{{service.price}}"> </div> </div> <div class="form-group"> <label for="mod-unit" class="col-sm-3 control-label">服务单位：</label> <div class="col-sm-9"> <input type="integer" class="form-control" id="mod-unit" name="unit" placeholder="请输入服务单位" value="{{service.unit}}"> </div> </div> <div class="form-group"> <label for="mod-start_time" class="col-sm-3 control-label">开始时间：</label> <div class="col-sm-9"> <input type="datetime" class="datepicker form-control" id="mod-start_time" name="start_time" placeholder="请输入开始时间" value="{{service.start_time}}"> </div> </div> <div class="form-group"> <label for="mod-end_time" class="col-sm-3 control-label">结束时间：</label> <div class="col-sm-9"> <input type="datetime" class="datepicker form-control" id="mod-end_time" name="end_time" placeholder="请输入结束时间" value="{{service.end_time}}"> </div> </div> <div class="form-group"> <label for="mod-open_time" class="col-sm-3 control-label">开店时间：</label> <div class="col-sm-9"> <input type="time" class="datepicker form-control" id="mod-open_time" name="open_time" placeholder="请输入开店时间" value="{{service.open_time | iso_time}}"> </div> </div> <div class="form-group"> <label for="mod-close_time" class="col-sm-3 control-label">打烊时间：</label> <div class="col-sm-9"> <input type="time" class="datepicker form-control" id="mod-close_time" name="close_time" placeholder="请输入打烊时间" value="{{service.close_time | iso_time}}"> </div> </div> <div class="form-group"> <label for="mod-intro" class="col-sm-3 control-label">介绍：</label> <div class="col-sm-9"> <textarea class="form-control" id="mod-intro" name="intro" placeholder="请输入简介">{{service.intro}}</textarea> </div> </div> <div class="form-group"> <label for="mod-note" class="col-sm-3 control-label">备注：</label> <div class="col-sm-9"> <textarea class="form-control" id="mod-note" name="note" placeholder="请输入备注">{{service.note}}</textarea> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-9"> <button type="button" class="btn btn-default" ng-click="modify()">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <!-- /.modal --> <div class="modal fade" id="add" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">添加服务</h3> </div> <div class="modal-body"> <form class="form-horizontal service add" role="form" enctype="multipart/form-data"> <div class="form-group"> <label for="name" class="col-sm-3 control-label">服务名称：</label> <div class="col-sm-9"> <input type="text" class="form-control" id="name" name="name" placeholder="请输入服务名称" ng-model="name"> </div> </div> <div class="form-group"> <label for="price" class="col-sm-3 control-label">服务单价：</label> <div class="col-sm-9"> <input type="text" class="form-control" id="price" name="price" placeholder="请输入单价" ng-model="price"> </div> </div> <div class="form-group"> <label for="unit" class="col-sm-3 control-label">服务单位：</label> <div class="col-sm-9"> <input type="integer" class="form-control" id="unit" name="unit" placeholder="请输入服务单位" ng-model="unit"> </div> </div> <div class="form-group"> <label for="start_time" class="col-sm-3 control-label">开始时间：</label> <div class="col-sm-9"> <input type="datetime" class="datepicker form-control" id="start_time" name="start_time" placeholder="请输入开始时间" ng-model="start_time"> </div> </div> <div class="form-group"> <label for="end_time" class="col-sm-3 control-label">结束时间：</label> <div class="col-sm-9"> <input type="datetime" class="datepicker form-control" id="end_time" name="end_time" placeholder="请输入结束时间" ng-model="end_time"> </div> </div> <div class="form-group"> <label for="open_time" class="col-sm-3 control-label">开店时间：</label> <div class="col-sm-9"> <input type="time" class="datepicker form-control" id="open_time" name="open_time" placeholder="请输入开店时间" ng-model="open_time"> </div> </div> <div class="form-group"> <label for="close_time" class="col-sm-3 control-label">打烊时间：</label> <div class="col-sm-9"> <input type="time" class="datepicker form-control" id="close_time" name="close_time" placeholder="请输入打烊时间" ng-model="close_time"> </div> </div> <div class="form-group"> <label for="intro" class="col-sm-3 control-label">介绍：</label> <div class="col-sm-9"> <textarea class="form-control" id="intro" name="intro" placeholder="请输入简介" ng-model="intro"></textarea> </div> </div> <div class="form-group"> <label for="note" class="col-sm-3 control-label">备注：</label> <div class="col-sm-9"> <textarea class="form-control" id="note" name="note" placeholder="请输入备注" ng-model="note"></textarea> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-9"> <button type="button" class="btn btn-default" ng-click="add()">添加</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <!-- /.modal --> '),a.put("views/clerk/side.html",'<div class="list-group items"> <a href="#/clerk/member/list/1" class="list-group-item" name="member-management">会员管理</a> <a href="#/order/list/1" class="list-group-item" name="order-management">订单管理</a> <a href="#/reservation/list/1" class="list-group-item" name="reservation-management">预订管理</a> <a href="#/travel/list/1" class="list-group-item" name="travel-management">行程管理</a> <a href="#/channel/list/1" class="list-group-item" name="channel-management">渠道管理</a> <a href="#/template/list/1" class="list-group-item" name="template-management">模板管理</a> <a href="#/promotion/list/1" class="list-group-item" name="promotion-management">推广管理</a> <a href="#/location/list/1" class="list-group-item" name="location-management">地点管理</a> <a href="#/route/list/1" class="list-group-item" name="route-management">线路管理</a> <a href="#/activity/list/1" class="list-group-item" name="activity-management">活动管理</a> <a href="#/service/0/list/1" class="list-group-item" name="service-list">服务列表</a> <a href="#/comment/list/1" class="list-group-item" name="comment-list">评论列表</a> </div>'),a.put("views/clerk/template.html",'<nav class="navbar navbar-default" role="navigation"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <a class="navbar-brand" href="">颐佳科技</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" name="q" class="form-control" placeholder="搜索"> </div> <button type="submit" class="btn btn-default" ng-click="search()">搜索</button> </form> <form class="navbar-form navbar-right"> <a class="btn btn-primary" data-toggle="modal" data-target="#add"> 添加模板</a> <a class="btn btn-default" data-toggle="modal" ng-click="exit()">退出</a> </form> </div> <!-- /.navbar-collapse --> </div> <!-- /.container-fluid --> </nav> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'templates/clerk/side.html\'"></div> </div> </div> <div class="col-md-10"> <h2 style="text-align: center;margin-top: 0px">模板管理</h2> <!-- /container --> <table class="table table-striped text-center"> <tr> <th>ID</th> <th>名称</th> <th>内容</th> <th>url地址</th> <th>具体模板列表</th> <th>操作</th> </tr> <tr ng-repeat="template in templates track by $index"> <td>{{template.id}}</td> <td>{{template.title}}</td> <td>{{template.content}}</td> <td>{{template.url}}</td> <td><a ng-click="goto(template)">模板详情</a></td> <td> <button class="btn btn-warning" data-toggle="modal" data-target="#modify" ng-click="openModify(template)">修改</button> <button class="btn btn-danger" ng-click="remove(template);$event.stopPropagation()">删除</button> </td> </tr> </table> <ul class="pagination"> <li ng-show="page > 1"><a href="#/template/list/1">&laquo;</a></li> <li class="disabled" ng-show="page <= 1"><a href="#/template/list/1">&laquo;</a></li> <li><a href="#/template/list/{{page - 2}}" ng-show="page - 2 > 0">{{page - 2}}</a></li> <li><a href="#/template/list/{{page - 1}}" ng-show="page - 1 > 0">{{page - 1}}</a></li> <li class="active"><a href="#/template/list/{{page}}">{{page}} <span class="sr-only">(current)</span></a></li> <li><a href="#/template/list/{{page - 0 + 1}}" ng-show="(page - 0 + 1) <= total">{{page - 0 + 1}}</a></li> <li><a href="#/template/list/{{page - 0 + 2}}" ng-show="(page - 0 + 2) <= total">{{page - 0 + 2}}</a></li> <li ng-show="page < total"><a href="#/template/list/{{total}}">&raquo;</a></li> <li class="disabled" ng-show="page >= total"><a href="#/template/list/{{total}}">&raquo;</a></li> <li class="disabled"><a>第{{page}}页 / 共{{total}}页</a></li> </ul> </div> </div> </div> <div class="modal fade" id="modify" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改模板</h3> </div> <div class="modal-body"> <form class="form-horizontal template modify" role="form"> <input type="hidden" name="id" value="{{template.id}}" ng-model="template.id"> <div class="form-group"> <label for="mod-title" class="col-sm-2 control-label">模板<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod-title" name="title" value="{{template.title}}"> </div> </div> <div class="form-group"> <label for="mod-content" class="col-sm-2 control-label">内容</label> <div class="col-sm-10"> <textarea class="form-control" id="mod-content" rows="2" name="content">{{template.content}}</textarea> </div> </div> <div class="form-group"> <label for="mod-url" class="col-sm-2 control-label">URL</label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod-url" name="url" value="{{template.url}}"> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="modify(template)">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-default" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <div class="modal fade" id="add" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">添加模板</h3> </div> <div class="modal-body"> <form class="form-horizontal template add" role="form"> <div class="form-group"> <label for="title" class="col-sm-2 control-label">模板<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="title" ng-model="title" name="title" placeholder="请输入模板名称"> </div> </div> <div class="form-group"> <label for="content" class="col-sm-2 control-label">内容</label> <div class="col-sm-10"> <textarea class="form-control" id="content" name="content" rows="2" placeholder="请输入备注信息">{{template.content}}</textarea> </div> </div> <div class="form-group"> <label for="url" class="col-sm-2 control-label">URL地址</label> <div class="col-sm-10"> <input type="text" class="form-control" id="url" name="url" ng-model="url" placeholder="请输入URL地址"> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="add()">添加</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <!-- /.modal --> '),
a.put("views/clerk/travel.html",'<nav class="navbar navbar-default" role="navigation"> <div class="container-fluid"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <a class="navbar-brand" href="">颐佳科技</a> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <form class="navbar-form navbar-left" role="search"> <div class="form-group"> <input type="text" name="q" class="form-control" placeholder="搜索"> </div> <button type="submit" class="btn btn-default" ng-click="search()">搜索</button> </form> <form class="navbar-form navbar-right"> <a class="btn btn-primary" data-toggle="modal" data-target="#add" ng-click="openAdd()"> 添加行程</a> <a class="btn btn-default" data-toggle="modal" ng-click="exit()">退出</a> </form> </div> <!-- /.navbar-collapse --> </div> <!-- /.container-fluid --> </nav> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'templates/clerk/side.html\'"></div> </div> </div> <div class="col-md-10"> <h2 style="text-align: center;margin-top: 0px">行程管理</h2> <table class="table table-striped text-center"> <tr> <th>#</th> <th>行程名称</th> <th>线路</th> <th>介绍</th> <th>详情</th> <th>标签</th> <th>注意事项</th> <th>费用</th> <th>费用说明</th> <th>档期列表</th> <th>图片</th> <th>上/下线</th> <th>操作</th> </tr> <tr ng-repeat="travel in travels track by $index"> <td>{{travel.id}}</td> <td>{{travel.name}}</td> <td>{{travel.route}}</td> <td>{{travel.intro}}</td> <td>{{travel.content}}</td> <td>{{travel.tags}}</td> <td>{{travel.notice}}</td> <td>{{travel.price}}</td> <td>{{travel.price_detail}}</td> <td> <a ng-click="goto(travel)">档期管理</a> </td> <td> <span ng-repeat="image in travel.images" class="imgs{{travel.sis[$index]}}"> <a ng-href="{{image.url}}" target="_blank"> <img ng-src="{{image.url}}" alt="{{image.hash}}" height="50px"> </a> </span> </td> <td> <button class="btn btn-default online-{{travel.id}}" ng-show="!travel.online" ng-click="online(travel,1);$event.stopPropagation();"> 上线 </button> <button class="btn btn-default offline-{{travel.id}}" ng-show="travel.online" ng-click="online(travel,0);$event.stopPropagation();"> 下线 </button> </td> <td> <a class="btn btn-default" data-toggle="modal" data-target="#modify" ng-click="openModify(travel)">修改 </a> <button class="btn btn-default" ng-click="remove(travel); $event.stopPropagation();">删除 </button> </td> </tr> </table> <ul class="pagination"> <li ng-show="page > 1"><a href="#/travel/{{parent}}/list/1">&laquo;</a></li> <li class="disabled" ng-show="page <= 1"><a href="#/travel/{{parent}}/list/1">&laquo;</a></li> <li><a href="#/travel/{{parent}}/list/{{page - 2}}" ng-show="page - 2 > 0">{{page - 2}}</a></li> <li><a href="#/travel/{{parent}}/list/{{page - 1}}" ng-show="page - 1 > 0">{{page - 1}}</a></li> <li class="active"><a href="#/travel/{{parent}}/list/{{page}}">{{page}} <span class="sr-only">(current)</span></a></li> <li><a href="#/travel/{{parent}}/list/{{page - 0 + 1}}" ng-show="(page - 0 + 1) <= total">{{page - 0 + 1}}</a></li> <li><a href="#/travel/{{parent}}/list/{{page - 0 + 2}}" ng-show="(page - 0 + 2) <= total">{{page - 0 + 2}}</a></li> <li ng-show="page < total"><a href="#/travel/{{parent}}/list/{{total}}">&raquo;</a></li> <li class="disabled" ng-show="page >= total"><a href="#/travel/{{parent}}/list/{{total}}">&raquo;</a></li> <li class="disabled"><a>第{{page}}页 / 共{{total}}页</a></li> </ul> </div> </div> </div> <div class="modal fade" id="modify" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改行程</h3> </div> <div class="modal-body"> <form class="form-horizontal travel modify" role="form" enctype="multipart/form-data"> <input type="hidden" name="id" value="{{travel.id}}" ng-model="travel.id"> <div class="form-group"> <label for="mod-name" class="col-sm-3 control-label">行程名称：</label> <div class="col-sm-9"> <input type="text" class="form-control" id="mod-name" name="name" placeholder="请输入行程名称" value="{{travel.name}}"> </div> </div> <div class="form-group"> <label class="col-sm-3 control-label">路线<span>*</span></label> <div class="col-sm-9"> <!--<input type="text" class="form-control" id="mod-route" name="route"--> <!--placeholder="请输入线路ID"ng-model="travel.route">--> <!--<br/>--> 请选择线路: <select name="routeId" ng-click="select($event.target)"> <option ng-repeat="route in routes" value="{{route.id}}">{{route.name}}</option> </select> <button name="prev" class="btn" ng-click="prev">前一组</button> <button name="next" class="btn" ng-click="next">下一组</button> </div> </div> <div class="form-group"> <label for="mod_intro" class="col-sm-3 control-label">行程介绍：</label> <div class="col-sm-9"> <textarea class="form-control" id="mod_intro" rows="2" name="intro" placeholder="请输入行程介绍">{{travel.intro}}</textarea> </div> </div> <div class="form-group"> <label for="mod_content" class="col-sm-3 control-label">详情：</label> <div class="col-sm-9"> <textarea class="form-control" id="mod_content" name="content" rows="3" placeholder="请输入详情">{{travel.content}}</textarea> </div> </div> <div class="form-group"> <label for="mod_tags" class="col-sm-3 control-label">标签：</label> <div class="col-sm-9"> <input type="text" class="form-control" id="mod_tags" name="tags" placeholder="请输入标签" value="{{travel.tags}}"> </div> </div> <div class="form-group"> <label for="mod_notice" class="col-sm-3 control-label">注意事项：</label> <div class="col-sm-9"> <textarea class="form-control" id="mod_notice" name="notice" rows="2" placeholder="请输入行程注意事项">{{travel.notice}}</textarea> </div> </div> <div class="form-group"> <label for="mod_price" class="col-sm-3 control-label">行程单价：</label> <div class="col-sm-9"> <input type="number" class="form-control" id="mod_price" name="price" placeholder="请输入单价" value="{{travel.price}}"> </div> </div> <div class="form-group"> <label for="mod_price_detail" class="col-sm-3 control-label">费用说明：</label> <div class="col-sm-9"> <textarea class="form-control" id="mod_price_detail" name="price_detail" rows="2">{{travel.price_detail}}</textarea> </div> </div> <div class="form-group"> <label for="mod_file" class="col-sm-3 control-label">图片：</label> <div class="col-sm-9"> <img ng-repeat="image in travel.images track by $index" ng-src="{{image.url}}" class="imgs{{travel.sis[$index]}}" ng-click="removeImage(travel.sis[$index],$event.target)" height="80px" style="padding: 2px"> <input type="file" class="form-control" id="mod_file" name="image" placeholder="请输入图片"> </div> </div> <div class="form-group"> <div class="col-sm-offset-3 col-sm-9"> <button type="button" class="btn btn-default" ng-click="modify()">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <!-- /.modal --> <div class="modal fade" id="add" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">添加行程</h3> </div> <div class="modal-body"> <form class="form-horizontal travel add" role="form" enctype="multipart/form-data"> <div class="form-group"> <label for="name" class="col-sm-3 control-label">行程名称：</label> <div class="col-sm-9"> <input type="text" class="form-control" id="name" name="name" placeholder="请输入行程名称" ng-model="name"> </div> </div> <div class="form-group"> <label class="col-sm-3 control-label">路线<span>*</span></label> <div class="col-sm-9"> <!--<input type="text" class="form-control" id="route" name="route"--> <!--placeholder="请输入线路ID" ng-model="routeId">--> <!--<br/>--> 请选择线路: <select name="route" ng-click="select($event.target)"> <option ng-repeat="route in routes" value="{{route.id}}">{{route.name}}</option> </select> <button name="prev" class="btn" ng-click="prev()">前一组</button> <button name="next" class="btn" ng-click="next()">下一组</button> </div> </div> <div class="form-group"> <label for="intro" class="col-sm-3 control-label">介绍：</label> <div class="col-sm-9"> <textarea class="form-control" id="intro" rows="2" name="intro" placeholder="请输入简介" ng-model="intro"></textarea> </div> </div> <div class="form-group"> <label for="content" class="col-sm-3 control-label">详情：</label> <div class="col-sm-9"> <textarea class="form-control" id="content" rows="2" name="content" placeholder="请输入详情" ng-model="content"></textarea> </div> </div> <div class="form-group"> <label for="tags" class="col-sm-3 control-label">标签：</label> <div class="col-sm-9"> <input type="text" class="form-control" id="tags" name="tags" placeholder="请输入标签" ng-model="tags"> </div> </div> <div class="form-group"> <label for="notice" class="col-sm-3 control-label">注意事项：</label> <div class="col-sm-9"> <textarea class="form-control" id="notice" rows="2" name="notice" placeholder="请输入注意事项" ng-model="notice"></textarea> </div> </div> <div class="form-group"> <label for="price" class="col-sm-3 control-label">行程单价：</label> <div class="col-sm-9"> <input type="number" class="form-control" id="price" name="price" placeholder="请输入行程单价" ng-model="price"> </div> </div> <div class="form-group"> <label for="price_detail" class="col-sm-3 control-label">费用说明：</label> <div class="col-sm-9"> <textarea class="form-control" id="price_detail" rows="2" name="price_detail" placeholder="请输入费用说明" ng-model="price_detail"></textarea> </div> </div> <div class="form-group"> <label for="file" class="col-sm-3 control-label">图片：</label> <div class="col-sm-9"> <input type="file" class="form-control" id="file" name="image" placeholder="请添加相关图片" multiple> </div> </div> <div class="form-group"> <div class="col-sm-offset-3 col-sm-9"> <button type="button" class="btn btn-default" ng-click="add()">添加</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <!-- /.modal --> '),a.put("views/footer.html",'<div class="footer-bar"> <div class="container"> <div class="row"> <div class="col-md-3 col-xs-3"><div class="tool-bar grocery" ng-class="{\'active\': module == \'order\'}"><p><a href="#/order/home"><i class="fa fa-file-text"></i>订单</a></p><b></b></div></div> <div class="col-md-3 col-xs-3"><div class="tool-bar cart" ng-class="{\'active\': module == \'merchandise\'}"><p><a href="#/merchandise/home"><i class="fa fa-shopping-cart"></i>商品</a></p><b></b></div></div> <div class="col-md-3 col-xs-3"><div class="tool-bar order" ng-class="{\'active\': module == \'grocery\'}"><p><a href="#/grocery/home"><i class="fa fa-home"></i>店铺</a></p><b></b></div></div> <div class="col-md-3 col-xs-3"><div class="tool-bar user last" ng-class="{\'active\': module == \'user\'}"><p><a href="#/user/home"><i class="fa fa-user"></i>用户</a></p><b></b></div></div> </div> </div> </div>'),a.put("views/grocery/edit-content.html",'<div class="container"> <div class="row"> <div class="col-md-12 col-xs-12 col-lg-12"> <form class="form-horizontal grocery modify" role="form" enctype="multipart/form-data"> <div class="form-group"> <label class="col-sm-2 control-label">门店名称:</label> <div class="col-sm-10"> <input type="email" class="form-control" ng-model="grocery.name" name="name" placeholder="名称" required> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">门店电话:</label> <div class="col-sm-10"> <input type="tel" class="form-control" ng-model="grocery.phone" name="phone" placeholder="电话" required> </div> </div> <div class="form-group no-line"> <label class="col-sm-2 control-label">营业时间:</label> <div class="col-sm-10"> <div class="input-group"> <span class="input-group-addon">开始<code class="hidden-xs">时间</code> </span> <input type="time" class="form-control datepicker" placeholder="请输入开始时间" aria-describedby="开始时间" ng-value="grocery.start_time" name="start_time" required> </div> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label"></label> <div class="col-sm-10"> <div class="input-group"> <span class="input-group-addon">结束<code class="hidden-xs">时间</code> </span> <input type="time" class="form-control datepicker" placeholder="请输入结束时间" aria-describedby="结束时间" ng-value="grocery.end_time" name="end_time" required> </div> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">门店地址:</label> <div class="col-sm-10"> <input type="text" class="form-control" ng-model="grocery.address" name="address" placeholder="地址" required> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">门店介绍:</label> <div class="col-sm-10"> <textarea class="form-control" ng-model="grocery.intro" name="intro" placeholder="介绍" required></textarea> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">门店logo:</label> <div class="col-sm-10"> <img ng-src="{{grocery.logo.url}}" ng-show="grocery.logo.url" class="image-uploader grocery-edit-image-{{grocery.logo.id}}" ng-click="removeImage(grocery.logo.id)"> <div class="image-uploader"> <input type="file" class="form-control" id="mod-file" name="logo" placeholder="请输入图片"> </div> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">配送选项:</label> <div class="col-sm-10"> <div class="radio"> <label> <input type="radio" name="delivery" value="true" ng-checked="grocery.delivery"> 支持 </label> </div> <div class="radio"> <label> <input type="radio" name="delivery" value="false" ng-checked="!grocery.delivery" ng-click="disableDelivery()"> 不支付 </label> </div> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">起送金额:</label> <div class="col-sm-10"> <input class="form-control" ng-model="grocery.delivery_limit" name="delivery_limit" placeholder="0.0" required> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">最远配送距离:</label> <div class="col-sm-10"> <input class="form-control" ng-model="grocery.delivery_distance" name="delivery_distance" placeholder="0.0" required> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">最低配送费:</label> <div class="col-sm-10"> <input class="form-control" ng-model="grocery.delivery_fee" name="delivery_fee" placeholder="0.0" required> </div> </div> <div class="form-group"> <div class="col-xs-12"> <a type="button" class="btn btn-danger btn-block" ng-click="modify(grocery)">修改</a> </div> </div> </form> </div> </div> </div>'),a.put("views/grocery/edit.html",'<div class="header-bar"> <div class="container"> <div class="row"> <div class="col-md-3 col-xs-3"></div> <div class="col-md-6 col-xs-6"> 修改门店 </div> <div class="col-md-3 col-xs-3"></div> </div> </div> </div> <div class="body-bar"> <div class="tab-bar"> <div class="row"> <div class="col-md-6 col-xs-6" ng-class="{\'active\': type === \'profile\'}"> <p> <a href="#/grocery/home"> 设置 </a> </p> </div> <div class="col-md-6 col-xs-6" ng-class="{\'active\': type === \'location\'}"> <p> <a href="#/grocery/location"> 定位 </a> </p> </div> </div> </div> <div ng-include src="\'views/grocery/edit-content.html\'" class="tab-body-bar"></div> </div> <div ng-include src="\'views/footer.html\'"></div>'),a.put("views/grocery/home.html",'<div class="header-bar"> <div class="container"> <div class="row"> <div class="col-md-3 col-xs-3"> </div> <div class="col-md-6 col-xs-6"> 店铺信息 </div> <div class="col-md-3 col-xs-3"> </div> </div> </div> </div> <div class="body-bar"> <div class="tab-bar"> <div class="row"> <div class="col-md-6 col-xs-6" ng-class="{\'active\': type === \'profile\'}"> <p> <a href="#/grocery/home"> 设置 </a> </p> </div> <div class="col-md-6 col-xs-6" ng-class="{\'active\': type === \'location\'}"> <p> <a href="#/grocery/location"> 定位 </a></p> </div> </div> </div> <div ng-include src="\'views/grocery/profile.html\'" class="tab-body-bar margin-top"></div> </div> <div ng-include src="\'views/footer.html\'"></div>'),a.put("views/grocery/location-content.html",'<div class="container"> <div class="row"> <div class="col-sm-12"> <div class="map-controller"> <table style="width:100%"> <tr> <td>纬度:</td> <td><span class="latitude">{{latitude || \'0.00\'}}</span></td> <td rowspan="2"><a class="btn btn-danger" ng-click="saveLocation()">保存</a></td> </tr> <tr> <td>经度: </td> <td><span class="longitude">{{longitude || \'0.00\'}}</span></td> </tr> </table> <p class="alert alert-info text-center"> 请点击地图位置获取坐标 </p> </div> </div> <div map-lazy-load="https://maps.google.com/maps/api/js" map-lazy-load-params=""> <ng-map center="34.7, 98.2" zoom="3"> <!-- <marker position="{{latitude || 34.7}}, {{longitude || 98.2}}"></marker> --> </ng-map> </div> </div> </div>'),a.put("views/grocery/location.html",'<div class="header-bar"> <div class="container"> <div class="row"> <div class="col-md-3 col-xs-3"></div> <div class="col-md-6 col-xs-6"> 位置设置 </div> <div class="col-md-3 col-xs-3"></div> </div> </div> </div> <div class="body-bar"> <div class="tab-bar"> <div class="row"> <div class="col-md-6 col-xs-6" ng-class="{\'active\': type === \'profile\'}"> <p> <a href="#/grocery/home"> 设置 </a> </p> </div> <div class="col-md-6 col-xs-6" ng-class="{\'active\': type === \'location\'}"> <p> <a href="#/grocery/location"> 定位 </a> </p> </div> </div> </div> <div ng-include src="\'views/grocery/location-content.html\'" class="tab-body-bar"></div> </div> <div ng-include src="\'views/footer.html\'"></div>'),a.put("views/grocery/profile.html",'<div class="list margin-top"> <div class="list-text-item"> <span>门店名称:</span> {{grocery.name}} &nbsp; </div> <div class="list-text-item"> <span>门店电话:</span> {{grocery.phone}} &nbsp; </div> <div class="list-text-item"> <span>营业时间:</span> <i ng-model="start_time">{{grocery.start_time}}</i> 至 <i ng-model="end_time">{{grocery.end_time}}</i> </div> <div class="list-text-item"> <span>门店地址:</span> {{grocery.address}} &nbsp; </div> <div class="list-text-item"> <span>门店介绍:</span> {{grocery.intro}} &nbsp; </div> <div class="list-text-item"> <span>门店logo:</span> <img ng-src="{{grocery.logo}}" height="50px"> <a ng-href="{{grocery.logo}}" target="_blank"></a> </div> <div class="list-text-item"> <span>是否配送:</span> {{grocery.delivery ? \'是\' : \'否\'}} &nbsp; </div> <div class="list-text-item"> <span>配送距离:</span> {{grocery.delivery_distance}} &nbsp; </div> <div class="list-text-item"> <span>起送额:</span> {{grocery.delivery_limit}} &nbsp; </div> <div class="list-text-item"> <span>送货费:</span> {{grocery.delivery_fee}} &nbsp; </div> <div class="list-text-item" ng-show="grocery.approved !== \'APPROVED\'"> <span>申请审核:</span> <p class="form-control-static" ng-switch on="grocery.approved"> <button class="btn btn-default" ng-show="!grocery.approved" ng-click="verfiy()">申请审核</button> </p> </div> <div class="list-text-item"> <span>是否通过审核:</span> <code class="form-control-static" ng-switch on="grocery.approved"> <i ng-switch-when="APPROVED">审核通过</i> <i ng-switch-when="REJECTED">审核未通过</i> <i ng-switch-when="UNCHECKED">尚未审核</i> <i ng-switch-default>尚未审核</i> </code> &nbsp; </div> </div> <div class="container"> <div class="row"> <div class="col-xs-12"> <a class="btn btn-danger btn-block" ng-href="#/grocery/edit">修改</a> </div> </div> </div>'),a.put("views/location/main.html",'<div ng-include src="\'views/navbar.html\'"></div> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'views/sidebar.html\'"></div> </div> </div> <div class="col-md-10"> <div class="row mini-header"> <h4 class="text-center">门店位置 </h4> </div> <div class="row mobile-main"> <div class="map" id="map"></div> <div> <p class="latlng">经纬度：<span>{{latitude || \'0.00\'}}</span>, <span>{{longitude || \'0.00\'}}</span></p> <form class="navbar-form navbar-right"> <p><a class="btn btn-primary" data-toggle="modal" ng-click="save()">保存</a></p> </form> </div> </div> </div> </div> </div> <!--<div ng-include src="\'views/modal.html\'"></div>--> <!--<div ng-include src="\'views/store/edit.html\'"></div>--> <!--<script src="http://maps.google.cn/maps/api/js?key=AIzaSyAe2tgmpNyIcrwNtZqj1s3LSO51E5ArKRM" type="text/javascript"></script>-->'),a.put("views/merchandise/control-panel.html",'<div class="dropdown-group"> <div class="dropdown navbar-left"> <button class="btn btn-default dropdown-toggle" type="button" id="category-dropdown" data-toggle="dropdown" aria-expanded="true"> 分类 <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu" aria-labelledby="category-dropdown"> <li role="presentation"><a role="menuitem" tabindex="-1" ng-click="selectCategory()">全部分类</a> </li> <li role="presentation" ng-repeat="category in categories"><a role="menuitem" tabindex="-1" ng-click="selectCategory(category)">{{category.name}}</a> </li> </ul> <div class="navbar-right"> <span class="label label-success selected">{{categoryName || \'全部分类\'}}</span> </div> </div> <div class="dropdown navbar-left"> <button class="btn btn-default dropdown-toggle" type="button" id="order-dropdown" data-toggle="dropdown" aria-expanded="true"> 排序 <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu" aria-labelledby="order-dropdown"> <li role="presentation"><a role="menuitem" tabindex="-1" ng-click="selectOrder({})">默认排序</a></li> <li role="presentation" ng-repeat="order in orders"> <a role="menuitem" tabindex="-1" ng-click="selectOrder(order)">{{order.name}}</a> </li> </ul> <div class="navbar-right"> <span class="label label-info selected">{{orderName|| \'默认排序\'}}</span> </div> </div> <div class="dropdown navbar-left"> <button class="btn btn-default dropdown-toggle" type="button" id="online-dropdown" data-toggle="dropdown" aria-expanded="true"> 上下线 <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu" aria-labelledby="online-dropdown"> <li role="presentation"><a role="menuitem" tabindex="-1" ng-click="selectOnline(\'all\')">全部</a></li> <li role="presentation"> <a role="menuitem" tabindex="-1" ng-click="selectOnline(\'online\')">上线</a> </li> <li role="presentation"> <a role="menuitem" tabindex="-1" ng-click="selectOnline(\'offline\')">下线</a> </li> </ul> <div class="navbar-right"> <span class="label label-info selected">{{onlineString}}</span> </div> </div> </div> <form class="navbar-form navbar-right"> <div class="form-group"> <input type="text" class="form-control form-control-sm" id="q" ng-model="q" name="q" placeholder="搜索商品"> <button type="button" class="btn btn-info search navbar-left" ng-click="search()">搜索</button> <br> </div> <div class="form-group no-line"> <button type="button" class="btn btn-info search navbar-left" ng-click="search()">搜索</button> <a class="btn btn-primary visible-xs-inline-block" href="#/merchandise/add"> 添加商品</a> <a class="btn btn-primary hidden-xs" data-toggle="modal" data-target="#add" ng-click="openAdd()"> 添加商品</a> </div> </form>'),a.put("views/merchandise/desktop-list.html",'<table class="table table-striped"> <tr> <th>ID</th> <th>商品名</th> <th>描述/介绍</th> <th>品牌</th> <th>分类</th> <th>图片</th> <th>价格</th> <th>操作</th> </tr> <tr ng-repeat="sm in merchandises track by $index"> <td>{{sm.id}}</td> <td>{{sm.merchandise.name}}</td> <td>{{sm.merchandise.desc}}</td> <td>{{sm.merchandise.brand}}</td> <td>{{sm.category.name}}</td> <td><span ng-repeat="image in sm.images" class="imgs{{sm.sis[$index]}}"><a ng-click="removeImage(sm.merchandise.id, sm.images[$index].id);"><img ng-src="{{image.url}}" alt="{{image.hash}}" height="50px"></a>&nbsp;</span> </td> <td>{{sm.price | currency}}</td> <td> <button class="btn btn-warning" ng-show="!sm.online" ng-click="online(sm);$event.stopPropagation()">上线 </button> <button class="btn btn-success" ng-show="sm.online" ng-click="offline(sm);$event.stopPropagation()">下线 </button> <button class="btn btn-info" data-toggle="modal" data-target="#modify" ng-click="openModify(sm, sm.sis, sm.images, sm.price)">修改 </button> <button class="btn btn-danger" ng-click="remove(sm);$event.stopPropagation()">删除</button> </td> </tr> </table>'),a.put("views/merchandise/desktop-tool-bar.html",'<div class="clearfix hidden-xs hidden"> <div class="dropdown-group"> <div class="dropdown navbar-left"> <button class="btn btn-default dropdown-toggle" type="button" id="category-dropdown" data-toggle="dropdown" aria-expanded="true"> 分类 <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu" aria-labelledby="category-dropdown"> <li role="presentation"><a role="menuitem" tabindex="-1" ng-click="selectCategory()">全部分类</a> </li> <li role="presentation" ng-repeat="category in categories"><a role="menuitem" tabindex="-1" ng-click="selectCategory(category)">{{category.name}}</a> </li> </ul> <div class="navbar-right"> <span class="label label-success selected">{{categoryName || \'全部分类\'}}</span> </div> </div> <div class="dropdown navbar-left"> <button class="btn btn-default dropdown-toggle" type="button" id="order-dropdown" data-toggle="dropdown" aria-expanded="true"> 排序 <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu" aria-labelledby="order-dropdown"> <li role="presentation"><a role="menuitem" tabindex="-1" ng-click="selectOrder({})">默认排序</a></li> <li role="presentation" ng-repeat="order in orders"> <a role="menuitem" tabindex="-1" ng-click="selectOrder(order)">{{order.name}}</a> </li> </ul> <div class="navbar-right"> <span class="label label-info selected">{{orderName|| \'默认排序\'}}</span> </div> </div> <div class="dropdown navbar-left"> <button class="btn btn-default dropdown-toggle" type="button" id="online-dropdown" data-toggle="dropdown" aria-expanded="true"> 上下线 <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu" aria-labelledby="online-dropdown"> <li role="presentation"><a role="menuitem" tabindex="-1" ng-click="selectOnline(\'all\')">全部</a></li> <li role="presentation"> <a role="menuitem" tabindex="-1" ng-click="selectOnline(\'online\')">上线</a> </li> <li role="presentation"> <a role="menuitem" tabindex="-1" ng-click="selectOnline(\'offline\')">下线</a> </li> </ul> <div class="navbar-right"> <span class="label label-info selected">{{onlineString}}</span> </div> </div> </div> <form class="navbar-form navbar-right"> <div class="form-group"> <input type="text" class="form-control form-control-sm" id="q" ng-model="q" name="q" placeholder="搜索商品"> </div> <div class="form-group no-line"> <button type="button" class="btn btn-info search navbar-left" ng-click="search()">搜索</button> <a class="btn btn-primary visible-xs-inline-block" href="#/merchandise/add"> 添加商品</a> <a class="btn btn-primary hidden-xs" data-toggle="modal" data-target="#add" ng-click="openAdd()"> 添加商品</a> </div> </form> </div>'),a.put("views/merchandise/edit.html",'<div class="modal fade" id="modify" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改商品</h3> </div> <div class="modal-body"> <form class="form-horizontal merchandise modify" role="form" enctype="multipart/form-data"> <input type="hidden" name="id" value="{{merchandise.id}}" ng-model="merchandise.id"> <div class="form-group"> <label for="mod-name" class="col-sm-2 control-label">商品名称<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod-name" name="name" placeholder="请输入商品名称" ng-model="merchandise.name"> </div> </div> <div class="form-group"> <label for="mod-price" class="col-sm-2 control-label">价格</label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod-price" name="price" placeholder="请输入商品价格" ng-model="merchandise.price" value="{{merchandise.price | currency}}"> </div> </div> <div class="form-group"> <label for="mod-desc" class="col-sm-2 control-label">介绍</label> <div class="col-sm-10"> <textarea class="form-control" rows="3" id="mod-desc" name="desc" placeholder="请输入介绍信息" ng-model="merchandise.desc"></textarea> </div> </div> <div class="form-group"> <label for="mod-brand" class="col-sm-2 control-label">品牌</label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod-brand" name="brand" placeholder="请输入品牌" ng-model="merchandise.brand"> </div> </div> <div class="form-group"> <label for="mod-category" class="col-sm-2 control-label">分类</label> <div class="col-sm-10"> <select type="text" class="form-control" id="mod-category" name="category" placeholder=""> <option ng-repeat="category in categories" value="{{category.id}}"> {{category.name}} </option> </select> </div> </div> <div class="form-group"> <label for="mod-file" class="col-sm-2 control-label">图片</label> <div class="col-sm-10"> <img ng-repeat="image in merchandise.images track by $index" ng-src="{{image.url}}" class="merchandise-edit-image-{{merchandise.sis[$index]}}" ng-click="removeImage(merchandise.id, merchandise.images[$index])" height="80px" style="padding: 2px"> <input type="file" class="form-control" id="mod-file" name="image" placeholder="请选择图片"> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="modify()">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-default" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div>'),a.put("views/merchandise/home.html",'<div class="header-bar"> <div class="container"> <div class="row"> <div class="col-md-3 col-xs-3"> <a ng-href="#/merchandise/add"> <i class="fa fa-plus"></i> </a> </div> <div class="col-md-6 col-xs-6"> <a class="btn dropdown-toggle" type="button" id="category-dropdown" data-toggle="dropdown" aria-expanded="true"> 商品 <span class="caret"></span> </a> <ul class="dropdown-menu" role="menu" aria-labelledby="category-dropdown"> <li role="presentation"><a role="menuitem" tabindex="-1" ng-href="#/merchandise/home">全部分类</a> </li> <li role="presentation" ng-repeat="category in categories"> <a role="menuitem" tabindex="-1" ng-href="#/merchandise/category/{{category.id}}">{{category.name}}</a> </li> </ul> </div> <div class="col-md-3 col-xs-3"> <a ng-href="#/merchandise/search"> <i class="fa fa-search"></i> </a> &nbsp; </div> </div> </div> </div> <div class="body-bar"> <div class="tab-bar"> <div class="row"> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'merchandise\'}"> <p> <a href="#/merchandise/home"> 商品 </a> </p> </div> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'category\'}"> <p> <a href="#/category/home"> 分类 </a></p> </div> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'barcode\'}"> <p> <a href="#/barcode/home"> 条码库 </a> </p> </div> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'more\'}"> <p> <a href="#/merchandise/more"> 更多 </a> </p> </div> </div> </div> <div ng-include src="\'views/merchandise/mobile-list.html\'" class="tab-body-bar merchandise-list margin-top"></div> </div> <div ng-include src="\'views/footer.html\'"></div>'),a.put("views/merchandise/list.html",'<div ng-include src="\'views/navbar.html\'"></div> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'views/sidebar.html\'"></div> </div> </div> <div class="col-md-10"> <div class="row mini-header"> <h4 class="text-center">商品管理 </h4> </div> <div class="row mobile-main"> <div class="invisible-xs" ng-include src="\'views/merchandise/desktop-tool-bar.html\'"> </div> <div class="mobile-list visible-xs" ng-include src="\'views/merchandise/mobile-list.html\'"> </div> <div class="table-responsive hidden-xs" ng-include src="\'views/merchandise/desktop-list.html\'"> </div> <div class="visible-xs" style="margin-bottom: 50px" ng-include src="\'views/merchandise/mobile-tool-bar.html\'"> </div> </div> <div ng-include src="\'views/pagination.html\'"></div> </div> </div> </div> <div ng-include src="\'views/merchandise/new.html\'"></div> <div ng-include src="\'views/merchandise/edit.html\'"></div> <div ng-include src="\'views/modal.html\'"></div> '),a.put("views/merchandise/mobile-add.html",'<div class="header-bar"> <div class="container"> <div class="row"> <div class="col-md-3 col-xs-2"> <a href="#/merchandise/home"> <i class="fa fa-arrow-left"></i> </a> </div> <div class="col-md-6 col-xs-8">商品添加</div> <div class="col-md-3 col-xs-2"></div> </div> </div> </div> <div class="body-bar"> <div class="container"> <div class="row"> <div class="col-md-12 col-xs-12 col-lg-12"> <form class="form-horizontal merchandise add" role="form" enctype="multipart/form-data"> <div class="form-group"> <label for="name" class="col-sm-2 control-label">商品名称<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="name" ng-model="name" name="name" placeholder="请输入商品名称"> </div> </div> <div class="form-group"> <label for="desc" class="col-sm-2 control-label">介绍</label> <div class="col-sm-10"> <textarea class="form-control" rows="3" id="desc" ng-model="desc" name="desc" placeholder="请输入介绍信息"></textarea> </div> </div> <div class="form-group"> <label for="brand" class="col-sm-2 control-label">品牌</label> <div class="col-sm-10"> <input type="text" class="form-control" id="brand" name="brand" placeholder="请输入品牌"> </div> </div> <div class="form-group"> <label for="brand" class="col-sm-2 control-label">分类</label> <div class="col-sm-10"> <select type="text" class="form-control" id="category" name="category" placeholder="请选择分类"> <option>请选择分类</option> <option ng-repeat="category in categories" ng-value="category.id"> {{category.name}} </option> </select> </div> </div> <div class="form-group"> <label for="price" class="col-sm-2 control-label">价格</label> <div class="col-sm-10"> <input type="text" class="form-control" id="price" name="price" placeholder="请输入价格"> </div> </div> <div class="form-group"> <label for="file" class="col-sm-2 control-label">图片</label> <div class="col-sm-10"> <div class="image-uploader"> <input type="file" class="form-control" id="file" name="image" placeholder="请添加相关图片" multiple> </div> </div> </div> <div class="form-group"> <div class="col-sm-12 col-xs-12"> <button type="button" class="btn btn-danger btn-block" ng-click="add()">添加</button> </div> </div> </form> </div> </div> </div> </div> <div ng-include src="\'views/footer.html\'"></div>'),
a.put("views/merchandise/mobile-edit.html",'<div class="header-bar"> <div class="container"> <div class="row"> <div class="col-md-3 col-xs-2"> <a href="#/merchandise/home"> <i class="fa fa-arrow-left"></i> </a> </div> <div class="col-md-6 col-xs-8">商品修改</div> <div class="col-md-3 col-xs-2"></div> </div> </div> </div> <div class="body-bar"> <div class="container"> <div class="row"> <div class="col-md-12 col-xs-12 col-lg-12"> <form class="form-horizontal merchandise modify" role="form" enctype="multipart/form-data"> <input type="hidden" name="id" value="{{merchandise.id}}" ng-model="merchandise.id"> <div class="form-group"> <label for="mod-name" class="col-sm-2 control-label">商品名称<span>*</span> </label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod-name" name="name" placeholder="请输入商品名称" ng-model="merchandise.name"> </div> </div> <div class="form-group"> <label for="mod-price" class="col-sm-2 control-label">价格</label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod-price" name="price" placeholder="请输入商品价格" ng-model="merchandise.price" value="{{merchandise.price | currency}}"> </div> </div> <div class="form-group"> <label for="mod-desc" class="col-sm-2 control-label">介绍</label> <div class="col-sm-10"> <textarea class="form-control" rows="3" id="mod-desc" name="desc" placeholder="请输入介绍信息" ng-model="merchandise.desc"></textarea> </div> </div> <div class="form-group"> <label for="mod-brand" class="col-sm-2 control-label">品牌</label> <div class="col-sm-10"> <input type="text" class="form-control" id="mod-brand" name="brand" placeholder="请输入品牌" ng-model="merchandise.brand"> </div> </div> <div class="form-group"> <label for="mod-category" class="col-sm-2 control-label">分类</label> <div class="col-sm-10"> <select type="text" class="form-control" id="mod-category" name="category" placeholder=""> <option ng-repeat="category in categories" value="{{category.id}}"> {{category.name}} </option> </select> </div> </div> <div class="form-group"> <label for="mod-file" class="col-sm-2 control-label">图片</label> <div class="col-sm-10"> <img class="image-uploader merchandise-edit-image-{{merchandise.images[$index].id}}" ng-repeat="image in merchandise.images track by $index" ng-src="{{image.url}}" ng-click="removeImage(merchandise.id, merchandise.images[$index].id)"> <div class="image-uploader"> <input type="file" class="form-control" id="mod-file" name="image" placeholder="请选择图片"> </div> </div> </div> <div class="form-group no-line"> <div class="col-xs-12 col-xs-12"> <button type="button" class="btn btn-danger btn-block" ng-click="modify()">修改</button> </div> </div> </form> </div> </div> </div> <div ng-include src="\'views/footer.html\'"></div></div>'),a.put("views/merchandise/mobile-list.html",'<div class="list" ng-repeat="sm in merchandises track by $index"> <div class="list-text-item"><span>ID:</span>{{sm.id}}</div> <div class="list-text-item"><span>商品名:</span>{{sm.merchandise.name || \'&nbsp;\'}}</div> <div class="list-text-item"><span>商品描述:</span><br>{{sm.merchandise.desc || \'&nbsp;\'}}</div> <div class="list-text-item"><span>分类:</span>{{sm.category.name || \'&nbsp;\'}}</div> <div class="list-text-item"><span>图片:</span><img ng-repeat="image in sm.images" ng-src="{{image.url}}" alt="{{image.hash}}" class="image-uploader"></div> <div class="list-text-item"><span>价格:</span>¥ {{sm.price | currency}}</div> <div class="list-text-item"> <button class="btn btn-warning" ng-show="!sm.online" ng-click="online(sm);$event.stopPropagation()">上线 </button> <button class="btn btn-success" ng-show="sm.online" ng-click="offline(sm);$event.stopPropagation()">下线 </button> <a class="btn btn-info visible-xs-inline-block" href="#/merchandise/edit/{{sm.id}}">修改 </a> <button class="btn btn-danger" ng-click="remove(sm);$event.stopPropagation()">删除</button> </div> </div>'),a.put("views/merchandise/mobile-tool-bar.html",'<div class="dropdown-group"> <div class="dropdown navbar-left"> <button class="btn btn-default dropdown-toggle" type="button" id="category-dropdown-1" data-toggle="dropdown" aria-expanded="true"> 分类 <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu" aria-labelledby="category-dropdown-1"> <li role="presentation"><a role="menuitem" tabindex="-1" ng-click="selectCategory()">全部分类</a> </li> <li role="presentation" ng-repeat="category in categories"><a role="menuitem" tabindex="-1" ng-click="selectCategory(category)">{{category.name}}</a> </li> </ul> <div class="navbar-right"> <span class="label label-success selected">{{categoryName || \'全部分类\'}}</span> </div> </div> <div class="dropdown navbar-left"> <button class="btn btn-default dropdown-toggle" type="button" id="order-dropdown-1" data-toggle="dropdown" aria-expanded="true">排序 <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu" aria-labelledby="order-dropdown-1"> <li role="presentation"><a role="menuitem" tabindex="-1" ng-click="selectOrder({})">默认排序</a></li> <li role="presentation" ng-repeat="order in orders"> <a role="menuitem" tabindex="-1" ng-click="selectOrder(order)">{{order.name}}</a> </li> </ul> <div class="navbar-right"> <span class="label label-info selected">{{orderName|| \'默认排序\'}}</span> </div> </div> <div class="dropdown navbar-left"> <button class="btn btn-default dropdown-toggle" type="button" id="online-dropdown-1" data-toggle="dropdown" aria-expanded="true"> 上下线 <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu" aria-labelledby="online-dropdown-1"> <li role="presentation"><a role="menuitem" tabindex="-1" ng-click="selectOnline(\'all\')">全部</a></li> <li role="presentation"> <a role="menuitem" tabindex="-1" ng-click="selectOnline(\'online\')">上线</a> </li> <li role="presentation"> <a role="menuitem" tabindex="-1" ng-click="selectOnline(\'offline\')">下线</a> </li> </ul> <div class="navbar-right"> <span class="label label-info selected">{{onlineString}}</span> </div> </div> </div> <form class="navbar-form navbar-right"> <div class="form-group"> <input type="text" class="form-control form-control-sm" ng-model="q" name="q" placeholder="搜索商品"> </div> <div class="form-group no-line"> <button type="button" class="btn btn-info search navbar-left" ng-click="search()">搜索</button> <a class="btn btn-primary visible-xs-inline-block" href="#/merchandise/add"> 添加商品</a> <a class="btn btn-primary hidden-xs" data-toggle="modal" data-target="#add" ng-click="openAdd()"> 添加商品</a> </div> </form>'),a.put("views/merchandise/more.html",'<div class="header-bar"> <div class="container"> <div class="row"> <div class="col-md-3 col-xs-3"> </div> <div class="col-md-6 col-xs-6"> 更多 </div> <div class="col-md-3 col-xs-3"> </div> </div> </div> </div> <div class="body-bar"> <div class="tab-bar"> <div class="row"> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'merchandise\'}"> <p> <a href="#/merchandise/home"> 商品 </a> </p> </div> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'category\'}"> <p> <a href="#/category/home"> 分类 </a></p> </div> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'barcode\'}"> <p> <a href="#/barcode/home"> 条码库 </a> </p> </div> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'more\'}"> <p> <a href="#/merchandise/more"> 更多 </a> </p> </div> </div> </div> <div class="list margin-top"> <a class="list-select-item" href="#/merchandise/home"> 销量排行 </a> <a class="list-select-item" href="#/merchandise/home"> 价格排行 </a> </div> </div> <div ng-include src="\'views/footer.html\'"></div>'),a.put("views/merchandise/new.html",'<div class="modal fade" id="add" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">添加商品</h3> </div> <div class="modal-body"> <form class="form-horizontal merchandise add" role="form" enctype="multipart/form-data"> <div class="form-group"> <label for="name" class="col-sm-2 control-label">商品名称<span>*</span></label> <div class="col-sm-10"> <input type="text" class="form-control" id="name" ng-model="name" name="name" placeholder="请输入商品名称"> </div> </div> <div class="form-group"> <label for="desc" class="col-sm-2 control-label">介绍</label> <div class="col-sm-10"><textarea class="form-control" rows="3" id="desc" ng-model="desc" name="desc" placeholder="请输入介绍信息"></textarea> </div> </div> <div class="form-group"> <label for="brand" class="col-sm-2 control-label">品牌</label> <div class="col-sm-10"> <input type="text" class="form-control" id="brand" name="brand" placeholder="请输入品牌"> </div> </div> <div class="form-group"> <label for="brand" class="col-sm-2 control-label">分类</label> <div class="col-sm-10"> <select type="text" class="form-control" id="category" name="category" placeholder=""> <option></option> <option ng-repeat="category in categories" ng-value="category.id"> {{category.name}} </option> </select> </div> </div> <div class="form-group"> <label for="price" class="col-sm-2 control-label">价格</label> <div class="col-sm-10"> <input type="text" class="form-control" id="price" name="price" placeholder="请输入价格"> </div> </div> <div class="form-group"> <label for="file" class="col-sm-2 control-label">图片</label> <div class="col-sm-10"> <input type="file" class="form-control" id="file" name="image" placeholder="请添加相关图片" multiple> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-default" ng-click="add()">添加</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-primary" data-dismiss="modal">返回</button> <!--<button class="btn btn-primary" ng-click="add()">添加</button>--> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <!-- /.modal -->'),a.put("views/merchandise/query.html",'<div ng-include src="\'views/navbar.html\'"></div> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'views/sidebar.html\'"></div> </div> </div> <div class="col-md-10"> <h4 class="text-center"> <form class="navbar-form navbar-left"> <a class="btn btn-primary" ng-click="back()"> 返回</a> </form> 商品搜索 <form class="navbar-form navbar-right"> <div class="form-group"> <input type="text" class="form-control form-control-sm" id="q" ng-model="q" name="q" placeholder="搜索商品"> </div> <button type="button" class="btn btn-info search" ng-click="search()">搜索</button> </form> </h4> <table class="table table-striped"> <tr> <th>ID</th> <th>商品名</th> <th>描述/介绍</th> <th>品牌</th> <th>分类</th> <th>图片</th> <th>价格</th> <th>操作</th> </tr> <tr ng-repeat="sm in merchandises track by $index"> <td>{{sm.id}}</td> <td>{{sm.merchandise.name}}</td> <td>{{sm.merchandise.desc}}</td> <td>{{sm.merchandise.brand}}</td> <td>{{sm.category.name}}</td> <td><span ng-repeat="image in sm.images" class="imgs{{sm.sis[$index]}}"><a ng-click="removeImage(sm.merchandise.id, sm.images[$index].id);"><img ng-src="{{image.url}}" alt="{{image.hash}}" height="50px"></a>&nbsp;</span> </td> <td>{{sm.price | currency}}</td> <td> <button class="btn btn-warning" ng-show="!sm.online" ng-click="online(sm);$event.stopPropagation()">上线</button> <button class="btn btn-success" ng-show="sm.online" ng-click="offline(sm);$event.stopPropagation()">下线</button> <button class="btn btn-info" data-toggle="modal" data-target="#modify" ng-click="openModify(sm, sm.sis, sm.images, sm.price)">修改</button> <button class="btn btn-danger" ng-click="remove(sm);$event.stopPropagation()">删除</button> </td> </tr> </table> <div ng-include src="\'views/pagination.html\'"></div> </div> </div> </div> <div ng-include src="\'views/merchandise/new.html\'"></div> <div ng-include src="\'views/merchandise/edit.html\'"></div> <div ng-include src="\'views/modal.html\'"></div> '),a.put("views/merchandise/search-list.html",'<div class="list" ng-repeat="sm in queries track by $index"> <div class="list-text-item"><span>ID:</span>{{sm.id}}</div> <div class="list-text-item"><span>商品名:</span>{{sm.merchandise.name || \'&nbsp;\'}}</div> <div class="list-text-item"><span>商品描述:</span><br>{{sm.merchandise.desc || \'&nbsp;\'}}</div> <div class="list-text-item"><span>分类:</span>{{sm.category.name || \'&nbsp;\'}}</div> <div class="list-text-item"><span>图片:</span><img ng-repeat="image in sm.images" ng-src="{{image.url}}" alt="{{image.hash}}" class="image-uploader"></div> <div class="list-text-item"><span>价格:</span>¥ {{sm.price | currency}}</div> <div class="list-text-item"> <button class="btn btn-warning" ng-show="!sm.online" ng-click="online(sm);$event.stopPropagation()">上线 </button> <button class="btn btn-success" ng-show="sm.online" ng-click="offline(sm);$event.stopPropagation()">下线 </button> <a class="btn btn-info visible-xs-inline-block" href="#/merchandise/edit/{{sm.id}}">修改 </a> <button class="btn btn-danger" ng-click="remove(sm);$event.stopPropagation()">删除</button> </div> </div>'),a.put("views/merchandise/search.html",'<div class="header-bar"> <div class="container"> <div class="row"> <div class="col-md-3 col-xs-2"> <a href="#/merchandise/home"> <i class="fa fa-arrow-left"></i> </a> </div> <div class="col-md-6 col-xs-8">商品搜索</div> <div class="col-md-3 col-xs-2"></div> </div> </div> </div> <div class="body-bar"> <div class="container"> <div class="row"> <div class="col-md-12 col-xs-12 col-lg-12"> <div class="search"> <input type="text" placeholder="请输入要搜索的商品名" id="q" ng-model="q" ng-change="search()"> <a class="btn btn-color-egg-red" ng-click="search()">搜索</a> </div> </div> </div> </div> <div ng-include src="\'views/merchandise/search-list.html\'"></div> </div> <div ng-include src="\'views/footer.html\'"></div>'),a.put("views/merchandise/table-list.html",'<div class="row"> <div class="merchandise-mobile-list visible-xs"> <ul ng-repeat="sm in merchandises track by $index"> <li><span>ID:</span>{{sm.id}}</li> <li><span>商品名:</span>{{sm.merchandise.name}}</li> <li><span>商品描述:</span><br>{{sm.merchandise.desc}}</li> <li><span>分类:</span>{{sm.category.name}}</li> <li><span>图片:</span><a ng-repeat="image in sm.images" class="imgs{{sm.sis[$index]}}" ng-click="removeImage(sm.merchandise.id, sm.images[$index].id);"><img ng-src="{{image.url}}" alt="{{image.hash}}" height="50px"></a><br></li> <li>¥ {{sm.price | currency}}</li> <li> <button class="btn btn-warning" ng-show="!sm.online" ng-click="online(sm);$event.stopPropagation()">上线 </button> <button class="btn btn-success" ng-show="sm.online" ng-click="offline(sm);$event.stopPropagation()">下线 </button> <button class="btn btn-info hidden-xs" data-toggle="modal" data-target="#modify" ng-click="openModify(sm, sm.sis, sm.images, sm.price)">修改 </button> <a class="btn btn-info visible-xs-inline-block" href="#/merchandise/modify/{{sm.id}}" ng-click="openModify(sm, sm.sis, sm.images, sm.price)">修改 </a> <button class="btn btn-danger" ng-click="remove(sm);$event.stopPropagation()">删除</button> </li> </ul> </div> <div class="table-responsive hidden-xs"> <table class="table table-striped"> <tr> <th>ID</th> <th>商品名</th> <th>描述/介绍</th> <th>品牌</th> <th>分类</th> <th>图片</th> <th>价格</th> <th>操作</th> </tr> <tr ng-repeat="sm in merchandises track by $index"> <td>{{sm.id}}</td> <td>{{sm.merchandise.name}}</td> <td>{{sm.merchandise.desc}}</td> <td>{{sm.merchandise.brand}}</td> <td>{{sm.category.name}}</td> <td><span ng-repeat="image in sm.images" class="imgs{{sm.sis[$index]}}"><a ng-click="removeImage(sm.merchandise.id, sm.images[$index].id);"><img ng-src="{{image.url}}" alt="{{image.hash}}" height="50px"></a>&nbsp;</span> </td> <td>{{sm.price | currency}}</td> <td> <button class="btn btn-warning" ng-show="!sm.online" ng-click="online(sm);$event.stopPropagation()">上线 </button> <button class="btn btn-success" ng-show="sm.online" ng-click="offline(sm);$event.stopPropagation()">下线 </button> <button class="btn btn-info" data-toggle="modal" data-target="#modify" ng-click="openModify(sm, sm.sis, sm.images, sm.price)">修改 </button> <button class="btn btn-danger" ng-click="remove(sm);$event.stopPropagation()">删除</button> </td> </tr> </table> </div> <div ng-include src="\'views/pagination.html\'"></div></div>'),a.put("views/modal.html",'<div class="modal fade" id="modal-alert" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">警告</h3> </div> <div class="modal-body"> </div> <div class="modal-footer"> <button class="btn btn-primary ok">确定</button> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <div class="modal fade" id="modal-confirm" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h4 class="modal-title">确认</h4> </div> <div class="modal-body"> </div> <div class="modal-footer"> <button class="btn btn-default cancel">取消</button> <button class="btn btn-primary ok">确定</button> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div> <div class="modal fade" id="modal-progress" tabindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-body"> <div class="progress"> <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%"> <span class="sr-only note">正在加载...</span> </div> </div> </div> </div> <!-- /.modal-content --> </div> <!-- /.modal-dialog --> </div>'),a.put("views/navbar.html",'<nav class="navbar navbar-default" role="navigation"> <div class="container-fluid" ng-controller="NavCtrl"> <!-- Brand and toggle get grouped for better mobile display --> <div class="navbar-header"> <button class="navbar-toggle collapsed navbar-toggle-left btn-sidebar" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false"> <span class="sr-only"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="">田一块</a> <button class="navbar-toggle collapsed btn-user" type="button" data-toggle="collapse" data-target="#user-navbar" aria-controls="user-navbar" aria-expanded="false"> <span class="sr-only"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> </div> <!-- Collect the nav links, forms, and other content for toggling --> <div class="collapse navbar-collapse navbar-toggle-item-right" id="user-navbar"> <ul class="nav navbar-nav"> <li><a href="#/user/dashboard">控件面板</a></li> <li><a href="#/user/password">修改密码</a></li> </ul> <form class="navbar-form navbar-right text-right"> [<a href="#/user/profile">{{user.username || \'用户名\'}}</a>]， 您已经成功登录！&nbsp; <a data-toggle="modal" ng-click="exit()" class="btn btn-sm btn-danger">退出</a> </form> </div> <!-- /.navbar-collapse --> </div> <!-- /.container-fluid --> </nav>'),a.put("views/order/desktop-list.html",'<div class="panel panel-default" ng-repeat="order in orders track by $index"> <!-- Default panel contents --> <div class="panel-heading">订单号:{{order.no}} <a target="user-info" href="#/user/info/{{order.user.id}}" style="text-align: right;float: right">{{order.user.username}}</a> </div> <div class="panel-body order-summary"> <p>下单时间：{{order.createdAt | date}}</p> <p>接收人：{{order.receiver}}</p> <p>联系电话：{{order.phone}}</p> <p>送货地址：{{order.address}}</p> <p>总数量：{{order.total}}</p> <p>总价：{{order.summary | currency}}</p> <p class="operation"> <button class="btn btn-warning btn-xs" disabled ng-show="order.state === \'CANCELLED\'">已取消 </button> <button class="btn btn-warning" ng-show="showTransState(order, \'CANCELLED\')" ng-click="state(order.id, \'CANCELLED\')">取消 </button> <button class="btn btn-success" ng-show="showTransState(order, \'ACCEPTED\')" ng-click="state(order.id, \'ACCEPTED\')">接单 </button> <button class="btn btn-success" ng-show="showTransState(order, \'DELIVERED\')" ng-click="state(order.id, \'DELIVERED\')">发货 </button> <button class="btn btn-success" ng-show="showTransState(order, \'FINISHED\')" ng-click="state(order.id, \'FINISHED\')">完成 </button> <button class="btn btn-default btn-xs" disabled ng-show="showState(order, \'ACCEPTED\')">已接单 </button> <button class="btn btn-default btn-xs" disabled ng-show="showState(order, \'PAID\')">已支付 </button> <button class="btn btn-default btn-xs" disabled ng-show="showState(order, \'DELIVERED\')">已经发货 </button> <button class="btn btn-danger btn-xs" disabled ng-show="showState(order, \'UNREACHABLE\')">无法送达 </button> <button class="btn btn-default btn-xs" disabled ng-show="showState(order, \'RECEIVED\')">已收货 </button> <button class="btn btn-default btn-xs" disabled ng-show="showState(order, \'COMMENTED\')">已评价 </button> <button class="btn btn-default btn-xs" disabled ng-show="showState(order, \'FINISHED\')">已完成 </button> </p> </div> <!-- Table --> <table class="table table-striped"> <tr> <th>商品名</th> <th>图片</th> <th>品牌</th> <th>数量</th> <th>单价</th> <th>优惠价</th> </tr> <tr ng-repeat="merchandise in order.merchandises"> <td>{{merchandise.name}}</td> <td> <a ng-href="{{merchandise.url}}" target="merchandise"> <img style="width:20px;height: 20px" ng-src="{{merchandise.url}}" alt="{{merchandise.name}}"></a> </td> <td>{{merchandise.brand}}</td> <td>{{merchandise.number}}</td> <td>¥ {{merchandise.price | currency}}</td> <td>{{merchandise.discount}}</td> </tr> </table> </div>'),a.put("views/order/desktop-tool-bar.html",'<div class="hidden-xs"> <div style="margin-top: 8px" class="navbar-left"> <div class="dropdown navbar-left"> <button class="btn btn-default dropdown-toggle" type="button" id="category-dropdown" data-toggle="dropdown" aria-expanded="true"> 选择订单类型 <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu" aria-labelledby="category-dropdown"> <li role="presentation"><a role="menuitem" tabindex="-1" ng-click="selectState()">全部类型</a> </li> <li role="presentation" ng-repeat="state in states"><a role="menuitem" tabindex="-1" ng-click="selectState(state)">{{state.name}}</a> </li> </ul> <div class="navbar-right" style="padding-left: 10px;padding-right: 25px;line-height: 28px"> <span class="label label-success selected">{{stateName || \'全部类型\'}}</span> </div> </div> <div class="dropdown navbar-left"> <button class="btn btn-default dropdown-toggle" type="button" id="days-dropdown" data-toggle="dropdown" aria-expanded="true"> 选择时间段 <span class="caret"></span> </button> <ul class="dropdown-menu" role="menu" aria-labelledby="days-dropdown"> <li role="presentation"><a role="menuitem" tabindex="-1" ng-click="selectDays()">全部时间</a> </li> <li role="presentation" ng-repeat="day in days"><a role="menuitem" tabindex="-1" ng-click="selectDays(day)">{{day.name}}</a> </li> </ul> <div class="navbar-right" style="padding-left: 10px;padding-right: 25px;line-height: 28px"> <span class="label label-info selected">{{dayName || \'全部时间\'}}</span> </div> </div> </div> <span class="navbar-left" style="line-height: 45px">总量: ({{count}})</span> <form class="navbar-form navbar-right"> <div class="form-group"> <input type="text" class="form-control form-control-order" id="q" ng-model="q" name="q" placeholder="订单搜索(请输入订单号)"> </div> <button type="button" class="btn btn-info search" ng-click="no(q)">订单号查询</button> <button type="button" class="btn btn-info search" ng-click="query(q)">搜索订单</button> </form> </div>'),a.put("views/order/home.html",'<div class="header-bar"> <div class="container"> <div class="row"> <div class="col-md-3 col-xs-2"></div> <div class="col-md-6 col-xs-8">订单</div> <div class="col-md-3 col-xs-2"></div> </div> </div> </div> <div class="body-bar"> <div class="tab-bar"> <div class="row"> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'accepted\'}"> <p> <a href="#/order/home"> 待接收 </a> </p> </div> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'delivered\'}"> <p> <a href="#/order/state/delivered/1"> 已发货 </a></p> </div> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'finished\'}"> <p> <a href="#/order/state/finished/1"> 已完成 </a> </p> </div> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'more\'}"> <p> <a href="#/order/more"> 更多 </a> </p> </div> </div> </div> <div ng-include src="\'views/order/mobile-list.html\'" ng-show="orders && orders.length" class="tab-body-bar order-list margin-top"></div> <div ng-include src="\'views/order/not-found.html\'" ng-show="orders && !orders.length" class="tab-body-bar"></div> <div ng-include src="\'views/order/loading.html\'" ng-show="progressing" class="tab-body-bar"></div> </div> <div ng-include src="\'views/footer.html\'"></div>'),a.put("views/order/list.html",'<div ng-include src="\'views/navbar.html\'"></div> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'views/sidebar.html\'"></div> </div> </div> <div class="col-md-10"> <div class="row mini-header"> <h4 class="text-center hidden-xs">订单管理</h4> <div class="dropdown visible-xs"> <h4 class="text-center dropdown-toggle" type="button" id="order-drop-down" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">订单管理<span class="caret"></span></h4> <ul class="dropdown-menu dropdown-header-bar" aria-labelledby="order-drop-down"> <li role="presentation"><a ng-click="selectState()">全部类型</a></li> <li ng-repeat="state in states"><a ng-click="selectState(state)">{{state.name}}</a></li> </ul> </div> </div> <div class="row mobile-main"> <div class="invisible-xs clearfix" ng-include src="\'views/order/desktop-tool-bar.html\'"> </div> <div class="mobile-list visible-xs" ng-include src="\'views/order/mobile-list.html\'"> </div> <div class="table-responsive hidden-xs" ng-include src="\'views/order/desktop-list.html\'"> </div> <div class="visible-xs" style="margin-bottom: 50px" ng-include src="\'views/order/mobile-tool-bar.html\'"> </div> </div> <div ng-include src="\'views/pagination.html\'"></div> </div> </div> </div> '),a.put("views/order/loading.html",'<div class="list vcenter-wrap margin-top" ng-show="!order.length"> <div class="vcenter text-center loading"> <div class="container"> <div class="progress"> <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%"> </div> </div> <div class="alert alert-warning" role="alert"> 正在加载店铺信息... </div> </div> </div> </div>'),a.put("views/order/mobile-list.html",'<div class="list" ng-repeat="order in orders track by $index"> <!-- Default panel contents --> <div class="list-text-item"><span>订单状态：</span> &nbsp; <button class="btn btn-warning disable btn-xs" disabled ng-show="showState(order, \'CREATED\')">已创建 </button> <button class="btn btn-warning disable btn-xs" disabled ng-show="showState(order, \'CANCELLED\')">已取消 </button> <button class="btn btn-default disable btn-xs" disabled ng-show="showState(order, \'ACCEPTED\')">已接单 </button> <button class="btn btn-default disable btn-xs" disabled ng-show="showState(order, \'PAID\')">已支付 </button> <button class="btn btn-default disable btn-xs" disabled ng-show="showState(order, \'DELIVERED\')">已经发货 </button> <button class="btn btn-danger disable btn-xs" disabled ng-show="showState(order, \'UNREACHABLE\')">无法送达 </button> <button class="btn btn-default disable btn-xs" disabled ng-show="showState(order, \'RECEIVED\')">已收货 </button> <button class="btn btn-default disable btn-xs" disabled ng-show="showState(order, \'COMMENTED\')">已评价 </button> <button class="btn btn-default disable btn-xs" disabled ng-show="showState(order, \'FINISHED\')">已完成 </button> </div> <div class="list-text-item"><span>操作：</span>&nbsp; <button class="btn btn-success btn-xs" ng-show="showTransState(order, \'ACCEPTED\')" ng-click="state(order.id, \'ACCEPTED\')">接单 </button> <button class="btn btn-success btn-xs" ng-show="showTransState(order, \'DELIVERED\')" ng-click="state(order.id, \'DELIVERED\')">发货 </button> <button class="btn btn-success btn-xs" ng-show="showTransState(order, \'FINISHED\')" ng-click="state(order.id, \'FINISHED\')">完成 </button> <button class="btn btn-danger btn-xs" ng-show="showTransState(order, \'CANCELLED\')" ng-click="state(order.id, \'CANCELLED\')">取消 </button> </div> <div class="list-text-item"><span>更多内容</span> <a id="order-detail-show-{{order.no}}" class="btn btn-xs" ng-click="showDetail(order)"><i class="fa fa-caret-down"></i> 详情</a><a id="order-detail-hide-{{order.no}}" class="btn btn-xs hidden" ng-click="hideDetail(order)"><i class="fa fa-caret-up"></i> 隐藏</a></div> <div class="hidden" id="order-detail-{{order.no}}"> <div class="list-text-item"><span>订单号：</span>{{order.no}}</div> <div class="list-text-item"><span>帐户：</span> <a target="user-info" href="#/user/info/{{order.user.id}}">{{order.user.username || \' \'}}</a></div> <div class="list-text-item"><span>下单时间：</span>{{order.createdAt | date}}</div> <div class="list-text-item"><span>接收人：</span>{{order.receiver || "&nbsp;"}}</div> <div class="list-text-item"><span>联系电话：</span>{{order.phone || "&nbsp;"}}</div> <div class="list-text-item"><span>支付方式：</span>{{order.payment | payment}}</div> <div class="list-text-item"><span>配送方式：</span>{{order.delivery | delivery}}</div> <div class="list-text-item"><span>送货地址：</span>{{order.address || "&nbsp;"}}</div> <div class="list-text-item"><span>总数量：</span>{{order.total || "&nbsp;"}}</div> <div class="list-text-item"><span>总价格：</span>{{order.summary | currency}}</div> <div class="inner-list" ng-repeat="merchandise in order.merchandises"> <div class="list-text-item"> <span>商品名：</span>{{merchandise.name || "&nbsp;"}} </div> <div class="list-text-item"> <span>图片：</span> <a ng-href="{{merchandise.url}}" target="merchandise"> <img style="width：20px;height： 20px" ng-src="{{merchandise.url}}" alt="{{merchandise.name}}"></a> </div> <div class="list-text-item"> <span>品牌</span> {{merchandise.brand || "&nbsp;"}} </div> <div class="list-text-item"> <span>数量</span> {{merchandise.number || "&nbsp;"}} </div> <div class="list-text-item"> <span>单价</span> ¥ {{merchandise.price | currency}} </div> <div class="list-text-item"> <span>优惠价</span> {{merchandise.discount || "&nbsp;"}} </div> </div> </div> </div>'),a.put("views/order/mobile-tool-bar.html",""),a.put("views/order/more.html",'<div class="header-bar"> <div class="container"> <div class="row"> <div class="col-md-3 col-xs-2"></div> <div class="col-md-6 col-xs-8">订单</div> <div class="col-md-3 col-xs-2"></div> </div> </div> </div> <div class="body-bar"> <div class="tab-bar"> <div class="row"> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'accepted\'}"> <p> <a href="#/order/home"> 待接收 </a> </p> </div> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'delivered\'}"> <p> <a href="#/order/state/delivered/1"> 已发货 </a></p> </div> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'finished\'}"> <p> <a href="#/order/state/finished/1"> 已完成 </a> </p> </div> <div class="col-md-3 col-xs-3" ng-class="{\'active\': type === \'more\'}"> <p> <a href="#/order/more"> 更多 </a> </p> </div> </div> </div> <div class="list margin-top"> <a class="list-select-item" href="#/order/state/created/1"> 新创建订单 </a> <a class="list-select-item" href="#/order/state/paid/1"> 已支付订单 </a> <a class="list-select-item" href="#/order/state/accepted/1"> 已接受订单 </a> <a class="list-select-item" href="#/order/state/delivered/1"> 已发货订单 </a> <a class="list-select-item" href="#/order/state/received/1"> 已签收订单 </a> <a class="list-select-item" href="#/order/state/commented/1"> 已评价订单 </a> <a class="list-select-item" href="#/order/state/cancelled/1"> 已取消订单 </a> <a class="list-select-item" href="#/order/state/finished/1"> 已完成订单 </a> </div> </div> <div ng-include src="\'views/footer.html\'"></div>'),a.put("views/order/not-found.html",'<div class="list vcenter-wrap margin-top" ng-show="!order.length"> <div class="vcenter text-center not-found"> <p><i class="fa fa-warning"></i></p> <p> 订单未找到! </p> </div> </div>'),a.put("views/order/query.html",'<div ng-include src="\'views/navbar.html\'"></div> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'views/sidebar.html\'"></div> </div> </div> <div class="col-md-10"> <h4 class="text-center">订单查询结果 <form class="navbar-form navbar-right"> <div class="form-group"> <input type="text" class="form-control form-control-order" id="q" ng-model="q" name="q" placeholder="订单搜索(请输入订单号)"> </div> <button type="button" class="btn btn-info search" ng-click="query()">订单查询</button> <button type="button" class="btn btn-info search" ng-click="back()">返回</button> </form> </h4> <br> <div class="panel panel-default"> <!-- Default panel contents --> <div class="panel-heading">订单号:{{order.no}}</div> <div class="panel-body order-summary"> <p>用户名：</p> <p>总数量：{{order.total}}</p> <p>总价：{{order.summary | currency}}</p> <p class="operation"> <button class="btn btn-danger" ng-show="!order.is_cancelled" ng-click="cancel(order)">取消</button> <span ng-show="order.is_cancelled">已取消</span> </p> </div> <!-- Table --> <table class="table table-striped"> <tr> <th>商品名</th> <th>图片</th> <th>品牌</th> <th>数量</th> <th>单价</th> <th>优惠价</th> </tr> <tr ng-repeat="merchandise in order.merchandises"> <td>{{merchandise.name}}</td> <td></td> <td>{{merchandise.brand}}</td> <td>{{merchandise.number}}</td> <td style="text-align: right">¥ {{merchandise.price}}</td> <td>{{merchandise.discount}}</td> </tr> </table> </div> </div> </div> </div> '),
a.put("views/order/state.html",'<button class="btn btn-warning disabled" ng-show="order.state === \'CANCELLED\'">已取消 </button> <button class="btn btn-warning" ng-show="showState(order, \'CANCELLED\')" ng-click="state(order.id, \'CANCELLED\')">拒绝 </button> <button class="btn btn-success" ng-show="showState(order, \'ACCEPTED\')" ng-click="state(order.id, \'ACCEPTED\')">接单 </button> <button class="btn btn-success" ng-show="showState(order, \'DELIVERED\')" ng-click="state(order.id, \'DELIVERED\')">发货 </button> <button class="btn btn-success" ng-show="showState(order, \'RECEIVED\')" ng-click="state(order.id, \'RECEIVED\')">已经发货 </button> <button class="btn btn-success" ng-show="showState(order, \'UNREACHABLE\')" ng-click="state(order.id, \'UNREACHABLE\')">无法送达 </button> <button class="btn btn-success" ng-show="showState(order, \'RECEIVED\')" ng-click="state(order.id, \'RECEIVED\')">已收货 </button> <button class="btn btn-success" ng-show="showState(order, \'RECEIVED\')" ng-click="state(order.id, \'RECEIVED\')">已收货 </button> <button class="btn btn-success" ng-show="showState(order, \'RECEIVED\')" ng-click="state(order.id, \'RECEIVED\')">已收货 </button> <button class="btn btn-success" ng-show="showState(order, \'RECEIVED\')" ng-click="state(order.id, \'RECEIVED\')">已收货 </button>'),a.put("views/pagination.html",'<ul class="pagination"> <li ng-show="page > 1"><a href="#/{{ base }}/list/1">&laquo;</a></li> <li class="disabled" ng-show="page <= 1"><a href="#/{{ base }}/list/1">&laquo;</a></li> <li><a href="#/{{base}}/list/{{page - 2}}" ng-show="page - 2 > 0">{{page - 2}}</a></li> <li><a href="#/{{ base }}/list/{{page - 1}}" ng-show="page - 1 > 0">{{page - 1}}</a></li> <li class="active"><a href="#/{{ base }}/list/{{page}}">{{page}} <span class="sr-only">(current)</span></a></li> <li><a href="#/{{ base }}/list/{{page - 0 + 1}}" ng-show="(page - 0 + 1) <= total">{{page - 0 + 1}}</a></li> <li><a href="#/{{ base }}/list/{{page - 0 + 2}}" ng-show="(page - 0 + 2) <= total">{{page - 0 + 2}}</a></li> <li ng-show="page < total"><a href="#/{{ base }}/list/{{total}}">&raquo;</a></li> <li class="disabled" ng-show="page >= total"><a href="#/{{ base }}/list/{{total}}">&raquo;</a></li> <li class="disabled page-of-all"><a>第{{page}}页 / 共{{total}}页</a></li> </ul>'),a.put("views/password/retrieve.html",'<div class="header-bar"> <div class="container"> <div class="row"> <div class="col-md-3 col-xs-2"></div> <div class="col-md-6 col-xs-8">密码找回</div> <div class="col-md-3 col-xs-2"></div> </div> </div> </div> <div class="body-bar"> <div class="container"> <div class="row"> <div class="col-md-12 col-xs-12 col-lg-12"> <form class="form-horizontal"> <div class="form-group"> <label for="email" class="col-sm-2 control-label">邮箱</label> <div class="col-sm-10"> <input type="text" class="form-control" id="email" placeholder="输入注册邮箱!" name="email" required autofocus> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label"></label> <div class="col-sm-10"> <input type="button" class="btn btn-info btn-block" ng-click="retrieve()" value="重置密码"> </div> </div> </form> <p class="alert-default visible-xs-block" role="alert"> 没有账号?马上 <a class="btn btn-warning btn-xs" href="#/user/register">注册</a> </p> <p class="alert-primary visible-xs-block text-right" role="alert"> 已经有账号？马上 <a class="btn btn-default btn-xs" href="#/user/login">登录</a> </p> </div> </div> </div> </div> <!-- /container --> <div ng-include src="\'views/modal.html\'"></div> <div ng-include src="\'views/footer.html\'"></div> '),a.put("views/pay/alipay-form.html",'<br> <div class="alert alert-info" role="alert">正在开发中...敬请关注</div>'),a.put("views/pay/main.html",'<div ng-include src="\'views/navbar.html\'"></div> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'views/sidebar.html\'"></div> </div> </div> <div class="col-md-10"> <h4 class="text-center">支付管理</h4> <ul class="nav nav-pills"> <li role="presentation" class="active"><a data-toggle="tab" aria-controls="weixin">微信支付</a></li> <li role="presentation"><a data-toggle="tab" aria-controls="alipay">支付宝支付</a></li> <li role="presentation"><a data-toggle="tab" aria-controls="others">其它</a></li> </ul> <div class="tab-content"> <div role="tabpanel" class="tab-pane active" name="weixin"> <div ng-include src="\'views/pay/weixin-form.html\'"></div> </div> <div role="tabpanel" class="tab-pane" name="alipay"> <div ng-include src="\'views/pay/alipay-form.html\'"></div> </div> <div role="tabpanel" class="tab-pane" name="others"> <p>暂不支付其它方式的支付形式</p> </div> </div> </div> </div> </div> <div ng-include src="\'views/modal.html\'"></div>'),a.put("views/pay/weixin-form.html",'<br> <form class="form-horizontal weixin"> <div class="form-group"> <label for="app-id" class="col-sm-2 control-label">App ID</label> <div class="col-sm-10"> <input type="text" class="form-control" id="app-id" ng-model="weixin.app_id" name="app_id" placeholder="App Id"> </div> </div> <div class="form-group"> <label for="app-secret" class="col-sm-2 control-label">App Secret</label> <div class="col-sm-10"> <input type="text" class="form-control" id="app-secret" ng-model="weixin.app_secret" name="app_secret" placeholder="App Secret"> </div> </div> <div class="form-group"> <label for="app-token" class="col-sm-2 control-label">App Token</label> <div class="col-sm-10"> <input type="text" class="form-control" id="app-token" ng-model="weixin.app_token" name="app_token" placeholder="App Token"> </div> </div> <div class="form-group"> <label for="merchant-id" class="col-sm-2 control-label">商家ID</label> <div class="col-sm-10"> <input type="text" class="form-control" id="merchant-id" ng-model="weixin.merchant_id" name="merchant_id" placeholder="Merchant ID"> </div> </div> <div class="form-group"> <label for="merchant-key" class="col-sm-2 control-label">商家Key</label> <div class="col-sm-10"> <input type="text" class="form-control" id="merchant-key" ng-model="weixin.merchant_key" name="merchant_key" placeholder="Merchant Key"> </div> </div> <div class="form-group"> <label for="merchant_pfx" class="col-sm-2 control-label">签名文件(.p12)</label> <div class="col-sm-10"> <input type="file" class="form-control" id="merchant_pfx" name="merchant_pfx" accept=".p12" placeholder="签名文件"> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="submit" class="btn btn-default" ng-click="weixinSet()">设置</button> </div> </div> </form>'),a.put("views/sidebar.html",'<div class="list-group items navbar-toggle-item-left" id="bs-navbar"> <a href="#/new/order" class="list-group-item" name=" pay-management" ng-class="{\'active\': module == \'new\'}">新的订单</a> <a href="#/store/profile" class="list-group-item" name="profile-management" ng-class="{\'active\': module == \'profile\'}">门店信息</a> <a href="#/store/location" class="list-group-item" name="location-management" ng-class="{\'active\': module == \'location\'}">门店定位</a> <a href="#/merchandise/0/none/all/list/1" class="list-group-item" name="merchandise-management" ng-class="{\'active\': module == \'merchandise\'}">商品管理</a> <!--<a href="#/pay" class="list-group-item" name=" pay-management" ng-class="{\'active\': module == \'pay\'}">支付管理</a>--> <a href="#/category/0/list/1" class="list-group-item" name="category-management" ng-class="{\'active\': module == \'category\'}">分类管理</a> <a href="#/barcode/list/1" class="list-group-item" name="barcode-management" ng-class="{\'active\': module == \'barcode\'}">条形码管理 </a> <a href="#/order/list/1" class="list-group-item" name="order-management" ng-class="{\'active\': module == \'order\'}">订单管理 </a> <a href="#/subscribed/list/1" class="list-group-item" name="subscribed-management" ng-class="{\'active\': module == \'subscribed\'}">订阅用户管理 </a> <!--<a href="#/dashboard/employee/list/1" class="list-group-item " name="employee-management" ng-class="{\'active\': module == \'employee\'}">员工管理</a>--> <!--<a href="#/dashboard/activity/list/1" class="list-group-item " name="activity-management" ng-class="{\'active\': module == \'activity\'}">活动管理</a>--> <!--<a href="#/dashboard/special/list/1" class="list-group-item " name="special-management" ng-class="{\'active\': module == \'special\'}">专题管理</a>--> <!--<a href="#/dashboard/promote/list/1" class="list-group-item " name="promote-management"ng-class="{\'active\': module == \'promote\'}">首页促销管理</a>--> </div>'),a.put("views/subscribed/list.html",'<div ng-include src="\'views/navbar.html\'"></div> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'views/sidebar.html\'"></div> </div> </div> <div class="col-md-10"> <div class="row mini-header"> <h4 class="text-center">订阅用户管理<span class="hidden-xs">(总订阅: {{count}})</span></h4> </div> <div class="row mobile-main"> <br> <div class="table-responsive"> <table class="table table-striped text-center"> <tr> <th class="text-center">ID</th> <th class="text-center">用户名</th> </tr> <tr ng-repeat="item in subscibed"> <td>{{item.id}}</td> <td>{{item.user.username}}</td> </tr> </table> </div> </div> </div> <div ng-include src="\'views/pagination.html\'"></div> </div> </div> <div ng-include src="\'views/modal.html\'"></div>'),a.put("views/user/dashboard.html",'<div ng-include src="\'views/navbar.html\'"></div> <div class="container"> <div class="row"> <div class="col-md-2"> <div class="list-group"> <div ng-include src="\'views/sidebar.html\'"></div> </div> </div> <div class="col-md-10"> <div class="row mini-header"> <h4 class="text-center">用户中心</h4> </div> </div> <div class="container"> <div class="row"> <div class="alert alert-danger">敬请等待上线...</div> </div> </div> <!-- /container --> </div> </div> '),a.put("views/user/edit.html",'<div class="modal fade" id="modify" tableindex="-1" role="dialog" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <h3 class="modal-title">修改个人信息</h3> </div> <div class="modal-body"> <form class="form-horizontal user modify" role="form" enctype="multipart/form-data"> <input type="hidden" name="id" ng-model="id" value="{{user.id}}"> <div class="form-group"> <label class="col-sm-2 control-label">用户名:</label> <div class="col-sm-10"> <input type="email" class="form-control" ng-model="user.username" name="username" placeholder="名称" required> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">手机号:</label> <div class="col-sm-10"> <input type="tel" class="form-control" ng-model="user.phone" name="phone" placeholder="电话" required> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">电子邮箱:</label> <div class="col-sm-10"> <input type="text" class="form-control" ng-model="user.email" name="email" placeholder="地址" required> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">简介:</label> <div class="col-sm-10"> <textarea class="form-control" ng-model="user.extra.intro" name="intro" placeholder="简介" required></textarea> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">头像:</label> <div class="col-sm-10"> <img ng-src="{{user.logo.url}}" ng-show="user.logo.url" class="user-edit-image-{{user.logo.id}}" ng-click="removeImage(user.logo.id)" height="80px" style="padding: 2px"> <input type="file" class="form-control" id="mod-file" name="logo" placeholder="请输入图片"> </div> </div> <div class="form-group"> <div class="col-sm-offset-2 col-sm-10"> <button type="button" class="btn btn-primary" ng-click="modify(user)">修改</button> </div> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-default" data-dismiss="modal">返回</button> </div> </div> </div> </div>'),a.put("views/user/feedback.html",'<div class="header-bar"> <div class="container"> <div class="row"> <div class="col-md-3 col-xs-3"> <a href="#/user/home"> <i class="fa fa-arrow-left"></i> </a> </div> <div class="col-md-6 col-xs-6"> 意见反馈 </div> <div class="col-md-3 col-xs-3"> </div> </div> </div> </div> <div class="body-bar"> <div class="container"> <div class="row"> <div class="col-xs-12"> <form class="feedback"> <div class="form-group"> <label for="feedback">请输入您的意见或建议</label> <textarea name="feedback" class="form-control" id="feedback"></textarea> </div> <div class="form-group"> <button type="button" class="btn btn-danger btn-block" ng-click="feedback()">提交</button> </div> </form> </div> </div> </div> </div> <div ng-include src="\'views/footer.html\'"></div>'),a.put("views/user/home.html",'<div class="header-bar"> <div class="container"> <div class="row"> <div class="col-md-3 col-xs-3"> </div> <div class="col-md-6 col-xs-6"> 店长信息 </div> <div class="col-md-3 col-xs-3"> </div> </div> </div> </div> <div class="body-bar"> <div class="user"> <div class="list margin-top"> <a class="profile" href="#/user/profile"> <div class="logo"><img ng-src="{{user.extra.logo.url}}" class="image-uploader"></div> <div class="content"> <h1> {{user.extra.nickname || "&nbsp;"}} </h1> <h2> {{user.username || "&nbsp;"}} </h2> </div> </a> </div> <div class="list margin-top"> <a class="list-select-item" href="#/user/password"> 密码修改 </a> <!-- <a class="list-select-item" href="#/user/password">\n          密码修改\n        </a> --> </div> <div class="list margin-top"> <a class="list-select-item" href="#/user/feedback"> 意见反馈 </a> <!-- <a class="list-select-item" href="#/user/settings">\n          系统设置\n        </a> --> </div> <div class="list margin-top"> <a class="list-select-item-no-arrow" ng-click="logout()"> 退出 </a> </div> </div> </div> <div ng-include src="\'views/footer.html\'"></div>'),a.put("views/user/login.html",'<div class="header-bar"> <div class="container"> <div class="row"> <div class="col-md-3 col-xs-2"></div> <div class="col-md-6 col-xs-8">店长登录</div> <div class="col-md-3 col-xs-2"></div> </div> </div> </div> <div class="body-bar"> <div class="container"> <div class="row"> <div class="col-md-12 col-xs-12 col-lg-12"> <form class="form-horizontal"> <div class="form-group"> <label for="username" class="col-sm-2 control-label">账号</label> <div class="col-sm-10"> <input type="text" class="form-control" id="username" placeholder="账号" name="username" ng-model="username" required autofocus> </div> </div> <div class="form-group"> <label for="password" class="col-sm-2 control-label">密码</label> <div class="col-sm-10"> <input type="password" id="password" class="form-control" name="password" placeholder="密码" ng-model="password" required> </div> </div> <div class="form-group"> <label for="password" class="col-sm-1 control-label"></label> <div class="col-sm-11"> <button class="btn btn-danger btn-block" type="submit" ng-click="login()">登录</button> </div> <label for="password" class="col-sm-4 control-label"></label> </div> </form> <p class="alert-default visible-xs-block" role="alert"> 没有账号?马上 <a class="btn btn-warning btn-xs" href="#/user/register">注册</a> </p> <p class="alert-primary visible-xs-block text-right" role="alert"> 忘记密码？马上 <a class="btn btn-default btn-xs" href="#/user/password/retrieve">找回</a> </p> <!-- <p class="alert alert-info visible-xs-block" role="alert">提示：在PC或者平板上进行操作可能会更方便</p> --> </div> </div> </div> </div> <!-- /container --> <div ng-include src="\'views/modal.html\'"></div> <div ng-include src="\'views/footer.html\'"></div>'),a.put("views/user/password.html",'<div class="header-bar"> <div class="container"> <div class="row"> <div class="col-md-3 col-xs-3"> <a href="#/user/home"> <i class="fa fa-arrow-left"></i> </a> </div> <div class="col-md-6 col-xs-6"> 密码修改 </div> <div class="col-md-3 col-xs-3"> </div> </div> </div> </div> <div class="body-bar"> <div class="container"> <div class="row"> <div class="col-xs-12"> <form class="form-horizontal password"> <div class="form-group"> <label for="old_passowrd" class="col-sm-2 control-label">原密码</label> <div class="col-sm-10"> <input type="password" class="form-control" id="old_passowrd" placeholder="输入原密码" name="old" required autofocus> </div> </div> <div class="form-group"> <label for="new_passowrd" class="col-sm-2 control-label">新密码</label> <div class="col-sm-10"> <input type="password" class="form-control" id="new_passowrd" placeholder="输入新密码" name="new" required autofocus> </div> </div> <div class="form-group"> <label for="confirm" class="col-sm-2 control-label">确认密码</label> <div class="col-sm-10"> <input type="password" class="form-control" id="confirm" placeholder="输入确认密码" name="confirm" required autofocus> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label"></label> <div class="col-sm-10"> <input type="button" class="btn btn-danger btn-block" ng-click="updatePassword()" value="更新"> </div> </div> </form> </div> </div> </div> </div> <div ng-include src="\'views/footer.html\'"></div>'),a.put("views/user/profile.html",'<div class="header-bar"> <div class="container"> <div class="row"> <div class="col-md-3 col-xs-2"> <a href="#/user/home"> <i class="fa fa-arrow-left"></i> </a> </div> <div class="col-md-6 col-xs-8">我的信息</div> <div class="col-md-3 col-xs-2"></div> </div> </div> </div> <div class="body-bar"> <div class="container"> <div class="row"> <div class="col-xs-12"> <form class="form-horizontal user-profile modify"> <div class="form-group"> <label for="nickname" class="col-xs-2 control-label">昵称</label> <div class="col-xs-10"> <input type="text" class="form-control" name="nickname" id="nickname" placeholder="" value="{{user.extra.nickname}}"> </div> </div> <div class="form-group"> <label for="phone" class="col-xs-2 control-label">电话</label> <div class="col-xs-10"> <input type="text" class="form-control" name="phone" id="phone" placeholder="" value="{{user.phone}}"> </div> </div> <div class="form-group"> <label for="email" class="col-xs-2 control-label">邮箱</label> <div class="col-xs-10"> <input type="text" class="form-control" name="email" id="email" placeholder="" value="{{user.email}}"> </div> </div> <div class="form-group"> <label for="intro" class="col-xs-2 control-label">介绍</label> <div class="col-xs-10"> <textarea class="form-control" name="intro" id="intro" placeholder="">{{user.extra.intro}}</textarea> </div> </div> <div class="form-group"> <label for="logo" class="col-xs-2 control-label">头像</label> <div class="col-xs-10"> <img ng-src="{{user.extra.logo.url}}" name="image-logo" class="image-uploader"> <!-- <span class="cross"><i class="fa fa-plus"></i></span> --> <div class="image-uploader"> <input type="file" id="logo" class="image-uploader" name="image" onchange="angular.element(this).scope().fileChanged()"> </div> </div> </div> <div class="form-group"> <button type="button" class="btn btn-danger btn-block" ng-click="modify()">保存</button> </div> </form> </div> </div> </div> </div> <div ng-include src="\'views/footer.html\'"></div>'),a.put("views/user/register.html",'<div class="header-bar"> <div class="container"> <div class="row"> <div class="col-md-3 col-xs-2"></div> <div class="col-md-6 col-xs-8">店长注册</div> <div class="col-md-3 col-xs-2"></div> </div> </div> </div> <div class="body-bar"> <div class="container"> <div class="row"> <div class="col-md-12 col-xs-12 col-lg-12"> <form class="form-horizontal user-register"> <div class="form-group"> <label for="username" class="col-xs-2 control-label">账号</label> <div class="col-xs-10"> <input type="text" class="form-control" id="username" placeholder="账号" name="username" ng-model="username" required autofocus> </div> </div> <div class="form-group"> <label for="password" class="col-xs-2 control-label">密码</label> <div class="col-xs-10"> <input type="password" id="password" class="form-control" name="password" placeholder="密码" ng-model="password" required> </div> </div> <div class="form-group"> <label for="confirm" class="col-xs-2 control-label">确认</label> <div class="col-xs-10"> <input type="password" name="confirm" class="form-control" id="confirm" placeholder="确认密码" ng-model="confirm" required> </div> </div> <div class="form-group"> <label for="email" class="col-xs-2 control-label">邮箱</label> <div class="col-xs-10"> <input type="email" class="form-control" id="email" placeholder="邮箱" ng-model="email" required> </div> </div> <div class="form-group"> <label for="phone" class="col-xs-2 control-label">手机号</label> <div class="col-xs-10"> <input type="phone" class="form-control" id="phone" placeholder="手机号" ng-model="phone"> </div> </div> <div class="form-group"> <label for="phone" class="col-xs-2 control-label"></label> <div class="col-xs-12"> <button class="btn btn-success btn-block" type="submit" ng-click="register()">注册</button> </div> </div> </form> <p class="alert-primary visible-xs-block text-left" role="alert"> 已有账号? 马上 <a class="btn btn-danger btn-xs" href="#/user/login">登录</a> </p> <p class="alert-primary visible-xs-block text-right" role="alert"> 忘记密码？马上 <a class="btn btn-default btn-xs" href="#/user/password/retrieve">找回</a> </p> </div> </div> </div> </div> <!-- /container --> <div ng-include src="\'views/modal.html\'"></div> <div ng-include src="\'views/footer.html\'"></div> ')}]);